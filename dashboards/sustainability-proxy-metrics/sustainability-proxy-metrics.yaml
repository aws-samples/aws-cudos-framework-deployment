dashboards:
  SUS-DASH:
    category: 'Additional'
    dependsOn:
      datasets:
      - carbon_emissions_longform
      - sus_carbon_emissions
      - sus_compute_ec2
      - sus_compute_split
      - sus_geo_region_athena
      - sus_idle_elb
      - sus_idle_natgw
      - sus_network
      - sus_s3_storage_all
      - sus_storage_athena
    name: Sustainability Proxy Metrics And CCFT
    dashboardId: sustainability-proxy-metrics
    theme: MIDNIGHT
    data: |-
      AnalysisDefaults:
        DefaultNewSheetConfiguration:
          InteractiveLayoutConfiguration:
            Grid:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1280px
                  ResizeOption: FIXED
          SheetContentType: INTERACTIVE
      CalculatedFields:
      - DataSetIdentifier: carbon_emissions_longform
        Expression: |-
          ifelse(metric = 'gridmixinefficiency', 'Emission savings from AWS renewable energy purchases' ,
          metric = 'servermedianinefficiency', 'Emission savings from using AWS computing services' ,
          metric = 'mbmcarbon', 'Estimated carbon emissions' ,
          "none"
          )
        Name: metric_speaking
      - DataSetIdentifier: sus_carbon_emissions
        Expression: 'ifelse({account_name} = '''', {account_id} , {account_name})
          '
        Name: Account Name
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(
          locate({product_physical_processor},'Intel') > 0, 'Intel',
          locate({product_physical_processor},'AMD') > 0, 'AMD',
          locate({product_physical_processor},'Graviton') > 0, 'Graviton',
          locate({product_physical_processor},'Apple') > 0, 'Apple',
          'Unknown'
          )
        Name: Processor Type
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {vcpu_hours} ,
          ${GroupByPara} = 'Linked Account', {vcpu_hours} / {account_business_metric} ,
          ${GroupByPara} = 'Environment Tag', {vcpu_hours} / {tag_business_metric} ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_compute_split
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_compute_split
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {vcpu_hours} ,
          ${GroupByPara} = 'Linked Account', {vcpu_hours} / {account_business_metric} ,
          ${GroupByPara} = 'Environment Tag', {vcpu_hours} / {tag_business_metric} ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_geo_region_athena
        Expression: ifelse(is95percentrenewable = 1 ,"2023", "Target")
        Name: EnergySource
      - DataSetIdentifier: sus_idle_elb
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_idle_elb
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {sum_line_item_usage_amount} ,
          ${GroupByPara} = 'Linked Account', {sum_line_item_usage_amount} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag',{sum_line_item_usage_amount} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_idle_elb
        Expression: '{bill_billing_period_start_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_idle_natgw
        Expression: '{bill_billing_period_start_date}'
        Name: ' line_item_usage_start_date'
      - DataSetIdentifier: sus_idle_natgw
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_idle_natgw
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {sum_line_item_usage_amount} ,
          ${GroupByPara} = 'Linked Account', {sum_line_item_usage_amount} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag',{sum_line_item_usage_amount} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_idle_natgw
        Expression: '{bill_billing_period_start_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
          ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}
          ),
          {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {usage_amount_in_tb} ,
          ${GroupByPara} = 'Linked Account', {usage_amount_in_tb} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag', {usage_amount_in_tb} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(
              {line_item_operation} = 'InterZone-In' or {line_item_operation} = 'InterZone-Out',
              'Inter AZ',
               {line_item_operation} = 'VPCPeering-In' or {line_item_operation} = 'VPCPeering-Out',
              'VPC Peering',
              {line_item_operation} = 'CreateVpnConnection' and (locate({line_item_usage_type},'DataTransfer-Out-Bytes') <> 0 or locate({line_item_usage_type},'AWS-Out-Bytes') <> 0),
              'Region to VPN',
              locate({line_item_usage_type},'AWS-Out-Bytes') <> 0,
              'Region to Region',
              {line_item_product_code} = 'AWSDirectConnect',
              'Region to DirectConnect',
              {line_item_product_code} = 'AmazonCloudFront',
              'Amazon CloudFront',
              locate({line_item_usage_type},'DataTransfer-Out-Bytes') <> 0,
              'Region to Internet',
              locate({line_item_usage_type},'TransitGateway-Bytes') <> 0,
              'Transit Gateway Data Processed',
              {line_item_operation} = 'PublicIP-In' or {line_item_operation} = 'PublicIP-Out' or {line_item_operation} = 'LoadBalancing-PublicIP-In' or {line_item_operation} = 'LoadBalancing-PublicIP-Out' or {line_item_operation}  = 'VpcEndpoint',
              'Inter AZ',
              'Other'
          )
        Name: TransferType
      - DataSetIdentifier: sus_s3_storage_all
        Expression: ifelse(${GroupByPara} = 'Linked Account', {6a3cecf1-7160-48cd-91e9-a6a07ddd44fc.linked_account_id},
          {6a3cecf1-7160-48cd-91e9-a6a07ddd44fc.resource_tags_user_application})
        Name: CalcFWorkload
      - DataSetIdentifier: sus_s3_storage_all
        Expression: |-
          ifelse(
              ${GroupByPara} = 'Linked Account', ifelse({account_name} = '', {linked_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_s3_storage_all
        Expression: ifelse(${GroupByPara} = 'Linked Account', {linked_account_id}, {resource_tags_user_application})
        Name: KPiAdjustedUsage
      - DataSetIdentifier:
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {usage_quantity} ,
          ifelse(${GroupByPara} = 'Linked Account', {usage_quantity} / accbuskpi ,
          ifelse(${GroupByPara} = 'Environment Tag', {usage_quantity} / tagbuskpi , 0
          )))
        Name: ScaledValue
      - DataSetIdentifier: sus_s3_storage_all
        Expression: '{usage_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_storage_athena
        Expression: |-
          ifelse(
              ${GroupByPara} = 'Linked Account', ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_storage_athena
        Expression: |-
          ifelse(
              ${IncludeKPI} = 'No',               usage,
              ${GroupByPara} = 'Linked Account',  usage / accbuskpi ,
              ${GroupByPara} = 'Environment Tag', usage / tagbuskpi ,
              0
          )
        Name: ScaledValue
      ColumnConfigurations:
      - Column:
          ColumnName: cost
          DataSetIdentifier: sus_geo_region_athena
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 2
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: region_latitude
          DataSetIdentifier: sus_geo_region_athena
        Role: DIMENSION
      - Column:
          ColumnName: region_longitude
          DataSetIdentifier: sus_geo_region_athena
        Role: DIMENSION
      - Column:
          ColumnName: ScaledValue
          DataSetIdentifier: sus_network
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              NumberDisplayFormatConfiguration:
                NullValueFormatConfiguration:
                  NullString: 'null'
                Suffix: TB
      - Column:
          ColumnName: usage_amount_in_tb
          DataSetIdentifier: sus_network
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              NumberDisplayFormatConfiguration:
                NullValueFormatConfiguration:
                  NullString: 'null'
                Suffix: TB
      DataSetIdentifierDeclarations:
      - DataSetArn: arn:aws:quicksight:::dataset/aca88952-9aff-4b3d-9619-b309d3f7d76c
        Identifier: sus_compute_split
      - DataSetArn: arn:aws:quicksight:::dataset/c8a8cb07-8d9d-4b90-9862-e2a7e1370908
        Identifier: sus_idle_natgw
      - DataSetArn: arn:aws:quicksight:::dataset/12419d71-ec67-4e23-bd1f-fcd7b34c82f9
        Identifier: sus_carbon_emissions
      - DataSetArn: arn:aws:quicksight:::dataset/cf4c1a8b-6e9a-4cac-b2da-d82c970271e4
        Identifier: sus_compute_ec2
      - DataSetArn: arn:aws:quicksight:::dataset/2794b73a-4469-4b9c-ba4e-d1de93460b8b
        Identifier: sus_idle_elb
      - DataSetArn: arn:aws:quicksight:::dataset/411db3d5-6368-4359-a4a6-29dbb64c9e33
        Identifier: sus_s3_storage_all
      - DataSetArn: arn:aws:quicksight:::dataset/656e7432-12cf-4b1c-a48f-24e4f4b48843
        Identifier: sus_network
      - DataSetArn: arn:aws:quicksight:::dataset/b5c8fb38-99a9-4764-9eac-7cbfa856571e
        Identifier: sus_geo_region_athena
      - DataSetArn: arn:aws:quicksight:::dataset/af858de6-f6ef-4961-88c4-964aa1266b9a
        Identifier: sus_storage_athena
      - DataSetArn: arn:aws:quicksight:::dataset/814f2ac6-3205-43b8-ac8b-bab4dc1c864a
        Identifier: carbon_emissions_longform
      FilterGroups:
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 52f87545-d3b8-45c0-9148-da6b8d46c388
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: f211f5c0-a896-4932-80a0-73cd7f0e2ac8.usage_date
              DataSetIdentifier: d01a936f-2b8f-49dd-8f95-d9c7130c5e46
            FilterId: d82d18d5-82a8-48bb-80e2-0d09dbec7875
            IncludeMaximum: false
            IncludeMinimum: true
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              Parameter: EndDate
            RangeMinimumValue:
              Parameter: StartDate
            TimeGranularity: DAY
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 8e8cac4d-8d13-4cf2-8ca2-5e3de093e26a
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 77907915-3979-4880-9750-ac6617fd83ea
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_storage_athena
            FilterId: 9f1e1c2f-0bfb-450e-aac5-9a44e226ac50
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 6
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: bd74ef4d-0d98-4a1a-97bf-59a5352241ff
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: b505e712-f323-4bb4-ab4a-837f9fc5888b
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_storage_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 86c036b2-5ce8-42d2-a84d-1efd0ed9104a
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: bd74ef4d-0d98-4a1a-97bf-59a5352241ff
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 4945d044-5857-4e26-8c89-768a9eeb3635
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: pricing_unit
              DataSetIdentifier: sus_s3_storage_all
            Configuration:
              CustomFilterConfiguration:
                CategoryValue: GB-Mo
                MatchOperator: EQUALS
                NullOption: NON_NULLS_ONLY
            FilterId: caac5bb4-f556-4475-a609-9931a3518d88
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: bd74ef4d-0d98-4a1a-97bf-59a5352241ff
              VisualIds:
              - d3e13b7d-fe5f-479e-b8b9-62bd0d965145
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 8b258d89-56ff-462a-b723-e1fb0d6d5e9f
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_network
            FilterId: 6da7de44-c53e-4eb1-9f1a-2de035c2825f
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 6
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 79117f56-7653-4ad4-a5ed-2306ad69a91e
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: c4d96f5c-293e-499d-8010-ba5a3740b33c
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_network
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 2fdbd16b-e07d-4b5c-b5f0-a38c7451ce94
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 79117f56-7653-4ad4-a5ed-2306ad69a91e
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 904c5556-4c90-4136-ba89-d4c6ba1cec88
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_compute_split
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 2293a83b-5836-493d-8c1a-63e798dfd19c
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 8e8cac4d-8d13-4cf2-8ca2-5e3de093e26a
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 76ff731f-2383-4742-b1ad-6a524c6eb0b0
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_compute_split
            FilterId: 7b613744-a8f4-46db-a5b5-7aeb0da534b7
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 24
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 8e8cac4d-8d13-4cf2-8ca2-5e3de093e26a
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 33b9e87f-2253-4bb7-ad36-3d6eb14bb576
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: accountid
              DataSetIdentifier: sus_carbon_emissions
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 4dc7a6e5-19a2-433d-a22f-fb078b17f46a
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: e5a60f56-b9b7-40e5-91aa-987b5f70acf3
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: f244c343-08aa-4e4c-84eb-c9ecfd96664f
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: operation
              DataSetIdentifier: sus_s3_storage_all
            Configuration:
              CustomFilterConfiguration:
                CategoryValue: StorageLens
                MatchOperator: DOES_NOT_EQUAL
                NullOption: ALL_VALUES
            FilterId: f7735569-9de7-4106-81c4-ad2e8ffce5a3
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: bd74ef4d-0d98-4a1a-97bf-59a5352241ff
              VisualIds:
              - e4a0c828-69df-47ab-b597-b8389177fc0e
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: b0119f70-3da5-478d-a73b-40afb340c1bd
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: Account Name
              DataSetIdentifier: sus_carbon_emissions
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: c51f5f0b-5f99-4d7f-9bfc-1419796a6341
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: e5a60f56-b9b7-40e5-91aa-987b5f70acf3
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: a4a96c0f-2863-44a8-b6a3-84da850cff08
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: metric_speaking
              DataSetIdentifier: carbon_emissions_longform
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 907d404c-c218-41c8-b8d7-e3041fb2230b
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: e5a60f56-b9b7-40e5-91aa-987b5f70acf3
              VisualIds:
              - a31027d5-1668-4967-9524-7d426d4bbad8
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 896e0115-fc5f-4c9a-b2f4-c0ea24cca234
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: startdate
              DataSetIdentifier: sus_carbon_emissions
            FilterId: 80c1db3c-7046-4887-b5cd-429be83aa953
            IncludeMaximum: true
            IncludeMinimum: true
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              RollingDate:
                Expression: truncDate('DD', now())
            RangeMinimumValue:
              RollingDate:
                Expression: addDateTime(-24, 'MM', truncDate('MM', now()))
            TimeGranularity: DAY
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: e5a60f56-b9b7-40e5-91aa-987b5f70acf3
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 16589d28-e102-4d8a-ae41-d3bff092272b
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: aadd0580-031b-4477-b5ef-99e054729999
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 3
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - d20563c5-d6de-42b5-9aa5-4327960abcee
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: d4a1532e-4730-4747-accc-e435f9e4b7a5
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: e3cdf8fd-e1c3-4e26-91c8-7fc8bf718a43
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - d20563c5-d6de-42b5-9aa5-4327960abcee
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 430ce6ef-8db6-4544-be2b-8202b425edf3
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: 63237af4-724d-4be0-9bde-b5891439417b
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 300
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - 22de809c-985e-419e-8164-3f06dd52a2bf
        Status: DISABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 54181248-a575-49f5-a3e8-a9759d92ffc1
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 723e30f2-2133-4095-b6c0-da578014d74d
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - 22de809c-985e-419e-8164-3f06dd52a2bf
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: d425bece-026a-4951-9688-e80ce8c354fa
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: 120888c3-1fb5-4369-8947-cc990069df15
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 300
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - 5c0178cf-b9fd-4567-9637-00e4202edd81
        Status: DISABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 85046f11-8888-42e5-bc19-359083a65584
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: ea64eb82-b6dd-46dd-bd48-1a014b4a0148
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
              VisualIds:
              - 5c0178cf-b9fd-4567-9637-00e4202edd81
        Status: ENABLED
      Options: {}
      ParameterDeclarations:
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 30.0
          Name: ComputeODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 10.0
          Name: EC2SpotGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 10.0
          Name: EC2PreviousGeneration
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: EC2GravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: EC2AMDGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: EBSgp3ofgpGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 25.0
          Name: EBSSnapshotGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 65.0
          Name: S3StandardGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: RDSGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: ElastiCacheGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: OpenSearchGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: LambdaGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: SagemakerODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: RDSODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: ElastiCacheODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: OpenSearchODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: RedshiftODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: DynamoDBODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: AccountID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: PayerAccountID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: Organization
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: BusinessUnit
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: Team
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: AccountName
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: MinSnapshotStartDate
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: S3CoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EBSCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EC2CoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EBSSnapshotType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: OtherGravitonCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: ResourceID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: OnDemandCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EBSvolume
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: S3bucket
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EBSsnapshot
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EC2instance
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: OtherGravitonResourceID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: OtherGravitonServices
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Usage
          Name: CommitCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Metrics Summary
          Name: Metrics
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Compute SP
          Name: ComputeCommitType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Linked Account
          Name: GroupByPara
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 'No'
          Name: IncludeKPI
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Scope 1
            - Scope 2 - Location Based
          Name: Scopes
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: addDateTime(-12, 'MM', truncDate('MM', now()))
            StaticValues: []
          Name: StartDate
          TimeGranularity: DAY
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: truncDate('DD', now())
            StaticValues: []
          Name: EndDate
          TimeGranularity: DAY
      - DateTimeParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 2024-01-01 01:00:00+01:00
          Name: Date
          TimeGranularity: DAY
      Sheets:
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1280px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: d20563c5-d6de-42b5-9aa5-4327960abcee
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 14
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 22de809c-985e-419e-8164-3f06dd52a2bf
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 35
                ElementId: 5c0178cf-b9fd-4567-9637-00e4202edd81
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 12
        Name: Regional Footprint
        SheetId: ce592008-069c-4719-9b7d-ecba16a8b7e1
        Visuals:
        - LineChartVisual:
            Actions: []
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_date
                        DataSetIdentifier: sus_geo_region_athena
                      DateGranularity: WEEK
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                      HierarchyId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region.1.1683545126741
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: cost
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1683545133448
              PrimaryYAxisDisplayOptions:
                AxisOptions:
                  AxisOffset: 69px
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region.1.1683545126741
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1683545133448
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: LINE
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: <visual-title>Regional Use Over Time</visual-title>
              Visibility: VISIBLE
            VisualId: 5c0178cf-b9fd-4567-9637-00e4202edd81
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  To achieve our goal of powering our operations\
                  \ with 100% renewable energy by \n  <inline color=\"#ffb91e\">2025</inline>\n\
                  \  \u2014five years ahead of our original 2030 target\u2014Amazon contracts\
                  \ for renewable power from utility scale wind and solar projects that\
                  \ add clean energy to the grid. These new renewable projects support hundreds\
                  \ of jobs while providing hundreds of millions of dollars of investment\
                  \ in local communities. We also may choose to support these grids through\
                  \ the purchase of environmental attributes, like Renewable Energy Certificates\
                  \ and Guarantees of Origin, in line with our \n  <a href=\"https://sustainability.aboutamazon.com/renewable-energy-methodology.pdf\"\
                  \ target=\"_self\">Renewable Energy Methodology</a>\n  .\n  <br/>\n  As\
                  \ a result, in \n  <inline color=\"#e2ff18\">2023</inline>\n  , the electricity\
                  \ consumed in the following 22 AWS Regions was attributable to 100% renewable\
                  \ energy:\n  <br/>\n  <br/>\n  <ul>\n    <li>U.S. East (Northern Virginia)</li>\n\
                  \    <li>GovCloud (U.S. East)</li>\n    <li>U.S. East (Ohio)</li>\n  \
                  \  <li>U.S. West (Oregon)</li>\n    <li>GovCloud (U.S. West)</li>\n  \
                  \  <li>U.S. West (Northern California)</li>\n    <li>Canada (Central)</li>\n\
                  \    <li>Canada (West)</li>\n    <li>Europe (Ireland)</li>\n    <li>Europe\
                  \ (Frankfurt)</li>\n    <li>Europe (London)</li>\n    <li>Europe (Milan)</li>\n\
                  \    <li>Europe (Paris)</li>\n    <li>Europe (Stockholm)</li>\n    <li>Europe\
                  \ (Spain)</li>\n    <li>Europe (Zurich)</li>\n    <li>Asia-Pacific (Mumbai)</li>\n\
                  \    <li>Asia-Pacific (Hyderabad)</li>\n    <li>Asia-Pacific (Osaka)</li>\n\
                  \    <li>Asia-Pacific (Tokyo)</li>\n    <li>China (Beijing)</li>\n   \
                  \ <li>China (Ningxia)</li>\n  </ul>\n  <br/>\n  <br/>\n  Choose Regions\
                  \ near Amazon renewable energy projects and Regions where the grid has\
                  \ a published carbon intensity that is lower than other locations. (or\
                  \ Regions)\n  <br/>\n  <br/>\n  For more infomation, please see :\n  <a\
                  \ href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_region_a2.html\"\
                  \ target=\"_self\">here</a>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: 22de809c-985e-419e-8164-3f06dd52a2bf
        - GeospatialMapVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                GeospatialMapAggregatedFieldWells:
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: EnergySource
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                  Geospatial:
                  - NumericalDimensionField:
                      Column:
                        ColumnName: region_longitude
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_longitude.0.1726835238853
                  - NumericalDimensionField:
                      Column:
                        ColumnName: region_latitude
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_latitude.1.1726835253543
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: cost
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1726835267865
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_longitude.0.1726835238853
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_latitude.1.1726835253543
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1726835267865
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              VisualPalette:
                ChartColor: '#FF8700'
                ColorMap:
                - Color: '#F7E65A'
                  Element:
                    FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                    FieldValue: '2022'
                - Color: '#F7E65A'
                  Element:
                    FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                    FieldValue: '2023'
              WindowOptions:
                Bounds:
                  East: 135.56892590498506
                  North: 78.71456975677884
                  South: -1.1073881303064468
                  West: -26.8342861382701
                MapZoomMode: MANUAL
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Last 3 months rolling</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: "<visual-title>Distribution of cost by AWS Region - Coloured by\
                  \ renewable energy.\_</visual-title>"
              Visibility: VISIBLE
            VisualId: d20563c5-d6de-42b5-9aa5-4327960abcee
      - ContentType: INTERACTIVE
        Description: "To build a sustainable business for our customers and for the world\
          \ we all share, we\u2019re designing data centers that provide the efficient,\
          \ resilient service our customers expect while minimizing our environmental footprint\u2014\
          and theirs."
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 9884e25a-602b-48b3-9f36-361073e16ec9
            SourceFilterId: 7b613744-a8f4-46db-a5b5-7aeb0da534b7
            Title: Date Range
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 0bf8988e-a8d6-49cb-8773-b1a562998584
            SourceFilterId: 2293a83b-5836-493d-8c1a-63e798dfd19c
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 4a99a6ba-87dc-4a69-8aaf-6004b6cb2877
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 3
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 4a08ef4d-b92c-4c7f-a266-19dc78026bb2
                ElementType: VISUAL
                RowIndex: 3
                RowSpan: 10
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 64056ade-d211-4376-a716-9264f3a30dd8
                ElementType: VISUAL
                RowIndex: 13
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 848e0d1d-5bff-4e38-a441-c5982c298915
                ElementType: VISUAL
                RowIndex: 22
                RowSpan: 7
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 7b860165-77b2-4393-855a-06333f4d5494
                ElementType: VISUAL
                RowIndex: 22
                RowSpan: 7
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: edfab82d-73a9-4f40-9171-40852720d8ab
                ElementType: VISUAL
                RowIndex: 29
                RowSpan: 7
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: aa471b57-124b-4137-bd20-afdf22c737ea
                ElementType: TEXT_BOX
                RowIndex: 29
                RowSpan: 7
        Name: Compute Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 2e786626-8983-4cba-81f6-b378adcdb89d
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 06020d7c-3eeb-4cf8-9325-33683f2b9615
            SelectableValues:
              Values:
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 3
                ElementId: 2e786626-8983-4cba-81f6-b378adcdb89d
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 3
                ColumnSpan: 3
                ElementId: 06020d7c-3eeb-4cf8-9325-33683f2b9615
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 8
                ColumnSpan: 2
                ElementId: 9884e25a-602b-48b3-9f36-361073e16ec9
                ElementType: FILTER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 10
                ColumnSpan: 2
                ElementId: 0bf8988e-a8d6-49cb-8773-b1a562998584
                ElementType: FILTER_CONTROL
                RowIndex: 0
                RowSpan: 1
        SheetId: 8e8cac4d-8d13-4cf2-8ca2-5e3de093e26a
        TextBoxes:
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Compute</b>
              </inline>
              <br/>
              <br/>
              Using the capabilities of the cloud, you can make frequent changes to your workload implementations. Update deployed components as your needs change.
              <br/>
              <ul>
                <li>Enable horizontal scaling, and use automation to scale out as loads increase and to scale in as loads decrease.</li>
                <li>Scale using small increments for variable workloads.</li>
                <li>Align scaling with cyclical utilization patterns (for example, a payroll system with intense bi-weekly processing activities) as load varies over days, weeks, months, or years.</li>
                <li>Negotiate service level Agreements (SLAs) that allow for a temporary reduction in capacity while automation deploys replacement resources.</li>
              </ul>
            </text-box>
          SheetTextBoxId: 4a99a6ba-87dc-4a69-8aaf-6004b6cb2877
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Alignment to demand</b>
              </inline>
              <br/>
              <br/>
              The way users and applications consume your workloads and other resources can help you identify improvements to meet sustainability goals. Scale infrastructure to continually match demand and verify that you use only the minimum resources required to support your users. Align service levels to customer needs. Position resources to limit the network required for users and applications to consume them. Remove unused assets. Provide your team members with devices that support their needs and minimize their sustainability impact.
              <br/>
              Best practices
              <br/>
              <ul>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a2.html" target="_self">SUS02-BP01 Scale workload infrastructure dynamically</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a3.html" target="_self">SUS02-BP02 Align SLAs with sustainability goals</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a4.html" target="_self">SUS02-BP03 Stop the creation and maintenance of unused assets</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a5.html" target="_self">SUS02-BP04 Optimize geographic placement of workloads based on their networking requirements</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a6.html" target="_self">SUS02-BP05 Optimize team member resources for activities performed</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a7.html" target="_self">SUS02-BP06 Implement buffering or throttling to flatten the demand curve</a>
                </li>
              </ul>
            </text-box>
          SheetTextBoxId: aa471b57-124b-4137-bd20-afdf22c737ea
        Visuals:
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: Processor Type
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: b7e46fd5-313a-4872-9257-9e7c6872f839.2.1700239237143
                  Values: []
              Legend:
                Title:
                  Visibility: HIDDEN
                Width: 134px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: b7e46fd5-313a-4872-9257-9e7c6872f839.2.1700239237143
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>processor architecture</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: edfab82d-73a9-4f40-9171-40852720d8ab
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_instance_type_family
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700238921353
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
              Legend:
                Title:
                  Visibility: HIDDEN
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700238921353
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>instance family</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 7b860165-77b2-4393-855a-06333f4d5494
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                ScrollbarOptions:
                  VisibleRange:
                    PercentRange:
                      From: 80.0
                      To: 100.0
              CategoryLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_split
                      FieldId: baf7b28d-5890-4873-b630-d3ee666f73ab.2.1720097182952
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: line_item_product_code
                        DataSetIdentifier: sus_compute_split
                      FieldId: 3b98fdf2-4730-401d-b095-59581cce1db9.account_email_id.2.1720097164432
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_split
                      FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
              Legend:
                Height: 73px
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3b98fdf2-4730-401d-b095-59581cce1db9.account_email_id.2.1720097164432
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: baf7b28d-5890-4873-b630-d3ee666f73ab.2.1720097182952
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: "<visual-title>\n  vCPU hours per\n  <b>compute type (Amazon EC2,\
                  \ AWS Lambda, AWS Fargate on Amazon EKS/ Amazon ECS)</b>\n  \_by account/\
                  \ tag.\n</visual-title>"
              Visibility: VISIBLE
            VisualId: 4a08ef4d-b92c-4c7f-a266-19dc78026bb2
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisuals:
                      - edfab82d-73a9-4f40-9171-40852720d8ab
                      - 7b860165-77b2-4393-855a-06333f4d5494
                      - 848e0d1d-5bff-4e38-a441-c5982c298915
              CustomActionId: 065f054a-6628-4d25-97ed-71569be54d84
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              CategoryLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_instance_type_family
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700234180601
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
              Legend:
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700234180601
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: "<visual-title>\n  EC2 vCPU hours per\n  <b>\_instance family</b>\n\
                  \  \_by account/ tag. Select account/ tag here to filter visuals by.\n\
                  </visual-title>"
              Visibility: VISIBLE
            VisualId: 64056ade-d211-4376-a716-9264f3a30dd8
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.2.1700238123828
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
              Legend:
                Title:
                  Visibility: HIDDEN
                Width: 134px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.2.1700238123828
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>account/ tag</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 848e0d1d-5bff-4e38-a441-c5982c298915
      - ContentType: INTERACTIVE
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 7740190f-fa1b-4449-a482-d095b11266c3
            SourceFilterId: 9f1e1c2f-0bfb-450e-aac5-9a44e226ac50
            Title: Date Range
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 554e1afc-a5b6-47e7-a14d-f5c8dc88a669
            SourceFilterId: 86c036b2-5ce8-42d2-a84d-1efd0ed9104a
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: f7ed35cd-49b5-455e-82eb-924a1e37c2a3
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 5
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: ac6ae3b9-fb64-4072-9f99-c10a150a3c02
                ElementType: VISUAL
                RowIndex: 5
                RowSpan: 9
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 1af2659b-934b-460c-b6b5-c248b2387817
                ElementType: VISUAL
                RowIndex: 5
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: d3e13b7d-fe5f-479e-b8b9-62bd0d965145
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 10
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: e4a0c828-69df-47ab-b597-b8389177fc0e
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 10
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: e6f75b3a-b89c-4df4-939b-c52526909052
                ElementType: TEXT_BOX
                RowIndex: 24
                RowSpan: 5
        Name: Storage Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 51a16e42-465d-44a9-8821-53c2859a9fa5
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: dd44d939-0e0e-4598-8dda-2564e6ea2374
            SelectableValues:
              Values:
              - ''
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnSpan: 2
                ElementId: 51a16e42-465d-44a9-8821-53c2859a9fa5
                ElementType: PARAMETER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: dd44d939-0e0e-4598-8dda-2564e6ea2374
                ElementType: PARAMETER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 7740190f-fa1b-4449-a482-d095b11266c3
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 554e1afc-a5b6-47e7-a14d-f5c8dc88a669
                ElementType: FILTER_CONTROL
                RowSpan: 1
        SheetId: bd74ef4d-0d98-4a1a-97bf-59a5352241ff
        TextBoxes:
        - Content: "<text-box>\n  <inline font-size=\"20px\">\n    <b>Storage</b>\n  </inline>\n\
            \  <br/>\n  <br/>\n  Implement data management practices to reduce the provisioned\
            \ storage required to support your workload, and the resources required to use\
            \ it. Understand your data, and use storage technologies and configurations\
            \ that best support the business value of the data and how it\u2019s used. Lifecycle\
            \ data to more efficient, less performant storage when requirements decrease,\
            \ and delete data that\u2019s no longer required.\n  <br/>\n  <br/>\n  <ul>\n\
            \    <li>Implement a data classification policy</li>\n    <li>Use technologies\
            \ that support data access and storage patterns SUS04-BP03 Use lifecycle policies\
            \ to delete unnecessary data\_</li>\n    <li>Minimize over-provisioning in block\
            \ storage\_</li>\n    <li>Remove unneeded or redundant data Use shared file\
            \ systems or object storage to access common data\_</li>\n    <li>Minimize data\
            \ movement across networks\_</li>\n    <li>Back up data only when difficult\
            \ to recreate</li>\n  </ul>\n</text-box>"
          SheetTextBoxId: f7ed35cd-49b5-455e-82eb-924a1e37c2a3
        - Content: "<text-box>\n  Implement data management practices to reduce the provisioned\
            \ storage required to support your workload, and the resources required to use\
            \ it. Understand your data, and use storage technologies and configurations\
            \ that best support the business value of the data and how it\u2019s used. Lifecycle\
            \ data to more efficient, less performant storage when requirements decrease,\
            \ and delete data that\u2019s no longer required.\n  <br/>\n  Best practices\n\
            \  <br/>\n  <ul>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a2.html\"\
            \ target=\"_self\">SUS04-BP01 Implement a data classification policy</a>\n \
            \   </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a3.html\"\
            \ target=\"_self\">SUS04-BP02 Use technologies that support data access and\
            \ storage patterns</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a4.html\"\
            \ target=\"_self\">SUS04-BP03 Use policies to manage the lifecycle of your datasets</a>\n\
            \    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a5.html\"\
            \ target=\"_self\">SUS04-BP04 Use elasticity and automation to expand block\
            \ storage or file system</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a6.html\"\
            \ target=\"_self\">SUS04-BP05 Remove unneeded or redundant data</a>\n    </li>\n\
            \    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a7.html\"\
            \ target=\"_self\">SUS04-BP06 Use shared file systems or storage to access common\
            \ data</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a8.html\"\
            \ target=\"_self\">SUS04-BP07 Minimize data movement across networks</a>\n \
            \   </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a9.html\"\
            \ target=\"_self\">SUS04-BP08 Back up data only when difficult to recreate</a>\n\
            \    </li>\n  </ul>\n  <br/>\n</text-box>"
          SheetTextBoxId: e6f75b3a-b89c-4df4-939b-c52526909052
        Visuals:
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: cf3be7eb-d856-4660-aaa6-68da231e9a91
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_storage_athena
                      DateGranularity: WEEK
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                      HierarchyId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: bill_payer_account_id
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.bill_payer_account_id.2.1683560131825
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_storage_athena
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1681309891696
              Legend:
                Position: BOTTOM
                Title:
                  CustomLabel: Volume Type
              PrimaryYAxisLabelOptions:
                Visibility: HIDDEN
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1681309891696
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.bill_payer_account_id.2.1683560131825
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
              XAxisLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>EBS Storge usage by Volume Type (Can drill from
                  graph on left)</visual-title>
              Visibility: VISIBLE
            VisualId: 1af2659b-934b-460c-b6b5-c248b2387817
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 89e15c6c-2428-420a-8f8b-f47efc1de7a2
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: GroupByCalcF
                      DataSetIdentifier: sus_storage_athena
                    FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  CustomLabel: Workload
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: line_item_operation
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_operation.2.1683546352209
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_storage_athena
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
              Legend:
                Height: 39px
                Position: TOP
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_operation.2.1683546352209
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_storage_athena
                    FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                  CustomLabel: 'Sum Gb '
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: <visual-title>EBS Storage GB per month, split by Volume Type.
                  Select Workload to drill to volume  type on right</visual-title>
              Visibility: VISIBLE
            VisualId: ac6ae3b9-fb64-4072-9f99-c10a150a3c02
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration: {}
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisuals:
                      - 1af2659b-934b-460c-b6b5-c248b2387817
                      - ac6ae3b9-fb64-4072-9f99-c10a150a3c02
                      - e4a0c828-69df-47ab-b597-b8389177fc0e
              CustomActionId: b2f051f9-8c6a-4448-bace-1e9759d9543f
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 59cccdaa-584e-476e-88c2-f9e1b3baf622.1.1720082236358
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: operation
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1726834683405
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
              Legend:
                Height: 72px
                Position: TOP
                Title:
                  Visibility: HIDDEN
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 59cccdaa-584e-476e-88c2-f9e1b3baf622.1.1720082236358
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1726834683405
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>S3 Storage GB per month, split by S3 Storage Classes.
                  Select Workload to drill to volume  type on right</visual-title>
              Visibility: VISIBLE
            VisualId: d3e13b7d-fe5f-479e-b8b9-62bd0d965145
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: a5036eb4-98eb-4089-9335-7d4675426170
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_date
                        DataSetIdentifier: sus_s3_storage_all
                      DateGranularity: WEEK
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                      HierarchyId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: operation
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1683546585263
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
              Legend:
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              PrimaryYAxisLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_s3_storage_all
                    FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
                  CustomLabel: Scaled GB
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1683546585263
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>S3 usage by S3 Storage Classes in GB (Can drill
                  down into workload using graph on the left)</visual-title>
              Visibility: VISIBLE
            VisualId: e4a0c828-69df-47ab-b597-b8389177fc0e
      - ContentType: INTERACTIVE
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 1e1f5b6f-628f-4363-bc72-eab5c694ad9c
            SourceFilterId: 6da7de44-c53e-4eb1-9f1a-2de035c2825f
            Title: Date Range
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: a8b04538-0d3d-4963-8242-03c294342c8d
            SourceFilterId: 2fdbd16b-e07d-4b5c-b5f0-a38c7451ce94
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 4
                ElementId: 2ff7484f-0d0d-4189-a231-011b1e0dee24
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 4
                ColumnSpan: 16
                ElementId: 2473bf4d-9072-4c4c-8aff-16120eed2541
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 20
                ColumnSpan: 16
                ElementId: ee42374c-ebb5-4d34-a7a8-8a886b990c60
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 2f986936-23e9-4e75-9e89-041d0f7f04b8
                ElementType: TEXT_BOX
                RowIndex: 9
                RowSpan: 5
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: ed5f3ce1-b586-4175-8500-ab4fe8e0ad5f
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 9
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 4d10dd70-e006-45f3-8a9c-a8056a574590
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: f46bfae0-ea2e-4c4f-907f-9f1d9ea7b4a8
                ElementType: TEXT_BOX
                RowIndex: 29
                RowSpan: 6
        Name: Data Transfer / Networking Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: d7c3a6ca-195e-49e2-bd1b-997a730e499f
            SelectableValues:
              Values:
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: f0ea9132-ca93-4fe4-bc76-e88c2111b6d5
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnIndex: 4
                ColumnSpan: 2
                ElementId: f0ea9132-ca93-4fe4-bc76-e88c2111b6d5
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 6
                ColumnSpan: 2
                ElementId: d7c3a6ca-195e-49e2-bd1b-997a730e499f
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 1e1f5b6f-628f-4363-bc72-eab5c694ad9c
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: a8b04538-0d3d-4963-8242-03c294342c8d
                ElementType: FILTER_CONTROL
                RowSpan: 1
        SheetId: 79117f56-7653-4ad4-a5ed-2306ad69a91e
        TextBoxes:
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Data Transfer</b>
              </inline>
              <br/>
              <br/>
              Use shared storage and access data from regional data stores to minimize the total networking resources required to support data movement for your workload.
            </text-box>
          SheetTextBoxId: 2ff7484f-0d0d-4189-a231-011b1e0dee24
        - Content: "<text-box>\n  <inline color=\"#fffbfb\" font-size=\"20px\">\n    <b>Minimize\
            \ data movement across networks</b>\n  </inline>\n  <br/>\n  <br/>\n  <inline\
            \ color=\"#fffbfb\">Use shared file systems or object storage to access common\
            \ data and minimize the total networking resources required to support data\
            \ movement for your workload.</inline>\n  <br/>\n  <inline color=\"#fffbfb\"\
            >\n    <b>Common anti-patterns:</b>\n  </inline>\n  <br/>\n  <ul>\n    <li>\n\
            \      <inline color=\"#fffbfb\">You store all data in the same AWS Region independent\
            \ of where the data users are.</inline>\n    </li>\n    <li>\n      <inline\
            \ color=\"#fffbfb\">You do not optimize data size and format before moving it\
            \ over the network.</inline>\n    </li>\n  </ul>\n  <br/>\n  <inline color=\"\
            #fffbfb\">\n    <b>Benefits of establishing this best practice:</b>\n  </inline>\n\
            \  <inline color=\"#fffbfb\">\_Optimizing data movement across the network reduces\
            \ the total networking resources required for the workload and lowers its environmental\
            \ impact.</inline>\n  <br/>\n  <inline color=\"#fffbfb\">\n    <b>Level of risk\
            \ exposed if this best practice is not established:</b>\n  </inline>\n  <inline\
            \ color=\"#fffbfb\">\_Mediu</inline>\n  m\n  <br/>\n  <br/>\n  <br/>\n  Implementation\
            \ Guidance can be found :\n  <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a8.html\"\
            \ target=\"_blank\">here</a>\n</text-box>"
          SheetTextBoxId: 2f986936-23e9-4e75-9e89-041d0f7f04b8
        - Content: "<text-box>\n  <inline color=\"#fdfdfd\" font-size=\"20px\">\n    <b>Use\
            \ the minimum amount of hardware to meet your needs</b>\n  </inline>\n  <br/>\n\
            \  <br/>\n  <inline color=\"#fdfdfd\">Use the minimum amount of hardware for\
            \ your workload to efficiently meet your business needs.</inline>\n  <br/>\n\
            \  <inline color=\"#fdfdfd\">\n    <b>Common anti-patterns:</b>\n  </inline>\n\
            \  <br/>\n  <ul>\n    <li>\n      <inline color=\"#fdfdfd\">You do not monitor\
            \ resource utilization.</inline>\n    </li>\n    <li>\n      <inline color=\"\
            #fdfdfd\">You have resources with a low utilization level in your architecture.</inline>\n\
            \    </li>\n    <li>\n      <inline color=\"#fdfdfd\">You do not review the\
            \ utilization of static hardware to determine if it should be resized.</inline>\n\
            \    </li>\n    <li>\n      <inline color=\"#fdfdfd\">You do not set hardware\
            \ utilization goals for your compute infrastructure based on business KPIs.</inline>\n\
            \    </li>\n  </ul>\n  <br/>\n  <inline color=\"#fdfdfd\">\n    <b>Benefits\
            \ of establishing this best practice:</b>\n  </inline>\n  <inline color=\"#fdfdfd\"\
            >\_Rightsizing your cloud resources helps to reduce a workload\u2019s environmental\
            \ impact, save money, and maintain performance benchmarks.</inline>\n  <br/>\n\
            \  <inline color=\"#fdfdfd\">\n    <b>Level of risk exposed if this best practice\
            \ is not established:</b>\n  </inline>\n  <inline color=\"#fdfdfd\">\_Medium</inline>\n\
            \  <br/>\n  <br/>\n  <inline color=\"#fdfdfd\">More infomation can be found\_\
            </inline>\n  <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_hardware_a2.html\"\
            \ target=\"_blank\">here</a>\n</text-box>"
          SheetTextBoxId: f46bfae0-ea2e-4c4f-907f-9f1d9ea7b4a8
        Visuals:
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 6499e9be-d5fa-4857-b4ce-ba3d08abf412
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: GroupByCalcF
                      DataSetIdentifier: sus_network
                    FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                  CustomLabel: Workload
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_network
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: TransferType
                        DataSetIdentifier: sus_network
                      FieldId: fcbd1a4b-bbf5-4c36-a76d-2fd01f3bd7d7.2.1681738442985
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_network
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
              Legend:
                Height: 38px
                Position: BOTTOM
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: fcbd1a4b-bbf5-4c36-a76d-2fd01f3bd7d7.2.1681738442985
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Data Transfer Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    Type of Data Transfer by
                    <parameter>${GroupByPara}</parameter>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 2473bf4d-9072-4c4c-8aff-16120eed2541
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 564bd394-a85a-40e3-b175-44890e11970d
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_network
                      FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                      HierarchyId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_network
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1684932771784
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_network
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.0.1684932729355
              PrimaryYAxisLabelOptions:
                Visibility: HIDDEN
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.0.1684932729355
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1684932771784
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
              XAxisLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Data Transfer Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Data Transfer by workload over time</visual-title>
              Visibility: VISIBLE
            VisualId: ee42374c-ebb5-4d34-a7a8-8a886b990c60
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: ' line_item_usage_start_date'
                        DataSetIdentifier: sus_idle_natgw
                      DateGranularity: MONTH
                      FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                      HierarchyId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_idle_natgw
                      FieldId: 63dc79c9-c563-49a4-a28a-e8102725ac36.0.1685015384992
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_idle_natgw
                      FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 63dc79c9-c563-49a4-a28a-e8102725ac36.0.1685015384992
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_idle_natgw
                    FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
                  CustomLabel: Usage
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Idle NAT Gateways - (No data going through them)</visual-title>
              Visibility: VISIBLE
            VisualId: ed5f3ce1-b586-4175-8500-ab4fe8e0ad5f
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: bill_billing_period_start_date
                      DataSetIdentifier: sus_idle_elb
                    FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                  CustomLabel: Month / Year
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: bill_billing_period_start_date
                        DataSetIdentifier: sus_idle_elb
                      DateGranularity: MONTH
                      FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                      HierarchyId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_idle_elb
                      FieldId: 42aa41d6-62fb-45bc-a9ce-72c024737eb1.2.1685016596634
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_idle_elb
                      FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 42aa41d6-62fb-45bc-a9ce-72c024737eb1.2.1685016596634
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_idle_elb
                    FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
                  CustomLabel: Usage
            ColumnHierarchies:
            - DateTimeHierarchy:
                HierarchyId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Idle Elastic Load Balancers - (Little traffic over
                  montly period)</visual-title>
              Visibility: VISIBLE
            VisualId: 4d10dd70-e006-45f3-8a9c-a8056a574590
      - ContentType: INTERACTIVE
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: f5270920-b7c3-48a4-8b28-1313c9f31ece
            SourceFilterId: 80c1db3c-7046-4887-b5cd-429be83aa953
            Title: Date Range
        - List:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SearchOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: beaf3a1b-a886-4357-bea5-f6c4fc732618
            SourceFilterId: 907d404c-c218-41c8-b8d7-e3041fb2230b
            Title: Include
            Type: MULTI_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: a1c215fe-e377-45f7-b2fd-8277b7b1d69a
            SourceFilterId: 4dc7a6e5-19a2-433d-a22f-fb078b17f46a
            Title: Account ID
            Type: MULTI_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 225eba72-8347-420f-941c-aab825887c44
            SourceFilterId: c51f5f0b-5f99-4d7f-9bfc-1419796a6341
            Title: Management Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1280px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: a59bf304-620c-43dd-b6f5-0f724d15b98b
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 5
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 1dd99e6a-ddd4-4bf0-b112-f20fc1d12646
                ElementType: VISUAL
                RowIndex: 5
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 19
                ElementId: 6695e917-765c-4d42-b8fe-6b9a1982938f
                ElementType: TEXT_BOX
                RowIndex: 17
                RowSpan: 4
              - ColumnIndex: 19
                ColumnSpan: 17
                ElementId: beaf3a1b-a886-4357-bea5-f6c4fc732618
                ElementType: FILTER_CONTROL
                RowIndex: 17
                RowSpan: 4
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: a31027d5-1668-4967-9524-7d426d4bbad8
                ElementType: VISUAL
                RowIndex: 21
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 4839ac58-4787-4633-b1eb-5a0cd7dff0b5
                ElementType: VISUAL
                RowIndex: 33
                RowSpan: 12
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 883dc4b7-7e87-4a7b-bc5d-cfb979ba6b61
                ElementType: VISUAL
                RowIndex: 33
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: bab683bc-a3db-4d13-82f9-f956d88cd178
                ElementType: VISUAL
                RowIndex: 45
                RowSpan: 12
        Name: AWS Customer Carbon Footprint Tool Data
        SheetId: e5a60f56-b9b7-40e5-91aa-987b5f70acf3
        TextBoxes:
        - Content: "<text-box>\n  <inline font-size=\"20px\">\n    <b>AWS Customer Carbon\
            \ Footprint Tool</b>\n  </inline>\n  <br/>\n  <br/>\n  You can use the\n  <a\
            \ href=\"https://aws.amazon.com/aws-cost-management/aws-customer-carbon-footprint-tool/\"\
            \ target=\"_blank\">\_AWS Customer Carbon Footprint Tool\_</a>\n  (CCFT) to view\
            \ estimates of the carbon emissions associated with your AWS products and services.\n\
            \  <br/>\n  These visuals show data from the AWS Customer Carbon Footprint Tool,\
            \ made available through the\n  <a href=\"https://github.com/aws-samples/experimental-programmatic-access-ccft\"\
            \ target=\"_blank\">\_experimental programmatic access</a>\n  . To learn more\
            \ about the methodology of the customer carbon footprint tool, check out the\n\
            \  <a href=\"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/what-is-ccft.html\
            \ \" target=\"_blank\">\_documentation</a>\n  .\n  <br/>\n  <br/>\n  The default\
            \ deployment of the CCFT graphs below is designed to return\n  <inline color=\"\
            #fb0707\">\_No Data</inline>\n  . In order to view data, you must deploy the\n\
            \  <a href=\"https://github.com/aws-samples/experimental-programmatic-access-ccft\"\
            \ target=\"_blank\">\_experimental programmatic access</a>\n  , and update the\
            \ Amazon Athena views as documented in the\n  <a href=\"https://catalog.workshops.aws/well-architected-sustainability/en-US/5-process-and-culture/cur-reports-as-efficiency-reports/4-install-sus-dashboard\"\
            \ target=\"_blank\">\_Sustainability Proxy Metrics deployment guide</a>\n  .\n\
            </text-box>"
          SheetTextBoxId: a59bf304-620c-43dd-b6f5-0f724d15b98b
        - Content: "<text-box>\n  Total Carbon emissions (Scope 1 and Scope 2 market-based)\
            \ and Emission savings over all selected Account IDs per month for all selected\
            \ metrics\n  <br/>\n  <br/>\n  <inline color=\"#989595\">Select Date Range and\
            \ Account ID's in the control on top, metrics to include on the right.</inline>\n\
            \  <br/>\n  <br/>\n  <inline color=\"#989595\">\n    <b>Emission savings from\
            \ AWS purchase of renewable energy</b>\n  </inline>\n  <inline color=\"#989595\"\
            >: this number is the difference between the carbon footprint emissions calculated\
            \ using the location-based method (LBM) and the market-based\_</inline>\n  <br/>\n\
            \  <inline color=\"#989595\">method (MBM).</inline>\n</text-box>"
          SheetTextBoxId: 6695e917-765c-4d42-b8fe-6b9a1982938f
        Visuals:
        - SankeyDiagramVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 245db76e-b801-413a-9cbe-dbd50172abe8.regioncode.0.1710235708996
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 33c5b97c-75f4-4be5-a08a-377c3b8a22cd
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                SankeyDiagramAggregatedFieldWells:
                  Destination:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: paceproductcode
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: a76d55cc-a67b-4ff3-8097-745706bf40fe.paceproductcode.2.1720088616373
                  Source:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: regioncode
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.regioncode.0.1710235708996
                  Weight:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: mbmcarbon
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235711465
              SortConfiguration:
                WeightSort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235711465
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Select Date Range and Account ID's in the control
                  on top</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Mapping of carbon emissions from geographical areas
                  to product codes</visual-title>
              Visibility: VISIBLE
            VisualId: bab683bc-a3db-4d13-82f9-f956d88cd178
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 245db76e-b801-413a-9cbe-dbd50172abe8.paceproductcode.2.1710235693562
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: b9c80245-c051-4f65-965b-a7994f663517
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: startdate
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710235673445
                  CustomLabel: Date
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: startdate
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710235673445
                      HierarchyId: 5d01bc86-6fd0-48c2-ae29-5f4f1187081a
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: paceproductcode
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.paceproductcode.2.1710235693562
                      FormatConfiguration:
                        NullValueFormatConfiguration:
                          NullString: 'null'
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: mbmcarbon
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235681176
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 3
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Title:
                  CustomLabel: Product Code
                Width: 100px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710235673445
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710235673445
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235681176
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.paceproductcode.2.1710235693562
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: mbmcarbon
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235681176
                  CustomLabel: Carbon emissions (MTCO2e)
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 5d01bc86-6fd0-48c2-ae29-5f4f1187081a
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Select Date Range and Account ID's in the control
                  on top</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Carbon emissions per Product per month</visual-title>
              Visibility: VISIBLE
            VisualId: 4839ac58-4787-4633-b1eb-5a0cd7dff0b5
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 245db76e-b801-413a-9cbe-dbd50172abe8.regioncode.0.1710235708996
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 90eacd25-0f56-4265-b438-00ecd68589b0
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: startdate
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.2.1710235718612
                  CustomLabel: Date
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: startdate
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.2.1710235718612
                      HierarchyId: 435b29fc-ceda-46cd-a0e8-932385d60580
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: regioncode
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.regioncode.0.1710235708996
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: mbmcarbon
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235711465
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 3
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Title:
                  CustomLabel: Geographical Area
                Width: 153px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.2.1710235718612
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.regioncode.0.1710235708996
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235711465
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.2.1710235718612
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: mbmcarbon
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710235711465
                  CustomLabel: Carbon emissions (MTCO2e)
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 435b29fc-ceda-46cd-a0e8-932385d60580
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Select Date Range and Account ID's in the control
                  on top</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Carbon emissions per Geographical Area per month</visual-title>
              Visibility: VISIBLE
            VisualId: 883dc4b7-7e87-4a7b-bc5d-cfb979ba6b61
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: startdate
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710321714087
                  CustomLabel: Date
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: startdate
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710321714087
                      HierarchyId: 1ac71bbd-11ff-405b-b05c-3adabc52ae90
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: Account Name
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 5bb04396-4d04-47af-89be-d996793e34a8.2.1728647136713
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: mbmcarbon
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710321714087
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 3
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Title:
                  CustomLabel: Account ID
                Width: 116px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710321714087
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710321714087
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.startdate.0.1710321714087
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 5bb04396-4d04-47af-89be-d996793e34a8.2.1728647136713
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    FontConfiguration:
                      FontSize:
                        Relative: MEDIUM
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: mbmcarbon
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 245db76e-b801-413a-9cbe-dbd50172abe8.mbmcarbon.1.1710321714087
                  CustomLabel: Carbon emissions (MTCO2e)
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 1ac71bbd-11ff-405b-b05c-3adabc52ae90
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Select Date Range and Account ID's in the control
                  on top</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Total Carbon emissions (Scope 1 and Scope 2 market-based)
                  over all selected Account IDs per month</visual-title>
              Visibility: VISIBLE
            VisualId: 1dd99e6a-ddd4-4bf0-b112-f20fc1d12646
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: startdate
                      DataSetIdentifier: carbon_emissions_longform
                    FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.startdate.1.1720689364743
                  CustomLabel: Date
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: startdate
                        DataSetIdentifier: carbon_emissions_longform
                      DateGranularity: MONTH
                      FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.startdate.1.1720689364743
                      HierarchyId: 30e1574a-81b3-40ec-85e9-9c2005dfe73b
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: metric_speaking
                        DataSetIdentifier: carbon_emissions_longform
                      FieldId: 59bebdd6-b66d-42e8-bf7d-280860277c8b.2.1721654285868
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: value
                        DataSetIdentifier: carbon_emissions_longform
                      FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.value.0.1720689361709
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 3
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Height: 39px
                Position: RIGHT
                Title:
                  CustomLabel: Emissions & Savings
                Width: 335px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.startdate.1.1720689364743
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.value.0.1720689361709
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.startdate.1.1720689364743
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 59bebdd6-b66d-42e8-bf7d-280860277c8b.2.1721654285868
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: value
                      DataSetIdentifier: carbon_emissions_longform
                    FieldId: 1c4e087c-344e-4ad0-b986-aa01476f6091.value.0.1720689361709
                  CustomLabel: Carbon emissions (MTCO2e)
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 30e1574a-81b3-40ec-85e9-9c2005dfe73b
            Subtitle:
              Visibility: HIDDEN
            Title:
              Visibility: HIDDEN
            VisualId: a31027d5-1668-4967-9524-7d426d4bbad8
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            FreeFormLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
              Elements:
              - ElementId: e003c03e-fb53-4d77-b728-19d448fe178b
                ElementType: VISUAL
                Height: 272px
                Visibility: VISIBLE
                Width: 1792px
                XAxisLocation: 0px
                YAxisLocation: 0px
              - ElementId: 43cc365e-b935-4b6a-afa9-edbca2ad2ad1
                ElementType: VISUAL
                Height: 784px
                Visibility: VISIBLE
                Width: 1792px
                XAxisLocation: 0px
                YAxisLocation: 272px
        Name: About
        SheetId: 05e390e3-ff3a-4674-8b10-537aadaeb77d
        Visuals:
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  <inline font-size=\"54.88px\">Notices</inline>\n\
                  \  <br/>\n  <br/>\n  <inline font-size=\"19.2px\">Customers are responsible\
                  \ for making their own independent assessment of\_this dashboard and its\
                  \ content.\_This dashboard and its content: (a) is for informational purposes\
                  \ only, (b) represents current AWS product offerings and practices, which\
                  \ are subject to change without notice, and (c) does not create any commitments\
                  \ or assurances from AWS and its affiliates, suppliers or licensors. AWS\_\
                  content, products or services are provided \u201Cas is\u201D without warranties,\
                  \ representations, or conditions of any kind, whether express or implied.\
                  \ The responsibilities and liabilities of AWS to its customers are controlled\
                  \ by AWS agreements, and this document is not part of, nor does it modify,\
                  \ any agreement between AWS and its customers.</inline>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: e003c03e-fb53-4d77-b728-19d448fe178b
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  <block align=\"center\">\n    <inline font-size=\"\
                  68.8px\">Sustainability Proxy\_</inline>\n    <inline color=\"#f6f9f9\"\
                  \ font-size=\"68.8px\">Dashboard</inline>\n  </block>\n  <br/>\n  <block\
                  \ align=\"center\">\n    <inline font-size=\"68.8px\">\n      <b>v3.2.0</b>\n\
                  \    </inline>\n  </block>\n  <br/>\n  <block align=\"center\">\n    <inline\
                  \ font-size=\"22.4px\">\n      <b>Sustainability Dashboard Metrics Optimization\
                  \ Solution</b>\n    </inline>\n  </block>\n  <br/>\n  <block align=\"\
                  center\"/>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block align=\"\
                  right\"/>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block align=\"\
                  center\"/>\n  <br/>\n  <block align=\"center\"/>\n  <br/>\n  <block align=\"\
                  right\">Built by: Tom Coombs, Steffen Grunwald, Katja Philipp, Iakov Gan,\
                  \ Yuriy Prykhodko</block>\n  <br/>\n  <block align=\"right\">\n    Learn\
                  \ more about AWS Cloud Intelligence Dashboards (CID) on\n    <inline color=\"\
                  #61d1d6\">\n      <a href=\"https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/\"\
                  \ target=\"_blank\">AWS Well-Architected Labs</a>\n    </inline>\n   \
                  \ \_and\n    <inline color=\"#61d1d6\">\n      <a href=\"https://www.youtube.com/channel/UCl0O3ASMCwA_gw0QIKzoU3Q\"\
                  \ target=\"_blank\">CID YouTube Channel</a>\n    </inline>\n  </block>\n\
                  \  <br/>\n  <block align=\"right\">Powered by: Amazon QuickSight, Amazon Athena, Amazon\
                  \ S3</block>\n  <br/>\n  <block align=\"right\">\n    If you wish to provide\
                  \ feedback or report an error please email:\n    <inline color=\"#61d1d6\"\
                  >\_</inline>\n    <inline color=\"#61d1d6\">\n      <a href=\"mailto:cloud-intelligence-dashboards@amazon.com?subject=CID%20Dashboard%20Feedback\"\
                  \ target=\"_blank\">cloud-intelligence-dashboards@amazon.com</a>\n   \
                  \ </inline>\n  </block>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n\
                  \  <block align=\"center\"/>\n  <br/>\n  <block align=\"center\"/>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: 43cc365e-b935-4b6a-afa9-edbca2ad2ad1
datasets:
  sus_s3_storage_all:
    data:
      DataSetId: 411db3d5-6368-4359-a4a6-29dbb64c9e33
      Name: sus_s3_storage_all
      PhysicalTableMap:
        2ca2f9db-d270-4f8f-8e0d-cce6f039328f:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_s3_storage_all
            InputColumns:
            - Name: year
              Type: STRING
            - Name: month
              Type: STRING
            - Name: bill_payer_account_id
              Type: STRING
            - Name: billing_period
              Type: DATETIME
            - Name: usage_date
              Type: DATETIME
            - Name: payer_account_id
              Type: STRING
            - Name: linked_account_id
              Type: STRING
            - Name: resource_id
              Type: STRING
            - Name: product_code
              Type: STRING
            - Name: operation
              Type: STRING
            - Name: region
              Type: STRING
            - Name: charge_type
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: busskpitag
              Type: STRING
            - Name: busskpiacc
              Type: STRING
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: usage_quantity
              Type: DECIMAL
              SubType: FLOAT
            - Name: unblended_cost
              Type: DECIMAL
              SubType: FLOAT
            - Name: public_cost
              Type: DECIMAL
              SubType: FLOAT
        fe1b70ec-a568-4341-9265-db2fe41e6a13:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        79a028a3-aae7-4f70-8f72-e654a6bf1464:
          Alias: sus_s3_storage_all
          Source:
            PhysicalTableId: 2ca2f9db-d270-4f8f-8e0d-cce6f039328f
        e0e5acc2-6064-4bbe-9221-f60dd0357017:
          Alias: account_map
          Source:
            PhysicalTableId: fe1b70ec-a568-4341-9265-db2fe41e6a13
        e1c4d02c-a385-4759-9fdb-99624e7d1c1d:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - year
              - month
              - bill_payer_account_id
              - billing_period
              - usage_date
              - payer_account_id
              - linked_account_id
              - resource_id
              - product_code
              - operation
              - region
              - charge_type
              - pricing_unit
              - resource_tags_user_application
              - busskpitag
              - busskpiacc
              - tagbuskpi
              - accbuskpi
              - usage_quantity
              - unblended_cost
              - public_cost
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 79a028a3-aae7-4f70-8f72-e654a6bf1464
              RightOperand: e0e5acc2-6064-4bbe-9221-f60dd0357017
              Type: LEFT
              OnClause: '{linked_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_s3_storage_all
      - account_map
    schedules:
    - default
  sus_idle_elb:
    data:
      DataSetId: 2794b73a-4469-4b9c-ba4e-d1de93460b8b
      Name: sus_idle_elb
      PhysicalTableMap:
        8d1ead4d-1a2e-4641-947a-d8ffb40d653e:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        961a6efd-2ed4-4d1c-8f5a-e7ff676393c8:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_idle_elb
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: bill_billing_period_start_date
              Type: DATETIME
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: split_line_item_resource_id
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: sum_line_item_usage_amount
              Type: DECIMAL
              SubType: FLOAT
            - Name: resource_tags_user_application
              Type: STRING
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: sum_line_item_unblended_cost
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        16f9dbb4-1845-488b-9382-dba4fe06a027:
          Alias: sus_idle_elb
          Source:
            PhysicalTableId: 961a6efd-2ed4-4d1c-8f5a-e7ff676393c8
        338c012f-691e-4a8b-b163-b0d03d16da30:
          Alias: account_map
          Source:
            PhysicalTableId: 8d1ead4d-1a2e-4641-947a-d8ffb40d653e
        83c9024c-38bf-4e67-9802-523dbeea187f:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - bill_billing_period_start_date
              - line_item_usage_account_id
              - split_line_item_resource_id
              - product_region
              - pricing_unit
              - sum_line_item_usage_amount
              - resource_tags_user_application
              - tagbuskpi
              - accbuskpi
              - sum_line_item_unblended_cost
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 16f9dbb4-1845-488b-9382-dba4fe06a027
              RightOperand: 338c012f-691e-4a8b-b163-b0d03d16da30
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_idle_elb
    schedules:
    - default
  sus_compute_ec2:
    data:
      DataSetId: cf4c1a8b-6e9a-4cac-b2da-d82c970271e4
      Name: sus_compute_ec2
      PhysicalTableMap:
        862dc931-5aeb-45bd-aa09-0560920c43f0:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_compute_ec2
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_product_code
              Type: STRING
            - Name: product_instance_type_family
              Type: STRING
            - Name: product_physical_processor
              Type: STRING
            - Name: vcpu_hours
              Type: DECIMAL
              SubType: FLOAT
            - Name: tag_business_metric
              Type: INTEGER
            - Name: account_business_metric
              Type: INTEGER
        937e5fa9-bb37-4b63-a607-f8c1d0a7ca9b:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        49d5b0fd-0993-4374-a034-a87d662add3f:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - resource_tags_user_application
              - line_item_product_code
              - product_instance_type_family
              - product_physical_processor
              - vcpu_hours
              - tag_business_metric
              - account_business_metric
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: ab737a73-894c-4495-b12d-bf17cfb6b935
              RightOperand: 4d22feb2-2623-4113-a230-ee69aa825fd3
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        4d22feb2-2623-4113-a230-ee69aa825fd3:
          Alias: account_map
          Source:
            PhysicalTableId: 937e5fa9-bb37-4b63-a607-f8c1d0a7ca9b
        ab737a73-894c-4495-b12d-bf17cfb6b935:
          Alias: sus_compute_ec2
          Source:
            PhysicalTableId: 862dc931-5aeb-45bd-aa09-0560920c43f0
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_compute_ec2
      - account_map
    schedules:
    - default
  sus_carbon_emissions:
    data:
      DataSetId: 12419d71-ec67-4e23-bd1f-fcd7b34c82f9
      Name: sus_carbon_emissions
      PhysicalTableMap:
        1dc4c009-196c-489a-970b-561bf4acef6b:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_carbon_emissions_view
            InputColumns:
            - Name: accountid
              Type: STRING
            - Name: querydate
              Type: DATETIME
            - Name: startdate
              Type: DATETIME
            - Name: mbmcarbon
              Type: DECIMAL
              SubType: FIXED
            - Name: paceproductcode
              Type: STRING
            - Name: regioncode
              Type: STRING
        4e57d6b4-c367-411e-a44b-7870baa54c39:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        485c1f21-5a4c-46bb-9abb-5e721c34ee9a:
          Alias: account_map
          Source:
            PhysicalTableId: 4e57d6b4-c367-411e-a44b-7870baa54c39
        81a5d7b4-3f4e-4083-8cdd-06268e2b5a7b:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - accountid
              - querydate
              - startdate
              - mbmcarbon
              - paceproductcode
              - regioncode
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: a76d55cc-a67b-4ff3-8097-745706bf40fe
              RightOperand: 485c1f21-5a4c-46bb-9abb-5e721c34ee9a
              Type: LEFT
              OnClause: '{accountid} = {account_id}'
        a76d55cc-a67b-4ff3-8097-745706bf40fe:
          Alias: sus_carbon_emissions_view
          Source:
            PhysicalTableId: 1dc4c009-196c-489a-970b-561bf4acef6b
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_carbon_emissions_view
      - account_map
    schedules:
    - default
  carbon_emissions_longform:
    data:
      DataSetId: 814f2ac6-3205-43b8-ac8b-bab4dc1c864a
      Name: carbon_emissions_longform
      PhysicalTableMap:
        c58a049b-ecf8-4884-8916-2b8ec86bd941:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        d0ea6867-d523-452c-b6a3-7431979da256:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_carbon_emissions_longform
            InputColumns:
            - Name: metric
              Type: STRING
            - Name: value
              Type: DECIMAL
              SubType: FIXED
            - Name: accountid
              Type: STRING
            - Name: querydate
              Type: DATETIME
            - Name: startdate
              Type: DATETIME
      LogicalTableMap:
        1c4e087c-344e-4ad0-b986-aa01476f6091:
          Alias: sus_carbon_emissions_longform
          Source:
            PhysicalTableId: d0ea6867-d523-452c-b6a3-7431979da256
        5dc3e114-3a3d-43ff-87af-eae4d8d4cf8c:
          Alias: account_map
          Source:
            PhysicalTableId: c58a049b-ecf8-4884-8916-2b8ec86bd941
        67d16571-dce6-4ca0-a4d3-8e2cdc60bc05:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - metric
              - value
              - accountid
              - querydate
              - startdate
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 1c4e087c-344e-4ad0-b986-aa01476f6091
              RightOperand: 5dc3e114-3a3d-43ff-87af-eae4d8d4cf8c
              Type: LEFT
              OnClause: '{accountid} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_carbon_emissions_longform
    schedules:
    - default
  sus_storage_athena:
    data:
      DataSetId: af858de6-f6ef-4961-88c4-964aa1266b9a
      Name: sus_storage_athena
      PhysicalTableMap:
        d88e946b-50c5-4131-af7f-a20c19b5f44d:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_storage_athena
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_operation
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: usage
              Type: DECIMAL
              SubType: FLOAT
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
        e7b46e3d-87cf-473e-908b-7870ffa90a32:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        13ed66ff-e221-4acf-9e83-87145cf336c5:
          Alias: account_map
          Source:
            PhysicalTableId: e7b46e3d-87cf-473e-908b-7870ffa90a32
        3bf588fa-4b55-4746-b422-1799d4cb51ff:
          Alias: sus_storage_athena
          Source:
            PhysicalTableId: d88e946b-50c5-4131-af7f-a20c19b5f44d
        b85579e2-a38d-41ea-a583-7055af4d54d1:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - resource_tags_user_application
              - line_item_usage_account_id
              - line_item_operation
              - line_item_usage_start_date
              - usage
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 3bf588fa-4b55-4746-b422-1799d4cb51ff
              RightOperand: 13ed66ff-e221-4acf-9e83-87145cf336c5
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_storage_athena
      - account_map
    schedules:
    - default
  sus_geo_region_athena:
    data:
      DataSetId: b5c8fb38-99a9-4764-9eac-7cbfa856571e
      Name: sus_geo_region_athena
      PhysicalTableMap:
        2d73b781-2ce6-41a2-9ba0-a193d7aba3ec:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_geo_region_athena
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: usage_date
              Type: DATETIME
            - Name: region
              Type: STRING
            - Name: region_latitude
              Type: STRING
            - Name: region_longitude
              Type: STRING
            - Name: is95percentrenewable
              Type: INTEGER
            - Name: cost
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        ea7b9711-1cfb-47ce-a7f1-2d7686890f72:
          Alias: sus_geo_region_athena
          DataTransforms:
          - CastColumnTypeOperation:
              ColumnName: region_latitude
              NewColumnType: DECIMAL
              SubType: FIXED
          - CastColumnTypeOperation:
              ColumnName: region_longitude
              NewColumnType: DECIMAL
              SubType: FIXED
          - TagColumnOperation:
              ColumnName: region
              Tags:
              - ColumnGeographicRole: STATE
          - TagColumnOperation:
              ColumnName: region_latitude
              Tags:
              - ColumnGeographicRole: LATITUDE
          - TagColumnOperation:
              ColumnName: region_longitude
              Tags:
              - ColumnGeographicRole: LONGITUDE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - usage_date
              - region
              - region_latitude
              - region_longitude
              - is95percentrenewable
              - cost
          Source:
            PhysicalTableId: 2d73b781-2ce6-41a2-9ba0-a193d7aba3ec
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_geo_region_athena
    schedules:
    - default
  sus_network:
    data:
      DataSetId: 656e7432-12cf-4b1c-a48f-24e4f4b48843
      Name: sus_network
      PhysicalTableMap:
        4f66d90f-5d4a-4e8e-bcdf-2e83d73d37a8:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        b4b4e384-904f-42b3-9108-3dff4ad53b30:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_network
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: line_item_product_code
              Type: STRING
            - Name: line_item_line_item_type
              Type: STRING
            - Name: line_item_operation
              Type: STRING
            - Name: line_item_usage_type
              Type: STRING
            - Name: product_product_name
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: product_from_location
              Type: STRING
            - Name: product_to_location
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_line_item_description
              Type: STRING
            - Name: usage_amount_in_tb
              Type: DECIMAL
              SubType: FLOAT
            - Name: cost
              Type: DECIMAL
              SubType: FLOAT
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
      LogicalTableMap:
        9d386b3d-9b75-4e72-b307-56678a6e8f96:
          Alias: account_map
          Source:
            PhysicalTableId: 4f66d90f-5d4a-4e8e-bcdf-2e83d73d37a8
        a74b2b69-a10d-4b60-8c4c-68529a0707d9:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - line_item_product_code
              - line_item_line_item_type
              - line_item_operation
              - line_item_usage_type
              - product_product_name
              - product_region
              - product_from_location
              - product_to_location
              - resource_tags_user_application
              - line_item_line_item_description
              - usage_amount_in_tb
              - cost
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: d8a05f09-6cb3-40e0-b9c8-482512b1727a
              RightOperand: 9d386b3d-9b75-4e72-b307-56678a6e8f96
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        d8a05f09-6cb3-40e0-b9c8-482512b1727a:
          Alias: sus_network
          Source:
            PhysicalTableId: b4b4e384-904f-42b3-9108-3dff4ad53b30
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_network
    schedules:
    - default
  sus_idle_natgw:
    data:
      DataSetId: c8a8cb07-8d9d-4b90-9862-e2a7e1370908
      Name: sus_idle_natgw
      PhysicalTableMap:
        0766af2c-5154-4b8a-a5df-8d9a2d37efb4:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        30332fbc-ad6f-47ec-b5d2-c6bd31f5efc4:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_idle_natgw
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: bill_billing_period_start_date
              Type: DATETIME
            - Name: split_line_item_resource_id
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: sum_line_item_usage_amount
              Type: DECIMAL
              SubType: FLOAT
            - Name: resource_tags_user_application
              Type: STRING
            - Name: sum_line_item_unblended_cost
              Type: DECIMAL
              SubType: FIXED
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
      LogicalTableMap:
        6663e8a1-6723-49ae-9312-b51275135aec:
          Alias: sus_idle_natgw
          Source:
            PhysicalTableId: 30332fbc-ad6f-47ec-b5d2-c6bd31f5efc4
        d1e76cc3-b08d-42bc-a7f3-8edf0b5e73df:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - bill_billing_period_start_date
              - split_line_item_resource_id
              - product_region
              - pricing_unit
              - sum_line_item_usage_amount
              - resource_tags_user_application
              - sum_line_item_unblended_cost
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 6663e8a1-6723-49ae-9312-b51275135aec
              RightOperand: ea340ec0-1f14-40d4-becc-4b992b546138
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        ea340ec0-1f14-40d4-becc-4b992b546138:
          Alias: account_map
          Source:
            PhysicalTableId: 0766af2c-5154-4b8a-a5df-8d9a2d37efb4
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_idle_natgw
    schedules:
    - default
  sus_compute_split:
    data:
      DataSetId: 20912ab9-05e1-48c0-99f7-b70e68c743f0
      Name: sus_compute_split
      PhysicalTableMap:
        3dd3174f-61ea-420e-8ea9-d7fb30a929ef:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: sus_compute_split
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_product_code
              Type: STRING
            - Name: vcpu_hours
              Type: DECIMAL
              SubType: FLOAT
            - Name: tag_business_metric
              Type: INTEGER
            - Name: account_business_metric
              Type: INTEGER
        7c5b80e9-7ba4-42bd-b626-4f8500c0ef00:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: "${athena_database_name}"
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        38318059-ada4-43cd-84e7-465c830634d4:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - resource_tags_user_application
              - line_item_product_code
              - vcpu_hours
              - tag_business_metric
              - account_business_metric
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 3af7087e-542f-439f-b88c-822cc9cacd3c
              RightOperand: 3b98fdf2-4730-401d-b095-59581cce1db9
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        3af7087e-542f-439f-b88c-822cc9cacd3c:
          Alias: sus_compute_split
          Source:
            PhysicalTableId: 3dd3174f-61ea-420e-8ea9-d7fb30a929ef
        3b98fdf2-4730-401d-b095-59581cce1db9:
          Alias: account_map
          Source:
            PhysicalTableId: 7c5b80e9-7ba4-42bd-b626-4f8500c0ef00
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_compute_split
      - account_map
    schedules:
    - default
crawlers: {}
views:
  sus_s3_storage_all:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_s3_storage_all AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT DISTINCT
        split_part("billing_period", '-', 1) "year"
      , split_part("billing_period", '-', 2) "month"
      , cur.bill_payer_account_id
      , cur.bill_billing_period_start_date "billing_period"
      , cur.line_item_usage_start_date "usage_date"
      , "bill_payer_account_id" "payer_account_id"
      , "line_item_usage_account_id" "linked_account_id"
      , "line_item_resource_id" "resource_id"
      , "line_item_product_code" "product_code"
      , "line_item_operation" "operation"
      , product['region'] "region"
      , "line_item_line_item_type" "charge_type"
      , "pricing_unit" "pricing_unit"
      , ${tag} resource_tags_user_application
      , susTag.tagvalue bussKpiTag
      , susAcc.linkedaccountvalue bussKpiAcc
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      , "sum"((CASE WHEN ("line_item_line_item_type" = 'Usage') THEN "line_item_usage_amount" ELSE 0 END)) "usage_quantity"
      , "sum"("line_item_unblended_cost") "unblended_cost"
      , "sum"("pricing_public_on_demand_cost") "public_cost"
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((("line_item_operation" LIKE '%Storage%') AND (("line_item_product_code" LIKE '%AmazonGlacier%') OR ("line_item_product_code" LIKE '%AmazonS3%'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL '7' 
      MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_buss_kpi:
    dependsOn:
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_buss_kpi AS
      SELECT
        ${tag} tagValue
      , line_item_usage_account_id linkedAccountValue
      , line_item_usage_start_date
      , CAST(("random"() * 1000) AS int) buss
      FROM
        "${cur2_database}"."${cur2_table_name}" cur
      GROUP BY line_item_usage_start_date, line_item_usage_account_id, 1
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_idle_elb:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_idle_elb AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , bill_billing_period_start_date
      , line_item_usage_account_id
      , "split_part"(line_item_resource_id, ':', 6) split_line_item_resource_id
      , product_region product_region
      , pricing_unit
      , sum_line_item_usage_amount
      , resource_tags_user_application
      , TagBusKpi
      , AccBusKpi
      , CAST(cost_per_resource AS decimal(16, 8)) sum_line_item_unblended_cost
      FROM
        (
         SELECT
           line_item_resource_id
         , bill_billing_period_start_date
         , product['region'] product_region
         , pricing_unit
         , line_item_usage_account_id
         , bill_payer_account_id
         , ${tag} resource_tags_user_application
         , "sum"(line_item_usage_amount) sum_line_item_usage_amount
         , "sum"("sum"(line_item_unblended_cost)) OVER (PARTITION BY line_item_resource_id) cost_per_resource
         , "sum"("sum"(line_item_usage_amount)) OVER (PARTITION BY line_item_resource_id, pricing_unit) usage_per_resource_and_pricing_unit
         , "sum"(susTag.busKpi) TagBusKpi
         , "sum"(susAcc.busKpi) AccBusKpi
         , "count"(pricing_unit) OVER (PARTITION BY line_item_resource_id, bill_billing_period_start_date) pricing_unit_per_resource
         FROM
           (("${cur2_database}"."${cur2_table_name}" cur
         LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
         LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
         WHERE (((line_item_product_code = 'AWSELB') AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH)))) AND (line_item_line_item_type = 'Usage'))
         GROUP BY line_item_resource_id, bill_billing_period_start_date, product['region'], pricing_unit, line_item_usage_account_id, bill_payer_account_id, 7
      )
      WHERE ((usage_per_resource_and_pricing_unit > 336) AND (pricing_unit_per_resource = 1))
  sus_compute_ec2:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
        - product['vcpu']
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_compute_ec2 AS
      WITH
        tag_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , tagvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , acc_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , linkedaccountvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , (CASE WHEN ((product['instance_type_family'] IS NULL) OR (product['instance_type_family'] = '')) THEN split(product['instance_type'], '.')[1] ELSE product['instance_type_family'] END) product_instance_type_family
      , cur.product['physical_processor'] product_physical_processor
      , SUM((cur.line_item_usage_amount * CAST(cur.product['vcpu'] AS double))) vcpu_hours
      , SUM(susTag.business_metric) tag_business_metric
      , SUM(susAcc.business_metric) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN tag_business_metrics susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN acc_business_metrics susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((((cur.product_product_family = 'Compute Instance') OR (cur.product_product_family = 'Dedicated Host')) AND (cur.line_item_product_code = 'AmazonEC2') AND (cur.line_item_operation LIKE 'RunInstances%') AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage', 'DiscountedUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_carbon_emissions_view:
    data: |-
      CREATE VIEW "${athena_database_name}".sus_carbon_emissions_view AS
      SELECT
        '123456789789' accountid
      , '2024-01-01' querydate
      , '2024-01-01' startdate
      , 0 mbmcarbon
      , 'no-data' paceproductcode
      , 'no-data' regioncode
      WHERE (1 = 0)
  sus_carbon_emissions_longform:
    data: |-
      CREATE VIEW "${athena_database_name}".sus_carbon_emissions_longform AS 
      SELECT
        'gridmixinefficiency' metric
      , 0 value
      , '123456789789' accountid
      , '2024-03-07' querydate
      , '2020-12-01' startdate
      WHERE (1 = 0)
  sus_storage_athena:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_storage_athena AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , ${tag} resource_tags_user_application
      , line_item_usage_account_id
      , line_item_operation
      , cur.line_item_usage_start_date
      , "sum"(line_item_usage_amount) Usage
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((line_item_operation LIKE 'CreateVolume%') AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
  sus_aws_regions:
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_aws_regions AS
       SELECT *
      FROM
        (
       VALUES
           ROW ('ap-northeast-1', 'Japan', 'Tokyo', '35.64', '139.76', 1)
         , ROW ('ap-south-1', 'India', 'Mumbai', '19.08', '72.88', 1)
         , ROW ('cn-northwest-1', 'China', 'Ningxia', '38.47', '106.26', 1)
         , ROW ('eu-central-1', 'Germany', 'Frankfurt', '50.11', '8.68', 1)
         , ROW ('eu-north-1', 'Sweden', 'Stockholm', '59.33', '18.07', 1)
         , ROW ('eu-west-1', 'Ireland', 'Dublin', '53.28', '-7.71', 1)
         , ROW ('us-east-2', 'USA', 'Ohio', '40.36', '-82.91', 1)
         , ROW ('us-gov-west-1', 'USA', 'Oregon', '39.53', '-119.88', 1)
         , ROW ('us-west-1', 'USA', 'N. California', '36.55', '-119.89', 1)
         , ROW ('us-west-2', 'USA', 'Oregon', '43.82', '-120.33', 1)
         , ROW ('ap-east-1', 'Hong Kong', 'Hong Kong', '22.28', '114.15', 0)
         , ROW ('ap-northeast-2', 'South Korea', 'Seoul', '37.72', '126.04', 0)
         , ROW ('ap-northeast-3', 'Japan', 'Osaka', '34.69', '135.5', 1)
         , ROW ('ap-southeast-2', 'Australia', 'Sydney', '-33.88', '151.23', 0)
         , ROW ('ca-central-1', 'Canada', 'Montreal', '44.08', '-77.42', 1)
         , ROW ('cn-north-1', 'China', 'Beijing', '39.91', '116.41', 1)
         , ROW ('eu-west-3', 'France', 'Paris', '48.85', '2.35', 1)
         , ROW ('me-south-1', 'Bahrain', 'Bahrain', '26.11', '50.50', 0)
         , ROW ('sa-east-1', 'Brazil', 'Sao Paulo', '-23.37', '-46.63', 0)
         , ROW ('us-gov-east-1', 'USA', 'Ohio', '40.4897', '-81.45', 1)
         , ROW ('ap-southeast-1', 'Singapore', 'Singapore', '1.35', '103.86', 0)
         , ROW ('eu-west-2', 'UK', 'London', '51.53', '0.12', 1)
         , ROW ('us-east-1', 'USA', 'Washington DC', '38.80', '-77.11', 1)
         , ROW ('eu-south-1', 'Italy', 'Milan', '45.46', '9.18', 1)
         , ROW ('af-south-1', 'Africa', 'Cape Town', '-33.91', '18.42', 0)
         , ROW ('ap-south-2', 'India', 'Hyderabad', '17.39', '78.49', 1)
         , ROW ('eu-central-2', 'Switzerland', 'Zurich', '47.37', '8.54', 1)
         , ROW ('eu-south-2', 'Spain', 'Madrid', '40.41', '-3.70',1)
         , ROW ('ap-southeast-3', 'Indonesia', 'Jakarta', '-6.175110', '106.865036',0)
         , ROW ('ap-southeast-5', 'Malaysia', 'Kuala Lumpur', '3.139003', '101.686852',0)
         , ROW ('ap-southeast-4', 'Australia', 'Melbourne', '-37.813629', '144.963058',0)
         , ROW ('ca-west-1', 'Canada', 'Calgary', '51.048615', '-114.070847',0)
         , ROW ('il-central-1', 'Israel', 'Tel Aviv', '32.085300', '34.781769',0)
         , ROW ('il-central-1', 'Middle East' , 'UAE', '25.276987', '55.296249',0)
      )  ignored_table_name (region_name, region_country, region_city, region_latitude, region_longitude, is95PercentRenewable)
  sus_geo_region_athena:
    dependsOn:
      cur2:
        - pricing_unit
      views:
      - sus_aws_regions
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_geo_region_athena AS
      SELECT
        bill_payer_account_id
      , line_item_usage_start_date "usage_date"
      , region_city region
      , region_latitude
      , region_longitude
      , is95PercentRenewable
      , "sum"(line_item_unblended_cost) cost
      FROM
        ("${cur2_database}"."${cur2_table_name}" cur
      INNER JOIN "${athena_database_name}".sus_aws_regions ON (cur.product['region'] = sus_aws_regions.region_name))
      WHERE (((cur.product['region'] <> '') AND (cur.product['region'] <> 'global')) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6
  sus_network:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_network AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , line_item_usage_account_id
      , cur.line_item_usage_start_date
      , line_item_product_code
      , line_item_line_item_type
      , line_item_operation
      , line_item_usage_type
      , product['product_name'] product_product_name
      , product['region'] product_region
      , product_from_location
      , product_to_location
      , ${tag} resource_tags_user_application
      , line_item_line_item_description
      , "sum"((line_item_usage_amount / 1024)) usage_amount_in_tb
      , "sum"(line_item_unblended_cost) cost
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((((line_item_line_item_type = 'Usage') AND (NOT (line_item_usage_amount = 0))) AND (((line_item_usage_type LIKE '%Bytes') AND ((((line_item_usage_type LIKE '%In%') OR (line_item_usage_type LIKE '%Out%')) OR (line_item_usage_type LIKE 'Nat%')) OR (line_item_usage_type LIKE '%Regional%'))) AND ((product_from_location = '') OR (product_from_location LIKE '%(%')))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13
  sus_compute_split:
    dependsOn:
      views:
      - sus_buss_kpi
      - sus_compute_ec2
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_compute_split AS
      WITH
        tag_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , tagvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , acc_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , linkedaccountvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(cur.line_item_usage_amount) vcpu_hours
      , SUM(susTag.business_metric) tag_business_metric
      , SUM(susAcc.business_metric) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN tag_business_metrics susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN acc_business_metrics susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_usage_type LIKE '%Fargate-vCPU-Hours:perCPU') AND (cur.line_item_product_code IN ('AmazonEKS', 'AmazonECS')) AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(((cur.line_item_usage_amount / 1769) / 3600)) vcpu_hours
      , SUM(susTag.buss) tag_business_metric
      , SUM(susAcc.buss) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_product_code = 'AWSLambda') AND (cur.line_item_usage_type LIKE '%Lambda-GB-Second') AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        ec2.bill_payer_account_id
      , ec2.line_item_usage_account_id
      , ec2.line_item_usage_start_date
      , ec2.resource_tags_user_application
      , ec2.line_item_product_code
      , ec2.vcpu_hours
      , ec2.tag_business_metric
      , ec2.account_business_metric
      FROM
        "${athena_database_name}".sus_compute_ec2 ec2
  sus_idle_natgw:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_idle_natgw AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , line_item_usage_account_id
      , bill_billing_period_start_date
      , "split_part"(line_item_resource_id, ':', 6) split_line_item_resource_id
      , product_region product_region
      , pricing_unit
      , sum_line_item_usage_amount
      , resource_tags_user_application
      , CAST(cost_per_resource AS decimal(16, 8)) sum_line_item_unblended_cost
      , TagBusKpi
      , AccBusKpi
      FROM
        (
         SELECT
           line_item_resource_id
         , bill_billing_period_start_date
         , product['region'] product_region
         , pricing_unit
         , line_item_usage_account_id
         , bill_payer_account_id
         , ${tag} resource_tags_user_application
         , "sum"(susTag.busKpi) TagBusKpi
         , "sum"(susAcc.busKpi) AccBusKpi
         , "sum"(line_item_usage_amount) sum_line_item_usage_amount
         , "sum"("sum"(line_item_unblended_cost)) OVER (PARTITION BY line_item_resource_id) cost_per_resource
         , "sum"("sum"(line_item_usage_amount)) OVER (PARTITION BY line_item_resource_id, pricing_unit) usage_per_resource_and_pricing_unit
         , "count"(pricing_unit) OVER (PARTITION BY line_item_resource_id, bill_billing_period_start_date) pricing_unit_per_resource
         FROM
           (("${cur2_database}"."${cur2_table_name}" cur
         LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
         LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
         WHERE ((((line_item_product_code = 'AmazonEC2') AND (line_item_usage_type LIKE '%Nat%')) AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH)))) AND (line_item_line_item_type = 'Usage'))
         GROUP BY 1, 2, 3, 4, 5, 6, 7
      )
      WHERE ((usage_per_resource_and_pricing_unit > 336) AND (pricing_unit_per_resource = 1))
  sus_compute_split:
    dependsOn:
      views:
      - sus_buss_kpi
      - sus_compute_ec2
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_compute_split AS
      WITH
        tag_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , tagvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , acc_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , linkedaccountvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(cur.line_item_usage_amount) vcpu_hours
      , SUM(susTag.business_metric) tag_business_metric
      , SUM(susAcc.business_metric) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN tag_business_metrics susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN acc_business_metrics susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_usage_type LIKE '%Fargate-vCPU-Hours:perCPU') AND (cur.line_item_product_code IN ('AmazonEKS', 'AmazonECS')) AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(((cur.line_item_usage_amount / 1769) / 3600)) vcpu_hours
      , SUM(susTag.buss) tag_business_metric
      , SUM(susAcc.buss) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_product_code = 'AWSLambda') AND (cur.line_item_usage_type LIKE '%Lambda-GB-Second') AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        ec2.bill_payer_account_id
      , ec2.line_item_usage_account_id
      , ec2.line_item_usage_start_date
      , ec2.resource_tags_user_application
      , ec2.line_item_product_code
      , ec2.vcpu_hours
      , ec2.tag_business_metric
      , ec2.account_business_metric
      FROM
        "${athena_database_name}".sus_compute_ec2 ec2
    parameters:
      tag:
        type: 'cur2.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
