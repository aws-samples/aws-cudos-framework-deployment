dashboards:
  SUS-DASH:
    category: 'Additional'
    dependsOn:
      datasets:
      - sus_carbon_emissions
      - sus_compute_ec2
      - sus_compute_split
      - sus_geo_region_athena
      - sus_idle_elb
      - sus_idle_natgw
      - sus_network
      - sus_s3_storage_all
      - sus_storage_athena
    name: Sustainability Proxy and Carbon emissions data
    dashboardId: sustainability-proxy-metrics3
    theme: MIDNIGHT
    data: |-
      AnalysisDefaults:
        DefaultNewSheetConfiguration:
          InteractiveLayoutConfiguration:
            Grid:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1280px
                  ResizeOption: FIXED
          SheetContentType: INTERACTIVE
      CalculatedFields:
      - DataSetIdentifier: sus_carbon_emissions
        Expression: |-
          ifelse(
              isNull({account_name}),
              {usage_account_id},
              {account_name}
          )
        Name: calc_account_name
      - DataSetIdentifier: sus_carbon_emissions
        Expression: '{total_lbm_emissions_value}-{total_mbm_emissions_value}'
        Name: estimated_carbon_emissions_reduction
      - DataSetIdentifier: sus_carbon_emissions
        Expression: |-
          ifelse(${scope2Method}="mbm", {total_mbm_emissions_value}
          , {total_lbm_emissions_value}
          )
        Name: scope2_method_total_emissions_value
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(
          locate({product_physical_processor},'Intel') > 0, 'Intel',
          locate({product_physical_processor},'AMD') > 0, 'AMD',
          locate({product_physical_processor},'Graviton') > 0, 'Graviton',
          locate({product_physical_processor},'Apple') > 0, 'Apple',
          'Unknown'
          )
        Name: Processor Type
      - DataSetIdentifier: sus_compute_ec2
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {vcpu_hours} ,
          ${GroupByPara} = 'Linked Account', {vcpu_hours} / {account_business_metric} ,
          ${GroupByPara} = 'Environment Tag', {vcpu_hours} / {tag_business_metric} ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_compute_split
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_compute_split
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {vcpu_hours} ,
          ${GroupByPara} = 'Linked Account', {vcpu_hours} / {account_business_metric} ,
          ${GroupByPara} = 'Environment Tag', {vcpu_hours} / {tag_business_metric} ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_geo_region_athena
        Expression: ifelse(is95percentrenewable = 1 ,"2023", "Target")
        Name: EnergySource
      - DataSetIdentifier: sus_idle_elb
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_idle_elb
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {sum_line_item_usage_amount} ,
          ${GroupByPara} = 'Linked Account', {sum_line_item_usage_amount} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag',{sum_line_item_usage_amount} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_idle_elb
        Expression: '{bill_billing_period_start_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_idle_natgw
        Expression: '{bill_billing_period_start_date}'
        Name: ' line_item_usage_start_date'
      - DataSetIdentifier: sus_idle_natgw
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
              ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_idle_natgw
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {sum_line_item_usage_amount} ,
          ${GroupByPara} = 'Linked Account', {sum_line_item_usage_amount} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag',{sum_line_item_usage_amount} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_idle_natgw
        Expression: '{bill_billing_period_start_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(${GroupByPara} = 'Linked Account',
          ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}
          ),
          {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {usage_amount_in_tb} ,
          ${GroupByPara} = 'Linked Account', {usage_amount_in_tb} / accbuskpi ,
          ${GroupByPara} = 'Environment Tag', {usage_amount_in_tb} / tagbuskpi ,
          0
          )
        Name: ScaledValue
      - DataSetIdentifier: sus_network
        Expression: |-
          ifelse(
              {line_item_operation} = 'InterZone-In' or {line_item_operation} = 'InterZone-Out',
              'Inter AZ',
               {line_item_operation} = 'VPCPeering-In' or {line_item_operation} = 'VPCPeering-Out',
              'VPC Peering',
              {line_item_operation} = 'CreateVpnConnection' and (locate({line_item_usage_type},'DataTransfer-Out-Bytes') <> 0 or locate({line_item_usage_type},'AWS-Out-Bytes') <> 0),
              'Region to VPN',
              locate({line_item_usage_type},'AWS-Out-Bytes') <> 0,
              'Region to Region',
              {line_item_product_code} = 'AWSDirectConnect',
              'Region to DirectConnect',
              {line_item_product_code} = 'AmazonCloudFront',
              'Amazon CloudFront',
              locate({line_item_usage_type},'DataTransfer-Out-Bytes') <> 0,
              'Region to Internet',
              locate({line_item_usage_type},'TransitGateway-Bytes') <> 0,
              'Transit Gateway Data Processed',
              {line_item_operation} = 'PublicIP-In' or {line_item_operation} = 'PublicIP-Out' or {line_item_operation} = 'LoadBalancing-PublicIP-In' or {line_item_operation} = 'LoadBalancing-PublicIP-Out' or {line_item_operation}  = 'VpcEndpoint',
              'Inter AZ',
              'Other'
          )
        Name: TransferType
      - DataSetIdentifier: sus_s3_storage_all
        Expression: ifelse(${GroupByPara} = 'Linked Account', {linked_account_id}, {resource_tags_user_application})
        Name: CalcFWorkload
      - DataSetIdentifier: sus_s3_storage_all
        Expression: |-
          ifelse(
              ${GroupByPara} = 'Linked Account', ifelse({account_name} = '', {linked_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupBy
      - DataSetIdentifier: sus_s3_storage_all
        Expression: ifelse(${GroupByPara} = 'Linked Account', {linked_account_id}, {resource_tags_user_application})
        Name: KPiAdjustedUsage
      - DataSetIdentifier: sus_s3_storage_all
        Expression: |-
          ifelse(${IncludeKPI} = 'No', {usage_quantity} ,
          ifelse(${GroupByPara} = 'Linked Account', {usage_quantity} / accbuskpi ,
          ifelse(${GroupByPara} = 'Environment Tag', {usage_quantity} / tagbuskpi , 0
          )))
        Name: ScaledValue
      - DataSetIdentifier: sus_s3_storage_all
        Expression: '{usage_date}'
        Name: line_item_usage_start_date
      - DataSetIdentifier: sus_storage_athena
        Expression: |-
          ifelse(
              ${GroupByPara} = 'Linked Account', ifelse({account_name} = '', {line_item_usage_account_id}, {account_name}),
              {resource_tags_user_application}
          )
        Name: GroupByCalcF
      - DataSetIdentifier: sus_storage_athena
        Expression: |-
          ifelse(
              ${IncludeKPI} = 'No',               {3bf588fa-4b55-4746-b422-1799d4cb51ff.usage},
              ${GroupByPara} = 'Linked Account',  {3bf588fa-4b55-4746-b422-1799d4cb51ff.usage} / accbuskpi ,
              ${GroupByPara} = 'Environment Tag', {3bf588fa-4b55-4746-b422-1799d4cb51ff.usage} / tagbuskpi ,
              0
          )
        Name: ScaledValue
      ColumnConfigurations:
      - Column:
          ColumnName: cost
          DataSetIdentifier: sus_geo_region_athena
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 2
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: region_latitude
          DataSetIdentifier: sus_geo_region_athena
        Role: DIMENSION
      - Column:
          ColumnName: region_longitude
          DataSetIdentifier: sus_geo_region_athena
        Role: DIMENSION
      - Column:
          ColumnName: ScaledValue
          DataSetIdentifier: sus_network
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              NumberDisplayFormatConfiguration:
                NullValueFormatConfiguration:
                  NullString: 'null'
                Suffix: TB
      - Column:
          ColumnName: usage_amount_in_tb
          DataSetIdentifier: sus_network
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              NumberDisplayFormatConfiguration:
                NullValueFormatConfiguration:
                  NullString: 'null'
                Suffix: TB
      DataSetIdentifierDeclarations:
      - DataSetArn: arn:aws:quicksight:::dataset/20912ab9-05e1-48c0-99f7-b70e68c743f0
        Identifier: sus_compute_split
      - DataSetArn: arn:aws:quicksight:::dataset/c8a8cb07-8d9d-4b90-9862-e2a7e1370908
        Identifier: sus_idle_natgw
      - DataSetArn: arn:aws:quicksight:::dataset/6e2ba899-6fc4-4321-95cb-b332dcbd8ef5
        Identifier: sus_carbon_emissions
      - DataSetArn: arn:aws:quicksight:::dataset/cf4c1a8b-6e9a-4cac-b2da-d82c970271e4
        Identifier: sus_compute_ec2
      - DataSetArn: arn:aws:quicksight:::dataset/2794b73a-4469-4b9c-ba4e-d1de93460b8b
        Identifier: sus_idle_elb
      - DataSetArn: arn:aws:quicksight:::dataset/411db3d5-6368-4359-a4a6-29dbb64c9e33
        Identifier: sus_s3_storage_all
      - DataSetArn: arn:aws:quicksight:::dataset/656e7432-12cf-4b1c-a48f-24e4f4b48843
        Identifier: sus_network
      - DataSetArn: arn:aws:quicksight:::dataset/b5c8fb38-99a9-4764-9eac-7cbfa856571e
        Identifier: sus_geo_region_athena
      - DataSetArn: arn:aws:quicksight:::dataset/af858de6-f6ef-4961-88c4-964aa1266b9a
        Identifier: sus_storage_athena
      FilterGroups:
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 52f87545-d3b8-45c0-9148-da6b8d46c388
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: MissingColumnId_a084b01d-3aa0-4049-9da8-3cc161b0af88
              DataSetIdentifier: MissingDataSetId_MissingDataSetId_MissingDataSetId_d01a936f-2b8f-49dd-8f95-d9c7130c5e46
            FilterId: d82d18d5-82a8-48bb-80e2-0d09dbec7875
            IncludeMaximum: false
            IncludeMinimum: true
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              Parameter: EndDate
            RangeMinimumValue:
              Parameter: StartDate
            TimeGranularity: DAY
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: f53c1e71-6dd7-4fb3-9e64-9bed5f908ae1
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 77907915-3979-4880-9750-ac6617fd83ea
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_storage_athena
            FilterId: 9f1e1c2f-0bfb-450e-aac5-9a44e226ac50
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 6
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: f672a1e2-ddeb-49b9-b89f-2880d60fa7ed
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: b505e712-f323-4bb4-ab4a-837f9fc5888b
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_storage_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 86c036b2-5ce8-42d2-a84d-1efd0ed9104a
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: f672a1e2-ddeb-49b9-b89f-2880d60fa7ed
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 4945d044-5857-4e26-8c89-768a9eeb3635
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: pricing_unit
              DataSetIdentifier: sus_s3_storage_all
            Configuration:
              CustomFilterConfiguration:
                CategoryValue: GB-Mo
                MatchOperator: EQUALS
                NullOption: NON_NULLS_ONLY
            FilterId: caac5bb4-f556-4475-a609-9931a3518d88
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: f672a1e2-ddeb-49b9-b89f-2880d60fa7ed
              VisualIds:
              - e2fb846a-1509-4437-bb44-fa3f53238488
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 8b258d89-56ff-462a-b723-e1fb0d6d5e9f
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_network
            FilterId: 6da7de44-c53e-4eb1-9f1a-2de035c2825f
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 6
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 6f379d1e-3b60-4353-8271-1bb54394e233
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: c4d96f5c-293e-499d-8010-ba5a3740b33c
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_network
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 2fdbd16b-e07d-4b5c-b5f0-a38c7451ce94
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 6f379d1e-3b60-4353-8271-1bb54394e233
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 904c5556-4c90-4136-ba89-d4c6ba1cec88
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_compute_split
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 2293a83b-5836-493d-8c1a-63e798dfd19c
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: f53c1e71-6dd7-4fb3-9e64-9bed5f908ae1
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 76ff731f-2383-4742-b1ad-6a524c6eb0b0
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: line_item_usage_start_date
              DataSetIdentifier: sus_compute_split
            DefaultFilterControlConfiguration:
              ControlOptions:
                DefaultRelativeDateTimeOptions:
                  DisplayOptions:
                    DateTimeFormat: YYYY/MM/DD HH:mm:ss
                    TitleOptions:
                      FontConfiguration:
                        FontSize:
                          Relative: MEDIUM
                      Visibility: VISIBLE
              Title: Date Range
            FilterId: 7b613744-a8f4-46db-a5b5-7aeb0da534b7
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 24
            TimeGranularity: MONTH
        ScopeConfiguration:
          AllSheets: {}
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 33b9e87f-2253-4bb7-ad36-3d6eb14bb576
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: MissingColumnId_9bb46e55-aeaf-4c09-8f04-d5bdf7adc3e8
              DataSetIdentifier: MissingDataSetId_MissingDataSetId_12419d71-ec67-4e23-bd1f-fcd7b34c82f9
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 4dc7a6e5-19a2-433d-a22f-fb078b17f46a
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: f244c343-08aa-4e4c-84eb-c9ecfd96664f
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: operation
              DataSetIdentifier: sus_s3_storage_all
            Configuration:
              CustomFilterConfiguration:
                CategoryValue: StorageLens
                MatchOperator: DOES_NOT_EQUAL
                NullOption: ALL_VALUES
            FilterId: f7735569-9de7-4106-81c4-ad2e8ffce5a3
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: f672a1e2-ddeb-49b9-b89f-2880d60fa7ed
              VisualIds:
              - 53e33142-0c45-4371-b48a-10107bbb5d43
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: b0119f70-3da5-478d-a73b-40afb340c1bd
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: MissingColumnId_1cbef0a7-3530-4462-9005-cad87d137277
              DataSetIdentifier: MissingDataSetId_MissingDataSetId_12419d71-ec67-4e23-bd1f-fcd7b34c82f9
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: c51f5f0b-5f99-4d7f-9bfc-1419796a6341
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 896e0115-fc5f-4c9a-b2f4-c0ea24cca234
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: MissingColumnId_06b50df5-6796-43e9-be28-ccb967bdc53a
              DataSetIdentifier: MissingDataSetId_MissingDataSetId_12419d71-ec67-4e23-bd1f-fcd7b34c82f9
            FilterId: 80c1db3c-7046-4887-b5cd-429be83aa953
            IncludeMaximum: true
            IncludeMinimum: true
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              StaticValue: 2023-04-21 02:00:00+02:00
            RangeMinimumValue:
              StaticValue: 2023-04-12 02:00:00+02:00
            TimeGranularity: DAY
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 16589d28-e102-4d8a-ae41-d3bff092272b
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: aadd0580-031b-4477-b5ef-99e054729999
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 3
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - 900df7e0-e5ae-4a16-ba4a-ff084cab37b4
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: d4a1532e-4730-4747-accc-e435f9e4b7a5
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: e3cdf8fd-e1c3-4e26-91c8-7fc8bf718a43
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - 900df7e0-e5ae-4a16-ba4a-ff084cab37b4
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 430ce6ef-8db6-4544-be2b-8202b425edf3
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: 63237af4-724d-4be0-9bde-b5891439417b
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 300
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - 63325141-46cd-492d-9523-03737399145e
        Status: DISABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 54181248-a575-49f5-a3e8-a9759d92ffc1
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: 723e30f2-2133-4095-b6c0-da578014d74d
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - 63325141-46cd-492d-9523-03737399145e
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: d425bece-026a-4951-9688-e80ce8c354fa
        Filters:
        - RelativeDatesFilter:
            AnchorDateConfiguration:
              AnchorOption: NOW
            Column:
              ColumnName: usage_date
              DataSetIdentifier: sus_geo_region_athena
            FilterId: 120888c3-1fb5-4369-8947-cc990069df15
            MinimumGranularity: DAY
            NullOption: NON_NULLS_ONLY
            RelativeDateType: LAST
            RelativeDateValue: 300
            TimeGranularity: MONTH
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - e9ad0568-2e3e-41f8-9997-a238f63ebdc8
        Status: DISABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 85046f11-8888-42e5-bc19-359083a65584
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: bill_payer_account_id
              DataSetIdentifier: sus_geo_region_athena
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: ea64eb82-b6dd-46dd-bd48-1a014b4a0148
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
              VisualIds:
              - e9ad0568-2e3e-41f8-9997-a238f63ebdc8
        Status: ENABLED
      - CrossDataset: ALL_DATASETS
        FilterGroupId: 67c37cdb-f942-41a0-826d-b26de2f2a196
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: usage_period_start
              DataSetIdentifier: sus_carbon_emissions
            DefaultFilterControlConfiguration:
              ControlOptions:
                DefaultRelativeDateTimeOptions:
                  DisplayOptions:
                    DateTimeFormat: YYYY/MM/DD HH:mm:ss
                    TitleOptions:
                      FontConfiguration:
                        FontSize:
                          Relative: MEDIUM
                      Visibility: VISIBLE
              Title: Date Range
            FilterId: 6c80c8d1-a7bc-4f45-bdb4-6f46bdc2a7d6
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              StaticValue: 2025-02-28 01:00:00+01:00
            RangeMinimumValue:
              StaticValue: 2024-01-01 01:00:00+01:00
            TimeGranularity: DAY
        ScopeConfiguration:
          AllSheets: {}
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 22095de3-1f41-4a21-9337-ce9da85bc962
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: usage_account_id
              DataSetIdentifier: sus_carbon_emissions
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: e91cbb06-a972-4743-81ea-ee89edd2c14b
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
              VisualIds:
              - 5ec23d54-4592-4cd0-8497-5a7ef33b5513
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 1c9c686e-b579-4771-a5eb-8f4686eb937c
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: payer_account_id
              DataSetIdentifier: sus_carbon_emissions
            Configuration:
              FilterListConfiguration:
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
                SelectAllOptions: FILTER_ALL_VALUES
            FilterId: a41ac62f-7ed7-45a5-810d-b449c3d0eec2
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
              VisualIds:
              - 5ec23d54-4592-4cd0-8497-5a7ef33b5513
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: c99a36dd-136c-4102-b3f1-dd6a25c695a7
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: carbon_model_version
              DataSetIdentifier: sus_carbon_emissions
            Configuration:
              CustomFilterListConfiguration:
                CategoryValues:
                - v1.0.0
                MatchOperator: CONTAINS
                NullOption: NON_NULLS_ONLY
            FilterId: 08d7cdf2-a43e-4187-ace2-98557ebfee3e
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
        Status: ENABLED
      Options: {}
      ParameterDeclarations:
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 30.0
          Name: ComputeODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 10.0
          Name: EC2SpotGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 10.0
          Name: EC2PreviousGeneration
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: EC2GravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: EC2AMDGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: EBSgp3ofgpGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 25.0
          Name: EBSSnapshotGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 65.0
          Name: S3StandardGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: RDSGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: ElastiCacheGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: OpenSearchGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 20.0
          Name: LambdaGravitonGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: SagemakerODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: RDSODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: ElastiCacheODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: OpenSearchODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: RedshiftODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 50.0
          Name: DynamoDBODGoal
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: AccountID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: PayerAccountID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: Organization
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: BusinessUnit
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: Team
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: AccountName
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: MinSnapshotStartDate
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: S3CoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EBSCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EC2CoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: EBSSnapshotType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: OtherGravitonCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: ResourceID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Cost
          Name: OnDemandCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EBSvolume
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: S3bucket
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EBSsnapshot
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: EC2instance
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: OtherGravitonResourceID
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: OtherGravitonServices
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Usage
          Name: CommitCoverageType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Metrics Summary
          Name: Metrics
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Compute SP
          Name: ComputeCommitType
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: 'NULL'
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Linked Account
          Name: GroupByPara
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 'No'
          Name: IncludeKPI
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - Scope 1
            - Scope 2 - Location Based
          Name: Scopes
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues:
            StaticValues:
            - market-based method
          Name: scope2Method
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: addDateTime(-12, 'MM', truncDate('MM', now()))
            StaticValues: []
          Name: StartDate
          TimeGranularity: DAY
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: truncDate('DD', now())
            StaticValues: []
          Name: EndDate
          TimeGranularity: DAY
      - DateTimeParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 2024-01-01 01:00:00+01:00
          Name: Date
          TimeGranularity: DAY
      Sheets:
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1280px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 900df7e0-e5ae-4a16-ba4a-ff084cab37b4
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 14
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 63325141-46cd-492d-9523-03737399145e
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 14
              - ColumnIndex: 0
                ColumnSpan: 35
                ElementId: e9ad0568-2e3e-41f8-9997-a238f63ebdc8
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 12
        Name: Regional Footprint
        SheetId: 0b72e6f2-92bc-46fd-9818-7fbce3f0cf58
        Visuals:
        - LineChartVisual:
            Actions: []
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_date
                        DataSetIdentifier: sus_geo_region_athena
                      DateGranularity: WEEK
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                      HierarchyId: 53c6ed93-bd29-452b-86f9-6e7e3c83b0be
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region.1.1683545126741
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: cost
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1683545133448
              PrimaryYAxisDisplayOptions:
                AxisOptions:
                  AxisOffset: 69px
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region.1.1683545126741
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1683545133448
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.usage_date.2.1683548429034
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: LINE
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 53c6ed93-bd29-452b-86f9-6e7e3c83b0be
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: <visual-title>Regional Use Over Time</visual-title>
              Visibility: VISIBLE
            VisualId: e9ad0568-2e3e-41f8-9997-a238f63ebdc8
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  To achieve our goal of powering our operations\
                  \ with 100% renewable energy by\n  <inline color=\"#ffb91e\">2025</inline>\n\
                  \  \u2014five years ahead of our original 2030 target\u2014Amazon contracts\
                  \ for renewable power from utility scale wind and solar projects that\
                  \ add clean energy to the grid. These new renewable projects support hundreds\
                  \ of jobs while providing hundreds of millions of dollars of investment\
                  \ in local communities. We also may choose to support these grids through\
                  \ the purchase of environmental attributes, like Renewable Energy Certificates\
                  \ and Guarantees of Origin, in line with our\n  <a href=\"https://sustainability.aboutamazon.com/renewable-energy-methodology.pdf\"\
                  \ target=\"_self\">Renewable Energy Methodology</a>\n  .\n  <br/>\n  As\
                  \ a result, in\n  <inline color=\"#e2ff18\">2023</inline>\n  , the electricity\
                  \ consumed in the following 22 AWS Regions was attributable to 100% renewable\
                  \ energy:\n  <br/>\n  <br/>\n  <ul>\n    <li>U.S. East (Northern Virginia)</li>\n\
                  \    <li>GovCloud (U.S. East)</li>\n    <li>U.S. East (Ohio)</li>\n  \
                  \  <li>U.S. West (Oregon)</li>\n    <li>GovCloud (U.S. West)</li>\n  \
                  \  <li>U.S. West (Northern California)</li>\n    <li>Canada (Central)</li>\n\
                  \    <li>Canada (West)</li>\n    <li>Europe (Ireland)</li>\n    <li>Europe\
                  \ (Frankfurt)</li>\n    <li>Europe (London)</li>\n    <li>Europe (Milan)</li>\n\
                  \    <li>Europe (Paris)</li>\n    <li>Europe (Stockholm)</li>\n    <li>Europe\
                  \ (Spain)</li>\n    <li>Europe (Zurich)</li>\n    <li>Asia-Pacific (Mumbai)</li>\n\
                  \    <li>Asia-Pacific (Hyderabad)</li>\n    <li>Asia-Pacific (Osaka)</li>\n\
                  \    <li>Asia-Pacific (Tokyo)</li>\n    <li>China (Beijing)</li>\n   \
                  \ <li>China (Ningxia)</li>\n  </ul>\n  <br/>\n  <br/>\n  Choose Regions\
                  \ near Amazon renewable energy projects and Regions where the grid has\
                  \ a published carbon intensity that is lower than other locations. (or\
                  \ Regions)\n  <br/>\n  <br/>\n  For more infomation, please see :\n  <a\
                  \ href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_region_a2.html\"\
                  \ target=\"_self\">here</a>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: 63325141-46cd-492d-9523-03737399145e
        - GeospatialMapVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                GeospatialMapAggregatedFieldWells:
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: EnergySource
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                  Geospatial:
                  - NumericalDimensionField:
                      Column:
                        ColumnName: region_longitude
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_longitude.0.1726835238853
                  - NumericalDimensionField:
                      Column:
                        ColumnName: region_latitude
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_latitude.1.1726835253543
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: cost
                        DataSetIdentifier: sus_geo_region_athena
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1726835267865
              Legend:
                Width: 122px
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_longitude.0.1726835238853
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.region_latitude.1.1726835253543
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ea7b9711-1cfb-47ce-a7f1-2d7686890f72.cost.2.1726835267865
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              VisualPalette:
                ChartColor: '#FF8700'
                ColorMap:
                - Color: '#F7E65A'
                  Element:
                    FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                    FieldValue: '2022'
                - Color: '#F7E65A'
                  Element:
                    FieldId: 5bf6ee70-3fda-4c45-a59b-e01d1a16849e.3.1726835274342
                    FieldValue: '2023'
              WindowOptions:
                Bounds:
                  East: 117.01222459421075
                  North: 74.87940099362609
                  South: -1.6967648814458443
                  West: -19.5947498632554
                MapZoomMode: MANUAL
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Last 3 months rolling</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: "<visual-title>Distribution of cost by AWS Region - Coloured by\
                  \ renewable energy.\_</visual-title>"
              Visibility: VISIBLE
            VisualId: 900df7e0-e5ae-4a16-ba4a-ff084cab37b4
      - ContentType: INTERACTIVE
        Description: "To build a sustainable business for our customers and for the world\
          \ we all share, we\u2019re designing data centers that provide the efficient,\
          \ resilient service our customers expect while minimizing our environmental footprint\u2014\
          and theirs."
        FilterControls:
        - CrossSheet:
            FilterControlId: 9884e25a-602b-48b3-9f36-361073e16ec9
            SourceFilterId: 7b613744-a8f4-46db-a5b5-7aeb0da534b7
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 0bf8988e-a8d6-49cb-8773-b1a562998584
            SourceFilterId: 2293a83b-5836-493d-8c1a-63e798dfd19c
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 4a99a6ba-87dc-4a69-8aaf-6004b6cb2877
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 3
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 32dfb599-195a-4f32-8723-7cbc2af1ee4c
                ElementType: VISUAL
                RowIndex: 3
                RowSpan: 10
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: ac891da8-cdde-47bc-80cc-df5be694ecf6
                ElementType: VISUAL
                RowIndex: 13
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 0fa0ed41-e258-40b3-944c-5cb0c4f14067
                ElementType: VISUAL
                RowIndex: 22
                RowSpan: 7
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: a49acb3a-687c-4684-9da7-cf82aa56c8ba
                ElementType: VISUAL
                RowIndex: 22
                RowSpan: 7
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 2a1a0815-a687-4b91-a2e3-969e38c3fa2d
                ElementType: VISUAL
                RowIndex: 29
                RowSpan: 7
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: aa471b57-124b-4137-bd20-afdf22c737ea
                ElementType: TEXT_BOX
                RowIndex: 29
                RowSpan: 7
        Name: Compute Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 2e786626-8983-4cba-81f6-b378adcdb89d
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 06020d7c-3eeb-4cf8-9325-33683f2b9615
            SelectableValues:
              Values:
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 3
                ElementId: 2e786626-8983-4cba-81f6-b378adcdb89d
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 3
                ColumnSpan: 3
                ElementId: 06020d7c-3eeb-4cf8-9325-33683f2b9615
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 8
                ColumnSpan: 2
                ElementId: 9884e25a-602b-48b3-9f36-361073e16ec9
                ElementType: FILTER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 10
                ColumnSpan: 2
                ElementId: 0bf8988e-a8d6-49cb-8773-b1a562998584
                ElementType: FILTER_CONTROL
                RowIndex: 0
                RowSpan: 1
        SheetId: f53c1e71-6dd7-4fb3-9e64-9bed5f908ae1
        TextBoxes:
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Compute</b>
              </inline>
              <br/>
              <br/>
              Using the capabilities of the cloud, you can make frequent changes to your workload implementations. Update deployed components as your needs change.
              <br/>
              <ul>
                <li>Enable horizontal scaling, and use automation to scale out as loads increase and to scale in as loads decrease.</li>
                <li>Scale using small increments for variable workloads.</li>
                <li>Align scaling with cyclical utilization patterns (for example, a payroll system with intense bi-weekly processing activities) as load varies over days, weeks, months, or years.</li>
                <li>Negotiate service level Agreements (SLAs) that allow for a temporary reduction in capacity while automation deploys replacement resources.</li>
              </ul>
            </text-box>
          SheetTextBoxId: 4a99a6ba-87dc-4a69-8aaf-6004b6cb2877
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Alignment to demand</b>
              </inline>
              <br/>
              <br/>
              The way users and applications consume your workloads and other resources can help you identify improvements to meet sustainability goals. Scale infrastructure to continually match demand and verify that you use only the minimum resources required to support your users. Align service levels to customer needs. Position resources to limit the network required for users and applications to consume them. Remove unused assets. Provide your team members with devices that support their needs and minimize their sustainability impact.
              <br/>
              Best practices
              <br/>
              <ul>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a2.html" target="_self">SUS02-BP01 Scale workload infrastructure dynamically</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a3.html" target="_self">SUS02-BP02 Align SLAs with sustainability goals</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a4.html" target="_self">SUS02-BP03 Stop the creation and maintenance of unused assets</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a5.html" target="_self">SUS02-BP04 Optimize geographic placement of workloads based on their networking requirements</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a6.html" target="_self">SUS02-BP05 Optimize team member resources for activities performed</a>
                </li>
                <li>
                  <a href="https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_user_a7.html" target="_self">SUS02-BP06 Implement buffering or throttling to flatten the demand curve</a>
                </li>
              </ul>
            </text-box>
          SheetTextBoxId: aa471b57-124b-4137-bd20-afdf22c737ea
        Visuals:
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: 898cb8bb-eeaa-4936-b354-687172474125
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: account_name
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: 4d22feb2-2623-4113-a230-ee69aa825fd3.account_name.1.1742546726309
                  Values: []
              Legend:
                Title:
                  Visibility: HIDDEN
                Width: 134px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 4d22feb2-2623-4113-a230-ee69aa825fd3.account_name.1.1742546726309
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 898cb8bb-eeaa-4936-b354-687172474125
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>processor architecture</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 2a1a0815-a687-4b91-a2e3-969e38c3fa2d
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: 1b40e723-77e0-4bc0-8df4-86a881e1f878
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_instance_type_family
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700238921353
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
              Legend:
                Title:
                  Visibility: HIDDEN
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700238921353
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 1b40e723-77e0-4bc0-8df4-86a881e1f878
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>instance family</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: a49acb3a-687c-4684-9da7-cf82aa56c8ba
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                ScrollbarOptions:
                  VisibleRange:
                    PercentRange:
                      From: 80.0
                      To: 100.0
              CategoryLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_split
                      FieldId: baf7b28d-5890-4873-b630-d3ee666f73ab.2.1720097182952
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: line_item_product_code
                        DataSetIdentifier: sus_compute_split
                      FieldId: 3b98fdf2-4730-401d-b095-59581cce1db9.account_email_id.2.1720097164432
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_split
                      FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
              Legend:
                Height: 73px
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 3af7087e-542f-439f-b88c-822cc9cacd3c.account_business_metric.2.1720097158417
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3b98fdf2-4730-401d-b095-59581cce1db9.account_email_id.2.1720097164432
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: baf7b28d-5890-4873-b630-d3ee666f73ab.2.1720097182952
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: "<visual-title>\n  vCPU hours per\n  <b>compute type (Amazon EC2,\
                  \ AWS Lambda, AWS Fargate on Amazon EKS/ Amazon ECS)</b>\n  \_by account/\
                  \ tag.\n</visual-title>"
              Visibility: VISIBLE
            VisualId: 32dfb599-195a-4f32-8723-7cbc2af1ee4c
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisuals:
                      - 2a1a0815-a687-4b91-a2e3-969e38c3fa2d
                      - a49acb3a-687c-4684-9da7-cf82aa56c8ba
                      - 0fa0ed41-e258-40b3-944c-5cb0c4f14067
              CustomActionId: 065f054a-6628-4d25-97ed-71569be54d84
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              CategoryLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_instance_type_family
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700234180601
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
              Legend:
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.1.1700231565023
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.2.1700231898258
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.product_instance_type_family.2.1700234180601
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                SortIconVisibility: VISIBLE
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: "<visual-title>\n  EC2 vCPU hours per\n  <b>\_instance family</b>\n\
                  \  \_by account/ tag. Select account/ tag here to filter visuals by.\n\
                  </visual-title>"
              Visibility: VISIBLE
            VisualId: ac891da8-cdde-47bc-80cc-df5be694ecf6
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: line_item_usage_start_date
                      DataSetIdentifier: sus_compute_ec2
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                  CustomLabel: Date Range
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_compute_ec2
                      DateGranularity: WEEK
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      HierarchyId: 85b1cbd5-12bd-42f5-89cf-860355143d8d
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.2.1700238123828
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_compute_ec2
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
              Legend:
                Title:
                  Visibility: HIDDEN
                Width: 134px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ab737a73-894c-4495-b12d-bf17cfb6b935.line_item_usage_start_date.0.1700238101260
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: bd8978de-d191-4609-b6eb-08184efc7d03.1.1700238113797
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 97d64d33-c889-46a0-8cd2-239914cf2c68.2.1700238123828
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 85b1cbd5-12bd-42f5-89cf-860355143d8d
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    divided by business metrics:
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    EC2 vCPU hours by
                    <b>account/ tag</b>
                    . Select account/ tag on instance family graph to filter.
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 0fa0ed41-e258-40b3-944c-5cb0c4f14067
      - ContentType: INTERACTIVE
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 7740190f-fa1b-4449-a482-d095b11266c3
            SourceFilterId: 9f1e1c2f-0bfb-450e-aac5-9a44e226ac50
            Title: Date Range
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 554e1afc-a5b6-47e7-a14d-f5c8dc88a669
            SourceFilterId: 86c036b2-5ce8-42d2-a84d-1efd0ed9104a
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: f7ed35cd-49b5-455e-82eb-924a1e37c2a3
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 5
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: 3a2786de-3c98-4233-8b05-6eefe3371db5
                ElementType: VISUAL
                RowIndex: 5
                RowSpan: 9
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 7bb597ea-b966-4b83-9680-a68733f6707a
                ElementType: VISUAL
                RowIndex: 5
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: e2fb846a-1509-4437-bb44-fa3f53238488
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 10
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 53e33142-0c45-4371-b48a-10107bbb5d43
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 10
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: e6f75b3a-b89c-4df4-939b-c52526909052
                ElementType: TEXT_BOX
                RowIndex: 24
                RowSpan: 5
        Name: Storage Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 51a16e42-465d-44a9-8821-53c2859a9fa5
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: dd44d939-0e0e-4598-8dda-2564e6ea2374
            SelectableValues:
              Values:
              - ''
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnSpan: 2
                ElementId: 51a16e42-465d-44a9-8821-53c2859a9fa5
                ElementType: PARAMETER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: dd44d939-0e0e-4598-8dda-2564e6ea2374
                ElementType: PARAMETER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 7740190f-fa1b-4449-a482-d095b11266c3
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 554e1afc-a5b6-47e7-a14d-f5c8dc88a669
                ElementType: FILTER_CONTROL
                RowSpan: 1
        SheetId: f672a1e2-ddeb-49b9-b89f-2880d60fa7ed
        TextBoxes:
        - Content: "<text-box>\n  <inline font-size=\"20px\">\n    <b>Storage</b>\n  </inline>\n\
            \  <br/>\n  <br/>\n  Implement data management practices to reduce the provisioned\
            \ storage required to support your workload, and the resources required to use\
            \ it. Understand your data, and use storage technologies and configurations\
            \ that best support the business value of the data and how it\u2019s used. Lifecycle\
            \ data to more efficient, less performant storage when requirements decrease,\
            \ and delete data that\u2019s no longer required.\n  <br/>\n  <br/>\n  <ul>\n\
            \    <li>Implement a data classification policy</li>\n    <li>Use technologies\
            \ that support data access and storage patterns SUS04-BP03 Use lifecycle policies\
            \ to delete unnecessary data\_</li>\n    <li>Minimize over-provisioning in block\
            \ storage\_</li>\n    <li>Remove unneeded or redundant data Use shared file\
            \ systems or object storage to access common data\_</li>\n    <li>Minimize data\
            \ movement across networks\_</li>\n    <li>Back up data only when difficult\
            \ to recreate</li>\n  </ul>\n</text-box>"
          SheetTextBoxId: f7ed35cd-49b5-455e-82eb-924a1e37c2a3
        - Content: "<text-box>\n  Implement data management practices to reduce the provisioned\
            \ storage required to support your workload, and the resources required to use\
            \ it. Understand your data, and use storage technologies and configurations\
            \ that best support the business value of the data and how it\u2019s used. Lifecycle\
            \ data to more efficient, less performant storage when requirements decrease,\
            \ and delete data that\u2019s no longer required.\n  <br/>\n  Best practices\n\
            \  <br/>\n  <ul>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a2.html\"\
            \ target=\"_self\">SUS04-BP01 Implement a data classification policy</a>\n \
            \   </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a3.html\"\
            \ target=\"_self\">SUS04-BP02 Use technologies that support data access and\
            \ storage patterns</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a4.html\"\
            \ target=\"_self\">SUS04-BP03 Use policies to manage the lifecycle of your datasets</a>\n\
            \    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a5.html\"\
            \ target=\"_self\">SUS04-BP04 Use elasticity and automation to expand block\
            \ storage or file system</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a6.html\"\
            \ target=\"_self\">SUS04-BP05 Remove unneeded or redundant data</a>\n    </li>\n\
            \    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a7.html\"\
            \ target=\"_self\">SUS04-BP06 Use shared file systems or storage to access common\
            \ data</a>\n    </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a8.html\"\
            \ target=\"_self\">SUS04-BP07 Minimize data movement across networks</a>\n \
            \   </li>\n    <li>\n      <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a9.html\"\
            \ target=\"_self\">SUS04-BP08 Back up data only when difficult to recreate</a>\n\
            \    </li>\n  </ul>\n  <br/>\n</text-box>"
          SheetTextBoxId: e6f75b3a-b89c-4df4-939b-c52526909052
        Visuals:
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: cf3be7eb-d856-4660-aaa6-68da231e9a91
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_storage_athena
                      DateGranularity: WEEK
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                      HierarchyId: 09d7891d-e378-45a9-ba0e-30c0fa68a33e
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: bill_payer_account_id
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.bill_payer_account_id.2.1683560131825
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_storage_athena
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1681309891696
              Legend:
                Position: BOTTOM
                Title:
                  CustomLabel: Volume Type
              PrimaryYAxisLabelOptions:
                Visibility: HIDDEN
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1681309891696
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_usage_start_date.1.1683546405166
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.bill_payer_account_id.2.1683560131825
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
              XAxisLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 09d7891d-e378-45a9-ba0e-30c0fa68a33e
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>EBS Storge usage by Volume Type (Can drill from
                  graph on left)</visual-title>
              Visibility: VISIBLE
            VisualId: 7bb597ea-b966-4b83-9680-a68733f6707a
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 89e15c6c-2428-420a-8f8b-f47efc1de7a2
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: GroupByCalcF
                      DataSetIdentifier: sus_storage_athena
                    FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  CustomLabel: Workload
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: line_item_operation
                        DataSetIdentifier: sus_storage_athena
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_operation.2.1683546352209
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_storage_athena
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
              Legend:
                Height: 39px
                Position: TOP
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 2f17010b-5483-4c13-8fad-91de8cbf1ae1.2.1678976087869
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3bf588fa-4b55-4746-b422-1799d4cb51ff.line_item_operation.2.1683546352209
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_storage_athena
                    FieldId: d2a67dd9-41bb-4ccc-89e3-a251373691d4.2.1687959874555
                  CustomLabel: 'Sum Gb '
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              Visibility: HIDDEN
            Title:
              FormatText:
                RichText: <visual-title>EBS Storage GB per month, split by Volume Type.
                  Select Workload to drill to volume  type on right</visual-title>
              Visibility: VISIBLE
            VisualId: 3a2786de-3c98-4233-8b05-6eefe3371db5
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration: {}
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisuals:
                      - 7bb597ea-b966-4b83-9680-a68733f6707a
                      - 3a2786de-3c98-4233-8b05-6eefe3371db5
                      - 53e33142-0c45-4371-b48a-10107bbb5d43
              CustomActionId: b2f051f9-8c6a-4448-bace-1e9759d9543f
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupBy
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 59cccdaa-584e-476e-88c2-f9e1b3baf622.1.1720082236358
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: operation
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1726834683405
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
              Legend:
                Height: 72px
                Position: TOP
                Title:
                  Visibility: HIDDEN
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 59cccdaa-584e-476e-88c2-f9e1b3baf622.1.1720082236358
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1726834651149
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1726834683405
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>S3 Storage GB per month, split by S3 Storage Classes.
                  Select Workload to drill to volume  type on right</visual-title>
              Visibility: VISIBLE
            VisualId: e2fb846a-1509-4437-bb44-fa3f53238488
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: a5036eb4-98eb-4089-9335-7d4675426170
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_date
                        DataSetIdentifier: sus_s3_storage_all
                      DateGranularity: WEEK
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                      HierarchyId: 02b947e0-4bc1-4348-88b8-47c86e7af193
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: operation
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1683546585263
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_s3_storage_all
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
              Legend:
                Position: TOP
                Title:
                  Visibility: HIDDEN
                Visibility: VISIBLE
              PrimaryYAxisLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_s3_storage_all
                    FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
                  CustomLabel: Scaled GB
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 8915baed-f050-4355-9bcd-0d7f208fbf92.2.1681310102385
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.operation.2.1683546585263
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 79a028a3-aae7-4f70-8f72-e654a6bf1464.usage_date.2.1683546603083
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 02b947e0-4bc1-4348-88b8-47c86e7af193
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Storage Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>S3 usage by S3 Storage Classes in GB (Can drill
                  down into workload using graph on the left)</visual-title>
              Visibility: VISIBLE
            VisualId: 53e33142-0c45-4371-b48a-10107bbb5d43
      - ContentType: INTERACTIVE
        FilterControls:
        - RelativeDateTime:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD HH:mm:ss
              InfoIconLabelOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 1e1f5b6f-628f-4363-bc72-eab5c694ad9c
            SourceFilterId: 6da7de44-c53e-4eb1-9f1a-2de035c2825f
            Title: Date Range
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: a8b04538-0d3d-4963-8242-03c294342c8d
            SourceFilterId: 2fdbd16b-e07d-4b5c-b5f0-a38c7451ce94
            Title: Payer Account
            Type: MULTI_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 4
                ElementId: 2ff7484f-0d0d-4189-a231-011b1e0dee24
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 4
                ColumnSpan: 16
                ElementId: 02ab71cd-95fe-4ce1-889a-403a4157e210
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 20
                ColumnSpan: 16
                ElementId: 3300eeeb-541e-4071-b6de-f912d2eba711
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 2f986936-23e9-4e75-9e89-041d0f7f04b8
                ElementType: TEXT_BOX
                RowIndex: 9
                RowSpan: 5
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: a39c99cd-0be0-496f-ada0-bd101bc70bfe
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 9
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 6ce502f2-57d1-4ce0-b015-ee64812897cf
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 9
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: f46bfae0-ea2e-4c4f-907f-9f1d9ea7b4a8
                ElementType: TEXT_BOX
                RowIndex: 29
                RowSpan: 6
        Name: Data Transfer / Networking Proxies
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: d7c3a6ca-195e-49e2-bd1b-997a730e499f
            SelectableValues:
              Values:
              - 'No'
              - 'Yes'
            SourceParameterName: IncludeKPI
            Title: Include Business KPI
            Type: SINGLE_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: f0ea9132-ca93-4fe4-bc76-e88c2111b6d5
            SelectableValues:
              Values:
              - Environment Tag
              - Linked Account
            SourceParameterName: GroupByPara
            Title: Group By
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnIndex: 4
                ColumnSpan: 2
                ElementId: f0ea9132-ca93-4fe4-bc76-e88c2111b6d5
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnIndex: 6
                ColumnSpan: 2
                ElementId: d7c3a6ca-195e-49e2-bd1b-997a730e499f
                ElementType: PARAMETER_CONTROL
                RowIndex: 0
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 1e1f5b6f-628f-4363-bc72-eab5c694ad9c
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: a8b04538-0d3d-4963-8242-03c294342c8d
                ElementType: FILTER_CONTROL
                RowSpan: 1
        SheetId: 6f379d1e-3b60-4353-8271-1bb54394e233
        TextBoxes:
        - Content: |-
            <text-box>
              <inline font-size="20px">
                <b>Data Transfer</b>
              </inline>
              <br/>
              <br/>
              Use shared storage and access data from regional data stores to minimize the total networking resources required to support data movement for your workload.
            </text-box>
          SheetTextBoxId: 2ff7484f-0d0d-4189-a231-011b1e0dee24
        - Content: "<text-box>\n  <inline color=\"#fffbfb\" font-size=\"20px\">\n    <b>Minimize\
            \ data movement across networks</b>\n  </inline>\n  <br/>\n  <br/>\n  <inline\
            \ color=\"#fffbfb\">Use shared file systems or object storage to access common\
            \ data and minimize the total networking resources required to support data\
            \ movement for your workload.</inline>\n  <br/>\n  <inline color=\"#fffbfb\"\
            >\n    <b>Common anti-patterns:</b>\n  </inline>\n  <br/>\n  <ul>\n    <li>\n\
            \      <inline color=\"#fffbfb\">You store all data in the same AWS Region independent\
            \ of where the data users are.</inline>\n    </li>\n    <li>\n      <inline\
            \ color=\"#fffbfb\">You do not optimize data size and format before moving it\
            \ over the network.</inline>\n    </li>\n  </ul>\n  <br/>\n  <inline color=\"\
            #fffbfb\">\n    <b>Benefits of establishing this best practice:</b>\n  </inline>\n\
            \  <inline color=\"#fffbfb\">\_Optimizing data movement across the network reduces\
            \ the total networking resources required for the workload and lowers its environmental\
            \ impact.</inline>\n  <br/>\n  <inline color=\"#fffbfb\">\n    <b>Level of risk\
            \ exposed if this best practice is not established:</b>\n  </inline>\n  <inline\
            \ color=\"#fffbfb\">\_Mediu</inline>\n  m\n  <br/>\n  <br/>\n  <br/>\n  Implementation\
            \ Guidance can be found :\n  <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_data_a8.html\"\
            \ target=\"_blank\">here</a>\n</text-box>"
          SheetTextBoxId: 2f986936-23e9-4e75-9e89-041d0f7f04b8
        - Content: "<text-box>\n  <inline color=\"#fdfdfd\" font-size=\"20px\">\n    <b>Use\
            \ the minimum amount of hardware to meet your needs</b>\n  </inline>\n  <br/>\n\
            \  <br/>\n  <inline color=\"#fdfdfd\">Use the minimum amount of hardware for\
            \ your workload to efficiently meet your business needs.</inline>\n  <br/>\n\
            \  <inline color=\"#fdfdfd\">\n    <b>Common anti-patterns:</b>\n  </inline>\n\
            \  <br/>\n  <ul>\n    <li>\n      <inline color=\"#fdfdfd\">You do not monitor\
            \ resource utilization.</inline>\n    </li>\n    <li>\n      <inline color=\"\
            #fdfdfd\">You have resources with a low utilization level in your architecture.</inline>\n\
            \    </li>\n    <li>\n      <inline color=\"#fdfdfd\">You do not review the\
            \ utilization of static hardware to determine if it should be resized.</inline>\n\
            \    </li>\n    <li>\n      <inline color=\"#fdfdfd\">You do not set hardware\
            \ utilization goals for your compute infrastructure based on business KPIs.</inline>\n\
            \    </li>\n  </ul>\n  <br/>\n  <inline color=\"#fdfdfd\">\n    <b>Benefits\
            \ of establishing this best practice:</b>\n  </inline>\n  <inline color=\"#fdfdfd\"\
            >\_Rightsizing your cloud resources helps to reduce a workload\u2019s environmental\
            \ impact, save money, and maintain performance benchmarks.</inline>\n  <br/>\n\
            \  <inline color=\"#fdfdfd\">\n    <b>Level of risk exposed if this best practice\
            \ is not established:</b>\n  </inline>\n  <inline color=\"#fdfdfd\">\_Medium</inline>\n\
            \  <br/>\n  <br/>\n  <inline color=\"#fdfdfd\">More infomation can be found\_\
            </inline>\n  <a href=\"https://docs.aws.amazon.com/wellarchitected/latest/sustainability-pillar/sus_sus_hardware_a2.html\"\
            \ target=\"_blank\">here</a>\n</text-box>"
          SheetTextBoxId: f46bfae0-ea2e-4c4f-907f-9f1d9ea7b4a8
        Visuals:
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 6499e9be-d5fa-4857-b4ce-ba3d08abf412
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: GroupByCalcF
                      DataSetIdentifier: sus_network
                    FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                  CustomLabel: Workload
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_network
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: TransferType
                        DataSetIdentifier: sus_network
                      FieldId: fcbd1a4b-bbf5-4c36-a76d-2fd01f3bd7d7.2.1681738442985
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_network
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
              Legend:
                Height: 38px
                Position: BOTTOM
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: EXCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
                ColorItemsLimit:
                  OtherCategories: EXCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: EXCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1681735401047
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: fcbd1a4b-bbf5-4c36-a76d-2fd01f3bd7d7.2.1681738442985
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.2.1687959499271
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Data Transfer Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    Type of Data Transfer by
                    <parameter>${GroupByPara}</parameter>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 02ab71cd-95fe-4ce1-889a-403a4157e210
        - LineChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 564bd394-a85a-40e3-b175-44890e11970d
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                LineChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: line_item_usage_start_date
                        DataSetIdentifier: sus_network
                      FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                      HierarchyId: c31119fd-0e43-4707-bc01-c095126b4fd9
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_network
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1684932771784
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_network
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.0.1684932729355
              PrimaryYAxisLabelOptions:
                Visibility: HIDDEN
              SortConfiguration:
                CategoryItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                ColorItemsLimitConfiguration:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 3c7396b9-4173-4dbb-8792-53a489410c22.0.1684932729355
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: caf3fe2c-94fd-45ed-9041-21dbd137f238.1.1684932771784
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: d8a05f09-6cb3-40e0-b9c8-482512b1727a.line_item_usage_start_date.2.1684932783927
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              Type: STACKED_AREA
              XAxisLabelOptions:
                Visibility: HIDDEN
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: c31119fd-0e43-4707-bc01-c095126b4fd9
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    Data Transfer Usage devided by KPI Included :
                    <parameter>${IncludeKPI}</parameter>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Data Transfer by workload over time</visual-title>
              Visibility: VISIBLE
            VisualId: 3300eeeb-541e-4071-b6de-f912d2eba711
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: ' line_item_usage_start_date'
                        DataSetIdentifier: sus_idle_natgw
                      DateGranularity: MONTH
                      FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                      HierarchyId: 3aea5d35-2407-482c-b59a-181cba671d2e
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_idle_natgw
                      FieldId: 63dc79c9-c563-49a4-a28a-e8102725ac36.0.1685015384992
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_idle_natgw
                      FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 63dc79c9-c563-49a4-a28a-e8102725ac36.0.1685015384992
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 9ccc7eca-99c4-46a1-bf9d-08c4a2a5ab01.2.1685022969410
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_idle_natgw
                    FieldId: 77e3a993-4686-4ad4-9f95-3172a8efcd58.1.1685015746261
                  CustomLabel: Usage
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 3aea5d35-2407-482c-b59a-181cba671d2e
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Idle NAT Gateways - (No data going through them)</visual-title>
              Visibility: VISIBLE
            VisualId: a39c99cd-0be0-496f-ada0-bd101bc70bfe
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: bill_billing_period_start_date
                      DataSetIdentifier: sus_idle_elb
                    FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                  CustomLabel: Month / Year
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: bill_billing_period_start_date
                        DataSetIdentifier: sus_idle_elb
                      DateGranularity: MONTH
                      FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                      HierarchyId: 148df59c-ae4f-4a5d-ae31-e3eef0f58696
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: GroupByCalcF
                        DataSetIdentifier: sus_idle_elb
                      FieldId: 42aa41d6-62fb-45bc-a9ce-72c024737eb1.2.1685016596634
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: ScaledValue
                        DataSetIdentifier: sus_idle_elb
                      FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 16f9dbb4-1845-488b-9382-dba4fe06a027.bill_billing_period_start_date.0.1685016586619
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 42aa41d6-62fb-45bc-a9ce-72c024737eb1.2.1685016596634
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: BASIC
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: ScaledValue
                      DataSetIdentifier: sus_idle_elb
                    FieldId: 473f38cd-bdea-44dd-8215-d93b92741e22.1.1685016592817
                  CustomLabel: Usage
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 148df59c-ae4f-4a5d-ae31-e3eef0f58696
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Idle Elastic Load Balancers - (Little traffic over
                  montly period)</visual-title>
              Visibility: VISIBLE
            VisualId: 6ce502f2-57d1-4ce0-b015-ee64812897cf
      - ContentType: INTERACTIVE
        FilterControls:
        - CrossSheet:
            FilterControlId: d4e5894d-fb19-4968-9e06-b9485c5eda28
            SourceFilterId: 6c80c8d1-a7bc-4f45-bdb4-6f46bdc2a7d6
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 1e2f3a1b-45a9-4ae6-b150-75298a4dfb44
            SourceFilterId: e91cbb06-a972-4743-81ea-ee89edd2c14b
            Title: Account ID
            Type: MULTI_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: 3c0844d2-1274-4ba5-b661-6674277b6f20
            SourceFilterId: a41ac62f-7ed7-45a5-810d-b449c3d0eec2
            Title: Management Account ID
            Type: MULTI_SELECT
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            FilterControlId: a3064b0c-41ec-4d3f-8648-9e1f113873c3
            SourceFilterId: 08d7cdf2-a43e-4187-ace2-98557ebfee3e
            Title: Methodology Version
            Type: SINGLE_SELECT
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: a59bf304-620c-43dd-b6f5-0f724d15b98b
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 2
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 5ec23d54-4592-4cd0-8497-5a7ef33b5513
                ElementType: VISUAL
                RowIndex: 2
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 72c28301-3669-4f4c-828e-8610301f7bca
                ElementType: VISUAL
                RowIndex: 14
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 18
                ElementId: fb6e5439-1148-4e0e-aaf3-860b5908f1ac
                ElementType: VISUAL
                RowIndex: 26
                RowSpan: 12
              - ColumnIndex: 18
                ColumnSpan: 18
                ElementId: 21a6daac-7746-4635-a1f0-6b4ed1d4efbb
                ElementType: VISUAL
                RowIndex: 26
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 932ce662-9ac9-4700-ad45-c6da8b2da5c5
                ElementType: VISUAL
                RowIndex: 38
                RowSpan: 12
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 5d35488e-99d3-4c1a-b049-14b7241880b0
                ElementType: VISUAL
                RowIndex: 50
                RowSpan: 13
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 5f12bb37-8b9a-42c3-bd75-d33b56f7c43d
                ElementType: VISUAL
                RowIndex: 63
                RowSpan: 12
        Name: Carbon Emissions
        ParameterControls:
        - Dropdown:
            DisplayOptions:
              InfoIconLabelOptions:
                Visibility: HIDDEN
              SelectAllOptions:
                Visibility: HIDDEN
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 34357347-a949-47f0-a449-89b6f67d32c7
            SelectableValues:
              Values:
              - location-based method
              - market-based method
            SourceParameterName: scope2Method
            Title: Scope 2 Method
            Type: SINGLE_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements:
              - ColumnSpan: 2
                ElementId: d4e5894d-fb19-4968-9e06-b9485c5eda28
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 1e2f3a1b-45a9-4ae6-b150-75298a4dfb44
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 3c0844d2-1274-4ba5-b661-6674277b6f20
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: a3064b0c-41ec-4d3f-8648-9e1f113873c3
                ElementType: FILTER_CONTROL
                RowSpan: 1
              - ColumnSpan: 2
                ElementId: 34357347-a949-47f0-a449-89b6f67d32c7
                ElementType: PARAMETER_CONTROL
                RowSpan: 1
        SheetId: 156ba9c5-51b9-43b7-8afe-5bff0eed39f8
        TextBoxes:
        - Content: "<text-box>\n  <b>Carbon Emissions Data Export</b>\n  <br/>\n  <br/>\n\
            \  You can use the\n  <a href=\"https://aws.amazon.com/aws-cost-management/aws-customer-carbon-footprint-tool/\"\
            \ target=\"_blank\">\_Customer Carbon Footprint Tool\_</a>\n  (CCFT) to view\
            \ estimates of the carbon emissions associated with your AWS products and services.\n\
            \  <br/>\n  These visuals show data from the Customer Carbon Footprint Tool,\
            \ made available through the\n  <a href=\"https://docs.aws.amazon.com/cur/latest/userguide/table-dictionary-carbon-emissions.html\"\
            \ target=\"_blank\">\_Carbon emissions Data Export</a>\n  . To learn more about\
            \ the methodology of the customer carbon footprint tool, check out the\n  <a\
            \ href=\"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/what-is-ccft.html\
            \ \" target=\"_blank\">\_documentation</a>\n  .\n</text-box>"
          SheetTextBoxId: a59bf304-620c-43dd-b6f5-0f724d15b98b
        Visuals:
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                DataOptions:
                  DateAxisOptions:
                    MissingDateVisibility: HIDDEN
                ScrollbarOptions:
                  Visibility: HIDDEN
                TickLabelOptions:
                  LabelOptions:
                    Visibility: VISIBLE
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: usage_period_end
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_end.0.1742379968237
                  CustomLabel: Usage Period
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_period_end
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_end.0.1742379968237
                      FormatConfiguration:
                        DateTimeFormat: MMM YYYY
                        NullValueFormatConfiguration:
                          NullString: 'null'
                      HierarchyId: 0ef752fc-70ff-46fd-94ae-f69834368202
                  Colors: []
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717311848
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Width: 150px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717311848
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_end.0.1742379968237
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717311848
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: scope2_method_total_emissions_value
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717311848
                  CustomLabel: Emissions in MTCO2e
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 0ef752fc-70ff-46fd-94ae-f69834368202
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Select Scope 2 method (market- or location-based)
                  in the control on top</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Total Carbon Emissions (Scope 1 and Scope 2) over all selected Account IDs per month</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 5ec23d54-4592-4cd0-8497-5a7ef33b5513
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380127973
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 5ee35a11-5ce9-456d-8382-2db10131e861
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: calc_account_name
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 92b3fd72-954d-4f94-a85c-05325e2a066e.2.1751617984798
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region_code
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380127973
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717335310
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Width: 137px
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 92b3fd72-954d-4f94-a85c-05325e2a066e.2.1751617984798
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380127973
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717335310
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 92b3fd72-954d-4f94-a85c-05325e2a066e.2.1751617984798
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: scope2_method_total_emissions_value
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717335310
                  CustomLabel: Emissions in MTCO2e
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: <visual-subtitle>Click on the region to filter all other graphs
                  by that region</visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Carbon Emissions (Scope 1 and Scope 2) per account ID and region</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 72c28301-3669-4f4c-828e-8610301f7bca
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - c76d8008-4ede-425f-8e40-fc2705e176c2.product_code.2.1742380231427
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisuals:
                      - 5ec23d54-4592-4cd0-8497-5a7ef33b5513
                      - 72c28301-3669-4f4c-828e-8610301f7bca
                      - 21a6daac-7746-4635-a1f0-6b4ed1d4efbb
                      - 932ce662-9ac9-4700-ad45-c6da8b2da5c5
              CustomActionId: 9560a83c-4475-4540-9b25-305729e5017d
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                ScrollbarOptions:
                  Visibility: HIDDEN
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: usage_period_start
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380220073
                  CustomLabel: Usage Period
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_period_start
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380220073
                      FormatConfiguration:
                        DateTimeFormat: MMM YYYY
                        NullValueFormatConfiguration:
                          NullString: 'null'
                      HierarchyId: b56cffa4-283c-4002-990f-108666c1792d
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_code
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.product_code.2.1742380231427
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717502293
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Width: 118px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380220073
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380220073
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.product_code.2.1742380231427
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717502293
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: scope2_method_total_emissions_value
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717502293
                  CustomLabel: Emissions in MTCO2e
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: b56cffa4-283c-4002-990f-108666c1792d
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    <inline font-size="14px">Click on the product to filter all other graphs by that product</inline>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Carbon emissions per product per month</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: fb6e5439-1148-4e0e-aaf3-860b5908f1ac
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380361975
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: c1acce44-d88f-4bdd-9b95-e16655097ca5
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryAxis:
                ScrollbarOptions:
                  Visibility: HIDDEN
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: usage_period_start
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380326018
                  CustomLabel: Usage Period
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_period_start
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380326018
                      FormatConfiguration:
                        DateTimeFormat: MMM YYYY
                        NullValueFormatConfiguration:
                          NullString: 'null'
                      HierarchyId: c3f99ab6-15b2-4907-bc8e-b567bd0a0636
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region_code
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380361975
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717515372
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Width: 132px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380326018
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.usage_period_start.0.1742380326018
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.2.1742380361975
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717515372
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: scope2_method_total_emissions_value
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717515372
                  CustomLabel: Emissions in MTCO2e
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: c3f99ab6-15b2-4907-bc8e-b567bd0a0636
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    <inline font-size="14px">Click on the region to filter all other graphs by that region</inline>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Carbon emissions per AWS region per month</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 21a6daac-7746-4635-a1f0-6b4ed1d4efbb
        - SankeyDiagramVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.0.1742380657611
                    - c76d8008-4ede-425f-8e40-fc2705e176c2.product_code.1.1742380661572
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: c92801ca-018f-4d8a-a866-ab9ec5b68516
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                SankeyDiagramAggregatedFieldWells:
                  Destination:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: product_code
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.product_code.1.1742380661572
                  Source:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region_code
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c76d8008-4ede-425f-8e40-fc2705e176c2.region_code.0.1742380657611
                  Weight:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717530565
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              SortConfiguration:
                WeightSort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.2.1749717530565
            Subtitle:
              FormatText:
                RichText: |-
                  <visual-subtitle>
                    <inline font-size="14px">Click on the region or product to filter all other graphs by that region or product</inline>
                  </visual-subtitle>
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">Mapping of carbon emissions from AWS regions to product codes</inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 932ce662-9ac9-4700-ad45-c6da8b2da5c5
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: usage_period_start
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 6b660d29-51ed-4409-92fd-7867809b97f4.usage_period_start.1.1742995406701
                  CustomLabel: Usage Period
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_period_start
                        DataSetIdentifier: sus_carbon_emissions
                      DateGranularity: MONTH
                      FieldId: 6b660d29-51ed-4409-92fd-7867809b97f4.usage_period_start.1.1742995406701
                      FormatConfiguration:
                        DateTimeFormat: MMM YYYY
                        NullValueFormatConfiguration:
                          NullString: 'null'
                      HierarchyId: 344de0b0-0e6b-407a-a7bc-7857bbcb5162
                  Colors: []
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: scope2_method_total_emissions_value
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717543453
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Legend:
                Width: 152px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: ASC
                    FieldId: 6b660d29-51ed-4409-92fd-7867809b97f4.usage_period_start.1.1742995406701
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: 6b660d29-51ed-4409-92fd-7867809b97f4.usage_period_start.1.1742995406701
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717543453
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: scope2_method_total_emissions_value
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: 07a10654-dc4e-4929-91b1-da9214184165.1.1749717543453
                  CustomLabel: Emissions in MTCO2e
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 344de0b0-0e6b-407a-a7bc-7857bbcb5162
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Total Carbon Emissions (Scope 1 and Scope 2) over all selected Management IDs per month</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 5d35488e-99d3-4c1a-b049-14b7241880b0
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: CLUSTERED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: usage_period_start
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: c01a9a46-b2c5-4293-ad45-89532d8ff839.usage_period_start.1.1749717824028
                  CustomLabel: Usage Period (Month)
              DataLabels:
                Overlap: DISABLE_OVERLAP
                Visibility: HIDDEN
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - DateDimensionField:
                      Column:
                        ColumnName: usage_period_start
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: c01a9a46-b2c5-4293-ad45-89532d8ff839.usage_period_start.1.1749717824028
                      HierarchyId: 299346eb-8995-4287-a01d-05509aea6be2
                  Colors: []
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: estimated_carbon_emissions_reduction
                        DataSetIdentifier: sus_carbon_emissions
                      FieldId: f2104a02-11ee-4d9b-8998-58fe1fea7e03.0.1749717819559
                      FormatConfiguration:
                        FormatConfiguration:
                          NumberDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 5
                            NullValueFormatConfiguration:
                              NullString: 'null'
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: c01a9a46-b2c5-4293-ad45-89532d8ff839.usage_period_start.1.1749717824028
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: f2104a02-11ee-4d9b-8998-58fe1fea7e03.0.1749717819559
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: c01a9a46-b2c5-4293-ad45-89532d8ff839.usage_period_start.1.1749717824028
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: estimated_carbon_emissions_reduction
                      DataSetIdentifier: sus_carbon_emissions
                    FieldId: f2104a02-11ee-4d9b-8998-58fe1fea7e03.0.1749717819559
                  CustomLabel: Emissions Reduction in MTCO2e
            ColumnHierarchies:
            - DateTimeHierarchy:
                DrillDownFilters: []
                HierarchyId: 299346eb-8995-4287-a01d-05509aea6be2
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <inline font-size="14px">
                      <b>Estimated carbon emission reduction due to AWS's renewable energy purchases</b>
                    </inline>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 5f12bb37-8b9a-42c3-bd75-d33b56f7c43d
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            FreeFormLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1920px
              Elements:
              - ElementId: 454a898f-6a40-417f-946e-d95a4711f3d4
                ElementType: VISUAL
                Height: 272px
                Visibility: VISIBLE
                Width: 1792px
                XAxisLocation: 0px
                YAxisLocation: 0px
              - ElementId: 0d89259f-86e0-48f6-a41b-4ca335f8ab8b
                ElementType: VISUAL
                Height: 784px
                Visibility: VISIBLE
                Width: 1792px
                XAxisLocation: 0px
                YAxisLocation: 272px
        Name: About
        SheetId: 0f878f38-30d3-40f8-8323-642fa0808eb5
        Visuals:
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  <inline font-size=\"54.88px\">Notices</inline>\n\
                  \  <br/>\n  <br/>\n  <inline font-size=\"19.2px\">Customers are responsible\
                  \ for making their own independent assessment of\_this dashboard and its\
                  \ content.\_This dashboard and its content: (a) is for informational purposes\
                  \ only, (b) represents current AWS product offerings and practices, which\
                  \ are subject to change without notice, and (c) does not create any commitments\
                  \ or assurances from AWS and its affiliates, suppliers or licensors. AWS\_\
                  content, products or services are provided \u201Cas is\u201D without warranties,\
                  \ representations, or conditions of any kind, whether express or implied.\
                  \ The responsibilities and liabilities of AWS to its customers are controlled\
                  \ by AWS agreements, and this document is not part of, nor does it modify,\
                  \ any agreement between AWS and its customers.</inline>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: 454a898f-6a40-417f-946e-d95a4711f3d4
        - InsightVisual:
            Actions: []
            DataSetIdentifier: sus_geo_region_athena
            InsightConfiguration:
              Computations: []
              CustomNarrative:
                Narrative: "<narrative>\n  <block align=\"center\">\n    <inline font-size=\"\
                  68.8px\">Sustainability Proxy\_</inline>\n    <inline color=\"#f6f9f9\"\
                  \ font-size=\"68.8px\">Dashboard</inline>\n  </block>\n  <br/>\n  <block\
                  \ align=\"center\">\n    <inline font-size=\"68.8px\">\n      <b>v5.0.1</b>\n\
                  \    </inline>\n  </block>\n  <br/>\n  <block align=\"center\">\n    <inline\
                  \ font-size=\"22.4px\">\n      <b>Sustainability Dashboard Metrics Optimization\
                  \ Solution</b>\n    </inline>\n  </block>\n  <br/>\n  <block align=\"\
                  center\"/>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block align=\"\
                  right\"/>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block align=\"\
                  center\"/>\n  <br/>\n  <block align=\"center\"/>\n  <br/>\n  <block align=\"\
                  right\">Built by: Tom Coombs, Steffen Grunwald, Katja Philipp, Iakov Gan,\
                  \ Yuriy Prykhodko</block>\n  <br/>\n  <block align=\"right\">\n    Learn\
                  \ more about AWS Cloud Intelligence Dashboards (CID) on\n    <inline color=\"\
                  #61d1d6\">\n      <a href=\"https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/\"\
                  \ target=\"_blank\">AWS Well-Architected Labs</a>\n    </inline>\n   \
                  \ \_and\n    <inline color=\"#61d1d6\">\n      <a href=\"https://www.youtube.com/channel/UCl0O3ASMCwA_gw0QIKzoU3Q\"\
                  \ target=\"_blank\">CID YouTube Channel</a>\n    </inline>\n  </block>\n\
                  \  <br/>\n  <block align=\"right\">Powered by: Amazon QuickSight, Amazon\
                  \ Athena, Amazon S3</block>\n  <br/>\n  <block align=\"right\">\n    If\
                  \ you wish to provide feedback or report an error please email:\n    <inline\
                  \ color=\"#61d1d6\">\_</inline>\n    <inline color=\"#61d1d6\">\n    \
                  \  <a href=\"mailto:cloud-intelligence-dashboards@amazon.com?subject=CID%20Dashboard%20Feedback\"\
                  \ target=\"_blank\">cloud-intelligence-dashboards@amazon.com</a>\n   \
                  \ </inline>\n  </block>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n\
                  \  <block align=\"center\"/>\n  <br/>\n  <block align=\"center\"/>\n</narrative>"
            Subtitle:
              Visibility: VISIBLE
            Title:
              Visibility: VISIBLE
            VisualId: 0d89259f-86e0-48f6-a41b-4ca335f8ab8b
    version: v5.0.1
datasets:
  sus_s3_storage_all:
    data:
      DataSetId: 411db3d5-6368-4359-a4a6-29dbb64c9e33
      Name: sus_s3_storage_all
      PhysicalTableMap:
        2ca2f9db-d270-4f8f-8e0d-cce6f039328f:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_s3_storage_all
            InputColumns:
            - Name: year
              Type: STRING
            - Name: month
              Type: STRING
            - Name: bill_payer_account_id
              Type: STRING
            - Name: billing_period
              Type: DATETIME
            - Name: usage_date
              Type: DATETIME
            - Name: payer_account_id
              Type: STRING
            - Name: linked_account_id
              Type: STRING
            - Name: resource_id
              Type: STRING
            - Name: product_code
              Type: STRING
            - Name: operation
              Type: STRING
            - Name: region
              Type: STRING
            - Name: charge_type
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: busskpitag
              Type: STRING
            - Name: busskpiacc
              Type: STRING
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: usage_quantity
              Type: DECIMAL
              SubType: FIXED
            - Name: unblended_cost
              Type: DECIMAL
              SubType: FIXED
            - Name: public_cost
              Type: DECIMAL
              SubType: FIXED
        fe1b70ec-a568-4341-9265-db2fe41e6a13:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        79a028a3-aae7-4f70-8f72-e654a6bf1464:
          Alias: sus_s3_storage_all
          Source:
            PhysicalTableId: 2ca2f9db-d270-4f8f-8e0d-cce6f039328f
        e0e5acc2-6064-4bbe-9221-f60dd0357017:
          Alias: account_map
          Source:
            PhysicalTableId: fe1b70ec-a568-4341-9265-db2fe41e6a13
        e1c4d02c-a385-4759-9fdb-99624e7d1c1d:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - year
              - month
              - bill_payer_account_id
              - billing_period
              - usage_date
              - payer_account_id
              - linked_account_id
              - resource_id
              - product_code
              - operation
              - region
              - charge_type
              - pricing_unit
              - resource_tags_user_application
              - busskpitag
              - busskpiacc
              - tagbuskpi
              - accbuskpi
              - usage_quantity
              - unblended_cost
              - public_cost
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 79a028a3-aae7-4f70-8f72-e654a6bf1464
              RightOperand: e0e5acc2-6064-4bbe-9221-f60dd0357017
              Type: LEFT
              OnClause: '{linked_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_s3_storage_all
      - account_map
    schedules:
    - default
  sus_carbon_emissions:
    data:
      DataSetId: 6e2ba899-6fc4-4321-95cb-b332dcbd8ef5
      Name: sus_carbon_emissions
      PhysicalTableMap:
        4494af6c-2a55-46c4-9e3d-20dac6d18946:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        89bda628-8355-4af1-9282-7882fb99dead:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_carbon_emissions
            InputColumns:
            - Name: payer_account_id
              Type: STRING
            - Name: usage_account_id
              Type: STRING
            - Name: total_mbm_emissions_value
              Type: DECIMAL
              SubType: FLOAT
            - Name: total_mbm_emissions_unit
              Type: STRING
            - Name: total_lbm_emissions_value
              Type: DECIMAL
              SubType: FLOAT
            - Name: total_lbm_emissions_unit
              Type: STRING
            - Name: model_version
              Type: STRING
            - Name: product_code
              Type: STRING
            - Name: usage_period_start
              Type: DATETIME
            - Name: usage_period_end
              Type: DATETIME
            - Name: last_refresh_timestamp
              Type: DATETIME
            - Name: region_code
              Type: STRING
            - Name: location
              Type: STRING
            - Name: source_account_id
              Type: STRING
            - Name: report_name
              Type: STRING
            - Name: carbon_model_version
              Type: STRING
            - Name: usage_period
              Type: STRING
      LogicalTableMap:
        8768e73c-c416-440f-9d3c-2b651bcb2127:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - payer_account_id
              - usage_account_id
              - total_mbm_emissions_value
              - total_mbm_emissions_unit
              - total_lbm_emissions_value
              - total_lbm_emissions_unit
              - model_version
              - product_code
              - usage_period_start
              - usage_period_end
              - last_refresh_timestamp
              - region_code
              - location
              - source_account_id
              - report_name
              - carbon_model_version
              - usage_period
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: c01a9a46-b2c5-4293-ad45-89532d8ff839
              RightOperand: f4597560-835e-48b1-bf4c-bea4d71cd972
              Type: LEFT
              OnClause: '{usage_account_id} = {account_id}'
        c01a9a46-b2c5-4293-ad45-89532d8ff839:
          Alias: sus_carbon_emissions
          Source:
            PhysicalTableId: 89bda628-8355-4af1-9282-7882fb99dead
        f4597560-835e-48b1-bf4c-bea4d71cd972:
          Alias: account_map
          Source:
            PhysicalTableId: 4494af6c-2a55-46c4-9e3d-20dac6d18946
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_carbon_emissions
    schedules:
    - default
  sus_compute_ec2:
    data:
      DataSetId: cf4c1a8b-6e9a-4cac-b2da-d82c970271e4
      Name: sus_compute_ec2
      PhysicalTableMap:
        862dc931-5aeb-45bd-aa09-0560920c43f0:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_compute_ec2
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_product_code
              Type: STRING
            - Name: product_instance_type_family
              Type: STRING
            - Name: product_physical_processor
              Type: STRING
            - Name: tag_business_metric
              Type: INTEGER
            - Name: account_business_metric
              Type: INTEGER
            - Name: vcpu_hours
              Type: DECIMAL
              SubType: FIXED
        937e5fa9-bb37-4b63-a607-f8c1d0a7ca9b:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        49d5b0fd-0993-4374-a034-a87d662add3f:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - resource_tags_user_application
              - line_item_product_code
              - product_instance_type_family
              - product_physical_processor
              - vcpu_hours
              - tag_business_metric
              - account_business_metric
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: ab737a73-894c-4495-b12d-bf17cfb6b935
              RightOperand: 4d22feb2-2623-4113-a230-ee69aa825fd3
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        4d22feb2-2623-4113-a230-ee69aa825fd3:
          Alias: account_map
          Source:
            PhysicalTableId: 937e5fa9-bb37-4b63-a607-f8c1d0a7ca9b
        ab737a73-894c-4495-b12d-bf17cfb6b935:
          Alias: sus_compute_ec2
          Source:
            PhysicalTableId: 862dc931-5aeb-45bd-aa09-0560920c43f0
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_compute_ec2
      - account_map
    schedules:
    - default
  sus_idle_elb:
    data:
      DataSetId: 2794b73a-4469-4b9c-ba4e-d1de93460b8b
      Name: sus_idle_elb
      PhysicalTableMap:
        8d1ead4d-1a2e-4641-947a-d8ffb40d653e:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        961a6efd-2ed4-4d1c-8f5a-e7ff676393c8:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_idle_elb
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: bill_billing_period_start_date
              Type: DATETIME
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: split_line_item_resource_id
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: sum_line_item_unblended_cost
              Type: DECIMAL
              SubType: FIXED
            - Name: sum_line_item_usage_amount
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        16f9dbb4-1845-488b-9382-dba4fe06a027:
          Alias: sus_idle_elb
          Source:
            PhysicalTableId: 961a6efd-2ed4-4d1c-8f5a-e7ff676393c8
        338c012f-691e-4a8b-b163-b0d03d16da30:
          Alias: account_map
          Source:
            PhysicalTableId: 8d1ead4d-1a2e-4641-947a-d8ffb40d653e
        83c9024c-38bf-4e67-9802-523dbeea187f:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - bill_billing_period_start_date
              - line_item_usage_account_id
              - split_line_item_resource_id
              - product_region
              - pricing_unit
              - sum_line_item_usage_amount
              - resource_tags_user_application
              - tagbuskpi
              - accbuskpi
              - sum_line_item_unblended_cost
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 16f9dbb4-1845-488b-9382-dba4fe06a027
              RightOperand: 338c012f-691e-4a8b-b163-b0d03d16da30
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_idle_elb
    schedules:
    - default
  sus_storage_athena:
    data:
      DataSetId: af858de6-f6ef-4961-88c4-964aa1266b9a
      Name: sus_storage_athena
      PhysicalTableMap:
        d88e946b-50c5-4131-af7f-a20c19b5f44d:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_storage_athena
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_operation
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: Usage
              Type: DECIMAL
              SubType: FIXED
        e7b46e3d-87cf-473e-908b-7870ffa90a32:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        13ed66ff-e221-4acf-9e83-87145cf336c5:
          Alias: account_map
          Source:
            PhysicalTableId: e7b46e3d-87cf-473e-908b-7870ffa90a32
        3bf588fa-4b55-4746-b422-1799d4cb51ff:
          Alias: sus_storage_athena
          Source:
            PhysicalTableId: d88e946b-50c5-4131-af7f-a20c19b5f44d
        b85579e2-a38d-41ea-a583-7055af4d54d1:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - resource_tags_user_application
              - line_item_usage_account_id
              - line_item_operation
              - line_item_usage_start_date
              - usage
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 3bf588fa-4b55-4746-b422-1799d4cb51ff
              RightOperand: 13ed66ff-e221-4acf-9e83-87145cf336c5
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_storage_athena
      - account_map
    schedules:
    - default
  sus_geo_region_athena:
    data:
      DataSetId: b5c8fb38-99a9-4764-9eac-7cbfa856571e
      Name: sus_geo_region_athena
      PhysicalTableMap:
        2d73b781-2ce6-41a2-9ba0-a193d7aba3ec:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_geo_region_athena
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: usage_date
              Type: DATETIME
            - Name: region
              Type: STRING
            - Name: region_latitude
              Type: STRING
            - Name: region_longitude
              Type: STRING
            - Name: is95percentrenewable
              Type: INTEGER
            - Name: cost
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        ea7b9711-1cfb-47ce-a7f1-2d7686890f72:
          Alias: sus_geo_region_athena
          DataTransforms:
          - CastColumnTypeOperation:
              ColumnName: region_latitude
              NewColumnType: DECIMAL
              SubType: FIXED
          - CastColumnTypeOperation:
              ColumnName: region_longitude
              NewColumnType: DECIMAL
              SubType: FIXED
          - TagColumnOperation:
              ColumnName: region
              Tags:
              - ColumnGeographicRole: STATE
          - TagColumnOperation:
              ColumnName: region_latitude
              Tags:
              - ColumnGeographicRole: LATITUDE
          - TagColumnOperation:
              ColumnName: region_longitude
              Tags:
              - ColumnGeographicRole: LONGITUDE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - usage_date
              - region
              - region_latitude
              - region_longitude
              - is95percentrenewable
              - cost
          Source:
            PhysicalTableId: 2d73b781-2ce6-41a2-9ba0-a193d7aba3ec
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_geo_region_athena
    schedules:
    - default
  sus_network:
    data:
      DataSetId: 656e7432-12cf-4b1c-a48f-24e4f4b48843
      Name: sus_network
      PhysicalTableMap:
        4f66d90f-5d4a-4e8e-bcdf-2e83d73d37a8:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        b4b4e384-904f-42b3-9108-3dff4ad53b30:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_network
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: line_item_product_code
              Type: STRING
            - Name: line_item_line_item_type
              Type: STRING
            - Name: line_item_operation
              Type: STRING
            - Name: line_item_usage_type
              Type: STRING
            - Name: product_product_name
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: product_from_location
              Type: STRING
            - Name: product_to_location
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_line_item_description
              Type: STRING
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: usage_amount_in_tb
              Type: DECIMAL
              SubType: FIXED
            - Name: cost
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        9d386b3d-9b75-4e72-b307-56678a6e8f96:
          Alias: account_map
          Source:
            PhysicalTableId: 4f66d90f-5d4a-4e8e-bcdf-2e83d73d37a8
        a74b2b69-a10d-4b60-8c4c-68529a0707d9:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - line_item_product_code
              - line_item_line_item_type
              - line_item_operation
              - line_item_usage_type
              - product_product_name
              - product_region
              - product_from_location
              - product_to_location
              - resource_tags_user_application
              - line_item_line_item_description
              - usage_amount_in_tb
              - cost
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: d8a05f09-6cb3-40e0-b9c8-482512b1727a
              RightOperand: 9d386b3d-9b75-4e72-b307-56678a6e8f96
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        d8a05f09-6cb3-40e0-b9c8-482512b1727a:
          Alias: sus_network
          Source:
            PhysicalTableId: b4b4e384-904f-42b3-9108-3dff4ad53b30
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_network
    schedules:
    - default
  sus_compute_split:
    data:
      DataSetId: 20912ab9-05e1-48c0-99f7-b70e68c743f0
      Name: sus_compute_split
      PhysicalTableMap:
        3dd3174f-61ea-420e-8ea9-d7fb30a929ef:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_compute_split
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: line_item_usage_start_date
              Type: DATETIME
            - Name: resource_tags_user_application
              Type: STRING
            - Name: line_item_product_code
              Type: STRING
            - Name: tag_business_metric
              Type: INTEGER
            - Name: account_business_metric
              Type: INTEGER
            - Name: vcpu_hours
              Type: DECIMAL
              SubType: FIXED
        7c5b80e9-7ba4-42bd-b626-4f8500c0ef00:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
      LogicalTableMap:
        38318059-ada4-43cd-84e7-465c830634d4:
          Alias: Intermediate Table
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - line_item_usage_start_date
              - resource_tags_user_application
              - line_item_product_code
              - vcpu_hours
              - tag_business_metric
              - account_business_metric
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 3af7087e-542f-439f-b88c-822cc9cacd3c
              RightOperand: 3b98fdf2-4730-401d-b095-59581cce1db9
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        3af7087e-542f-439f-b88c-822cc9cacd3c:
          Alias: sus_compute_split
          Source:
            PhysicalTableId: 3dd3174f-61ea-420e-8ea9-d7fb30a929ef
        3b98fdf2-4730-401d-b095-59581cce1db9:
          Alias: account_map
          Source:
            PhysicalTableId: 7c5b80e9-7ba4-42bd-b626-4f8500c0ef00
      ImportMode: SPICE
    dependsOn:
      views:
      - sus_compute_split
      - account_map
    schedules:
    - default
  sus_idle_natgw:
    data:
      DataSetId: c8a8cb07-8d9d-4b90-9862-e2a7e1370908
      Name: sus_idle_natgw
      PhysicalTableMap:
        0766af2c-5154-4b8a-a5df-8d9a2d37efb4:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: account_map
            InputColumns:
            - Name: account_id
              Type: STRING
            - Name: account_name
              Type: STRING
        30332fbc-ad6f-47ec-b5d2-c6bd31f5efc4:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: sus_idle_natgw
            InputColumns:
            - Name: bill_payer_account_id
              Type: STRING
            - Name: line_item_usage_account_id
              Type: STRING
            - Name: bill_billing_period_start_date
              Type: DATETIME
            - Name: split_line_item_resource_id
              Type: STRING
            - Name: product_region
              Type: STRING
            - Name: pricing_unit
              Type: STRING
            - Name: resource_tags_user_application
              Type: STRING
            - Name: sum_line_item_unblended_cost
              Type: DECIMAL
              SubType: FIXED
            - Name: tagbuskpi
              Type: INTEGER
            - Name: accbuskpi
              Type: INTEGER
            - Name: sum_line_item_usage_amount
              Type: DECIMAL
              SubType: FIXED
      LogicalTableMap:
        6663e8a1-6723-49ae-9312-b51275135aec:
          Alias: sus_idle_natgw
          Source:
            PhysicalTableId: 30332fbc-ad6f-47ec-b5d2-c6bd31f5efc4
        d1e76cc3-b08d-42bc-a7f3-8edf0b5e73df:
          Alias: Intermediate Table
          DataTransforms:
          - TagColumnOperation:
              ColumnName: product_region
              Tags:
              - ColumnGeographicRole: STATE
          - ProjectOperation:
              ProjectedColumns:
              - bill_payer_account_id
              - line_item_usage_account_id
              - bill_billing_period_start_date
              - split_line_item_resource_id
              - product_region
              - pricing_unit
              - sum_line_item_usage_amount
              - resource_tags_user_application
              - sum_line_item_unblended_cost
              - tagbuskpi
              - accbuskpi
              - account_id
              - account_name
          Source:
            JoinInstruction:
              LeftOperand: 6663e8a1-6723-49ae-9312-b51275135aec
              RightOperand: ea340ec0-1f14-40d4-becc-4b992b546138
              Type: LEFT
              OnClause: '{line_item_usage_account_id} = {account_id}'
        ea340ec0-1f14-40d4-becc-4b992b546138:
          Alias: account_map
          Source:
            PhysicalTableId: 0766af2c-5154-4b8a-a5df-8d9a2d37efb4
      ImportMode: SPICE
    dependsOn:
      views:
      - account_map
      - sus_idle_natgw
    schedules:
    - default
crawlers: {}
views:
  sus_s3_storage_all:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_s3_storage_all AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT DISTINCT
        split_part("billing_period", '-', 1) "year"
      , split_part("billing_period", '-', 2) "month"
      , cur.bill_payer_account_id
      , cur.bill_billing_period_start_date "billing_period"
      , cur.line_item_usage_start_date "usage_date"
      , "bill_payer_account_id" "payer_account_id"
      , "line_item_usage_account_id" "linked_account_id"
      , "line_item_resource_id" "resource_id"
      , "line_item_product_code" "product_code"
      , "line_item_operation" "operation"
      , product['region'] "region"
      , "line_item_line_item_type" "charge_type"
      , "pricing_unit" "pricing_unit"
      , ${tag} resource_tags_user_application
      , susTag.tagvalue bussKpiTag
      , susAcc.linkedaccountvalue bussKpiAcc
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      , "sum"((CASE WHEN ("line_item_line_item_type" = 'Usage') THEN "line_item_usage_amount" ELSE 0 END)) "usage_quantity"
      , "sum"("line_item_unblended_cost") "unblended_cost"
      , "sum"("pricing_public_on_demand_cost") "public_cost"
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((("line_item_operation" LIKE '%Storage%') AND (("line_item_product_code" LIKE '%AmazonGlacier%') OR ("line_item_product_code" LIKE '%AmazonS3%'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_buss_kpi:
    dependsOn:
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_buss_kpi AS
      SELECT
        'none' tagValue
      , line_item_usage_account_id linkedAccountValue
      , line_item_usage_start_date
      , CAST(("random"() * 1000) AS int) buss
      FROM
         "${cur2_database}"."${cur2_table_name}" cur
      GROUP BY line_item_usage_start_date, line_item_usage_account_id, 1
  account_map:
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".account_map AS
      SELECT DISTINCT
        line_item_usage_account_id account_id
      , MAX_BY(line_item_usage_account_name, line_item_usage_start_date) account_name
      , MAX_BY(bill_payer_account_id, line_item_usage_start_date) parent_account_id
      , MAX_BY(bill_payer_account_name, line_item_usage_start_date) parent_account_name
      FROM
        "${cur2_database}"."${cur2_table_name}" cur
      GROUP BY line_item_usage_account_id
  sus_compute_ec2:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
        - product['vcpu']
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_compute_ec2 AS
      WITH
        tag_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , tagvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , acc_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , linkedaccountvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , (CASE WHEN ((product['instance_type_family'] IS NULL) OR (product['instance_type_family'] = '')) THEN split(product['instance_type'], '.')[1] ELSE product['instance_type_family'] END) product_instance_type_family
      , cur.product['physical_processor'] product_physical_processor
      , SUM((cur.line_item_usage_amount * CAST(cur.product['vcpu'] AS double))) vcpu_hours
      , SUM(susTag.business_metric) tag_business_metric
      , SUM(susAcc.business_metric) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN tag_business_metrics susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN acc_business_metrics susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((((cur.product_product_family = 'Compute Instance') OR (cur.product_product_family = 'Dedicated Host')) AND (cur.line_item_product_code = 'AmazonEC2') AND (cur.line_item_operation LIKE 'RunInstances%') AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage', 'DiscountedUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_idle_elb:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_idle_elb AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , bill_billing_period_start_date
      , line_item_usage_account_id
      , "split_part"(line_item_resource_id, ':', 6) split_line_item_resource_id
      , product_region product_region
      , pricing_unit
      , sum_line_item_usage_amount
      , resource_tags_user_application
      , TagBusKpi
      , AccBusKpi
      , CAST(cost_per_resource AS decimal(16, 8)) sum_line_item_unblended_cost
      FROM
        (
         SELECT
           line_item_resource_id
         , bill_billing_period_start_date
         , product['region'] product_region
         , pricing_unit
         , line_item_usage_account_id
         , bill_payer_account_id
         , ${tag} resource_tags_user_application
         , "sum"(line_item_usage_amount) sum_line_item_usage_amount
         , "sum"("sum"(line_item_unblended_cost)) OVER (PARTITION BY line_item_resource_id) cost_per_resource
         , "sum"("sum"(line_item_usage_amount)) OVER (PARTITION BY line_item_resource_id, pricing_unit) usage_per_resource_and_pricing_unit
         , "sum"(susTag.busKpi) TagBusKpi
         , "sum"(susAcc.busKpi) AccBusKpi
         , "count"(pricing_unit) OVER (PARTITION BY line_item_resource_id, bill_billing_period_start_date) pricing_unit_per_resource
         FROM
           (("${cur2_database}"."${cur2_table_name}" cur
         LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
         LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
         WHERE (((line_item_product_code = 'AWSELB') AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH)))) AND (line_item_line_item_type = 'Usage'))
         GROUP BY line_item_resource_id, bill_billing_period_start_date, product['region'], pricing_unit, line_item_usage_account_id, bill_payer_account_id, 7
      )
      WHERE ((usage_per_resource_and_pricing_unit > 336) AND (pricing_unit_per_resource = 1))
  sus_storage_athena:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_storage_athena AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , ${tag} resource_tags_user_application
      , line_item_usage_account_id
      , line_item_operation
      , cur.line_item_usage_start_date
      , "sum"(line_item_usage_amount) Usage
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((line_item_operation LIKE 'CreateVolume%') AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
  sus_aws_regions:
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_aws_regions AS
       SELECT *
      FROM
        (
       VALUES
           ROW ('ap-northeast-1', 'Japan', 'Tokyo', '35.64', '139.76', 1)
         , ROW ('ap-south-1', 'India', 'Mumbai', '19.08', '72.88', 1)
         , ROW ('cn-northwest-1', 'China', 'Ningxia', '38.47', '106.26', 1)
         , ROW ('eu-central-1', 'Germany', 'Frankfurt', '50.11', '8.68', 1)
         , ROW ('eu-north-1', 'Sweden', 'Stockholm', '59.33', '18.07', 1)
         , ROW ('eu-west-1', 'Ireland', 'Dublin', '53.28', '-7.71', 1)
         , ROW ('us-east-2', 'USA', 'Ohio', '40.36', '-82.91', 1)
         , ROW ('us-gov-west-1', 'USA', 'Oregon', '39.53', '-119.88', 1)
         , ROW ('us-west-1', 'USA', 'N. California', '36.55', '-119.89', 1)
         , ROW ('us-west-2', 'USA', 'Oregon', '43.82', '-120.33', 1)
         , ROW ('ap-east-1', 'Hong Kong', 'Hong Kong', '22.28', '114.15', 0)
         , ROW ('ap-northeast-2', 'South Korea', 'Seoul', '37.72', '126.04', 0)
         , ROW ('ap-northeast-3', 'Japan', 'Osaka', '34.69', '135.5', 1)
         , ROW ('ap-southeast-2', 'Australia', 'Sydney', '-33.88', '151.23', 0)
         , ROW ('ca-central-1', 'Canada', 'Montreal', '44.08', '-77.42', 1)
         , ROW ('cn-north-1', 'China', 'Beijing', '39.91', '116.41', 1)
         , ROW ('eu-west-3', 'France', 'Paris', '48.85', '2.35', 1)
         , ROW ('me-south-1', 'Bahrain', 'Bahrain', '26.11', '50.50', 0)
         , ROW ('sa-east-1', 'Brazil', 'Sao Paulo', '-23.37', '-46.63', 0)
         , ROW ('us-gov-east-1', 'USA', 'Ohio', '40.4897', '-81.45', 1)
         , ROW ('ap-southeast-1', 'Singapore', 'Singapore', '1.35', '103.86', 0)
         , ROW ('eu-west-2', 'UK', 'London', '51.53', '0.12', 1)
         , ROW ('us-east-1', 'USA', 'Washington DC', '38.80', '-77.11', 1)
         , ROW ('eu-south-1', 'Italy', 'Milan', '45.46', '9.18', 1)
         , ROW ('af-south-1', 'Africa', 'Cape Town', '-33.91', '18.42', 0)
         , ROW ('ap-south-2', 'India', 'Hyderabad', '17.39', '78.49', 1)
         , ROW ('eu-central-2', 'Switzerland', 'Zurich', '47.37', '8.54', 1)
         , ROW ('eu-south-2', 'Spain', 'Madrid', '40.41', '-3.70',1)
         , ROW ('ap-southeast-3', 'Indonesia', 'Jakarta', '-6.175110', '106.865036',0)
         , ROW ('ap-southeast-5', 'Malaysia', 'Kuala Lumpur', '3.139003', '101.686852',0)
         , ROW ('ap-southeast-4', 'Australia', 'Melbourne', '-37.813629', '144.963058',0)
         , ROW ('ca-west-1', 'Canada', 'Calgary', '51.048615', '-114.070847',0)
         , ROW ('il-central-1', 'Israel', 'Tel Aviv', '32.085300', '34.781769',0)
         , ROW ('me-central-1', 'Middle East' , 'UAE', '25.276987', '55.296249',0)
      )  ignored_table_name (region_name, region_country, region_city, region_latitude, region_longitude, is95PercentRenewable)
  sus_geo_region_athena:
    dependsOn:
      cur2:
        - pricing_unit
      views:
      - sus_aws_regions
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_geo_region_athena AS
      SELECT
        bill_payer_account_id
      , line_item_usage_start_date "usage_date"
      , region_city region
      , region_latitude
      , region_longitude
      , is95PercentRenewable
      , "sum"(line_item_unblended_cost) cost
      FROM
        ("${cur2_database}"."${cur2_table_name}" cur
      INNER JOIN "${athena_database_name}".sus_aws_regions ON (cur.product['region'] = sus_aws_regions.region_name))
      WHERE (((cur.product['region'] <> '') AND (cur.product['region'] <> 'global')) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6
  sus_carbon_emissions:
    parameters:
        data_exports_database_name:
          type: athena
          query: SELECT DISTINCT table_schema FROM information_schema.columns WHERE table_name = 'carbon'
          default: cid_data_export
          description: Database of cid data exports
          global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_carbon_emissions AS
      SELECT
        payer_account_id
      , usage_account_id
      , total_mbm_emissions_value
      , total_mbm_emissions_unit
      , total_lbm_emissions_value
      , total_lbm_emissions_unit
      , model_version
      , product_code
      , usage_period_start
      , usage_period_end
      , last_refresh_timestamp
      , region_code
      , "location"
      , source_account_id
      , report_name
      , carbon_model_version
      , usage_period
      FROM
      "${data_exports_database_name}".carbon
  sus_network:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_network AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , line_item_usage_account_id
      , cur.line_item_usage_start_date
      , line_item_product_code
      , line_item_line_item_type
      , line_item_operation
      , line_item_usage_type
      , product['product_name'] product_product_name
      , product['region'] product_region
      , product_from_location
      , product_to_location
      , ${tag} resource_tags_user_application
      , line_item_line_item_description
      , "sum"((line_item_usage_amount / 1024)) usage_amount_in_tb
      , "sum"(line_item_unblended_cost) cost
      , "sum"(susTag.busKpi) TagBusKpi
      , "sum"(susAcc.busKpi) AccBusKpi
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE ((((line_item_line_item_type = 'Usage') AND (NOT (line_item_usage_amount = 0))) AND (((line_item_usage_type LIKE '%Bytes') AND ((((line_item_usage_type LIKE '%In%') OR (line_item_usage_type LIKE '%Out%')) OR (line_item_usage_type LIKE 'Nat%')) OR (line_item_usage_type LIKE '%Regional%'))) AND ((product_from_location = '') OR (product_from_location LIKE '%(%')))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13
  sus_idle_natgw:
    dependsOn:
      views:
      - sus_buss_kpi
      cur2:
        - pricing_unit
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_idle_natgw AS
      WITH
        TAG_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , tagvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , ACC_KPI_PER_DAY AS (
         SELECT
           line_item_usage_start_date line_item_usage_start_date
         , linkedaccountvalue linkedaccountvalue
         , "sum"(buss) busKpi
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        bill_payer_account_id
      , line_item_usage_account_id
      , bill_billing_period_start_date
      , "split_part"(line_item_resource_id, ':', 6) split_line_item_resource_id
      , product_region product_region
      , pricing_unit
      , sum_line_item_usage_amount
      , resource_tags_user_application
      , CAST(cost_per_resource AS decimal(16, 8)) sum_line_item_unblended_cost
      , TagBusKpi
      , AccBusKpi
      FROM
        (
         SELECT
           line_item_resource_id
         , bill_billing_period_start_date
         , product['region'] product_region
         , pricing_unit
         , line_item_usage_account_id
         , bill_payer_account_id
         , ${tag} resource_tags_user_application
         , "sum"(susTag.busKpi) TagBusKpi
         , "sum"(susAcc.busKpi) AccBusKpi
         , "sum"(line_item_usage_amount) sum_line_item_usage_amount
         , "sum"("sum"(line_item_unblended_cost)) OVER (PARTITION BY line_item_resource_id) cost_per_resource
         , "sum"("sum"(line_item_usage_amount)) OVER (PARTITION BY line_item_resource_id, pricing_unit) usage_per_resource_and_pricing_unit
         , "count"(pricing_unit) OVER (PARTITION BY line_item_resource_id, bill_billing_period_start_date) pricing_unit_per_resource
         FROM
           (("${cur2_database}"."${cur2_table_name}" cur
         LEFT JOIN TAG_KPI_PER_DAY susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
         LEFT JOIN ACC_KPI_PER_DAY susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
         WHERE ((((line_item_product_code = 'AmazonEC2') AND (line_item_usage_type LIKE '%Nat%')) AND (("bill_billing_period_start_date" >= ("date_trunc"('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST("concat"(billing_period, '-01') AS date) >= ("date_trunc"('month', current_date) - INTERVAL  '7' MONTH)))) AND (line_item_line_item_type = 'Usage'))
         GROUP BY 1, 2, 3, 4, 5, 6, 7
      )
      WHERE ((usage_per_resource_and_pricing_unit > 336) AND (pricing_unit_per_resource = 1))
  sus_compute_split:
    dependsOn:
      views:
      - sus_buss_kpi
      - sus_compute_ec2
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_compute_split AS
      WITH
        tag_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , tagvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, tagvalue
      )
      , acc_business_metrics AS (
         SELECT
           line_item_usage_start_date
         , linkedaccountvalue
         , SUM(buss) business_metric
         FROM
           "${athena_database_name}".sus_buss_kpi
         GROUP BY line_item_usage_start_date, linkedaccountvalue
      )
      SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(cur.line_item_usage_amount) vcpu_hours
      , SUM(susTag.business_metric) tag_business_metric
      , SUM(susAcc.business_metric) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN tag_business_metrics susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN acc_business_metrics susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_usage_type LIKE '%Fargate-vCPU-Hours:perCPU') AND (cur.line_item_product_code IN ('AmazonEKS', 'AmazonECS')) AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        cur.bill_payer_account_id
      , cur.line_item_usage_account_id
      , cur.line_item_usage_start_date
      , ${tag} resource_tags_user_application
      , cur.line_item_product_code
      , SUM(((cur.line_item_usage_amount / 1769) / 3600)) vcpu_hours
      , SUM(susTag.buss) tag_business_metric
      , SUM(susAcc.buss) account_business_metric
      FROM
        (("${cur2_database}"."${cur2_table_name}" cur
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susTag ON ((cur.line_item_usage_start_date = susTag.line_item_usage_start_date) AND (${tag} = susTag.tagValue)))
      LEFT JOIN "${athena_database_name}".sus_buss_kpi susAcc ON ((cur.line_item_usage_start_date = susAcc.line_item_usage_start_date) AND (cur.line_item_usage_account_id = susAcc.linkedaccountvalue)))
      WHERE (((cur.line_item_product_code = 'AWSLambda') AND (cur.line_item_usage_type LIKE '%Lambda-GB-Second') AND (cur.line_item_line_item_type IN ('Usage', 'SavingsPlanCoveredUsage'))) AND ((cur.bill_billing_period_start_date >= (DATE_TRUNC('month', current_timestamp) - INTERVAL  '7' MONTH)) AND (CAST(CONCAT(cur.billing_period, '-01') AS date) >= (DATE_TRUNC('month', current_date) - INTERVAL  '7' MONTH))))
      GROUP BY 1, 2, 3, 4, 5
      UNION ALL SELECT
        ec2.bill_payer_account_id
      , ec2.line_item_usage_account_id
      , ec2.line_item_usage_start_date
      , ec2.resource_tags_user_application
      , ec2.line_item_product_code
      , ec2.vcpu_hours
      , ec2.tag_business_metric
      , ec2.account_business_metric
      FROM
        "${athena_database_name}".sus_compute_ec2 ec2
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
  sus_buss_kpi:
    dependsOn:
      cur2:
        - pricing_unit
    data: |-
      CREATE OR REPLACE VIEW "${athena_database_name}".sus_buss_kpi AS
      SELECT
        ${tag} tagValue
      , line_item_usage_account_id linkedAccountValue
      , line_item_usage_start_date
      , CAST(("random"() * 1000) AS int) buss
      FROM
        "${cur2_database}"."${cur2_table_name}" cur
      GROUP BY line_item_usage_start_date, line_item_usage_account_id, 1
    parameters:
      tag:
        type: 'cur.tag_and_cost_category_fields'
        default: resource_tags_user_application
        description: "Enter tag name that is used to categorize workloads"
        global: True
