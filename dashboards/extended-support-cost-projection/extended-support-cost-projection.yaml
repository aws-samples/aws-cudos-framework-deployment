dashboards:
  RDS EXTENDED SUPPORT COST PROJECTION:
    dependsOn:
      datasets:
      - rds_extended_support_view
    name: Extended Support Cost Projection
    dashboardId: extended-support-cost-projection
    category: Custom
    data: |-
      AnalysisDefaults:
        DefaultNewSheetConfiguration:
          InteractiveLayoutConfiguration:
            Grid:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1600px
                  ResizeOption: FIXED
          SheetContentType: INTERACTIVE
      CalculatedFields:
      - DataSetIdentifier: rds_extended_support_view
        Expression: '{EDP_Discount_Factor} * {year_1_2_cost}'
        Name: Actual_Year_1_2_Cost
      - DataSetIdentifier: rds_extended_support_view
        Expression: '{EDP_Discount_Factor} * {year_3_cost}'
        Name: Actual_Year_3_Cost
      - DataSetIdentifier: rds_extended_support_view
        Expression: (100 - ${EDPDiscount})/100
        Name: EDP_Discount_Factor
      - DataSetIdentifier: rds_extended_support_view
        Expression: '{EDP_Discount_Factor} * {vcpu_acu_hours} * {year_1_2_pricing}'
        Name: Estimated_Year_1_2_Cost
      - DataSetIdentifier: rds_extended_support_view
        Expression: '{EDP_Discount_Factor} * {vcpu_acu_hours} * {Year_3_Pricing_Fallback}'
        Name: Estimated_Year_3_Cost
      - DataSetIdentifier: rds_extended_support_view
        Expression: dateDiff(now(), {year_1_start}, 'MM')
        Name: Months_Before_Year_1_2_Ext_Support_Start
      - DataSetIdentifier: rds_extended_support_view
        Expression: ifelse(isNull({year_3_start}), {year_1_2_pricing}, {year_3_pricing})
        Name: Year_3_Pricing_Fallback
      - DataSetIdentifier: rds_extended_support_view
        Expression: ifelse(isNull({year_3_start}), {year_1_start}, {year_3_start})
        Name: Year_3_Start_Fallback
      ColumnConfigurations:
      - Column:
          ColumnName: Actual_Year_3_Cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                NumberScale: AUTO
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: Estimated_Year_1_2_Cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                NumberScale: AUTO
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: Estimated_Year_3_Cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                NumberScale: AUTO
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: Year_3_Pricing_Fallback
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              NumberDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NullValueFormatConfiguration:
                  NullString: 'null'
      - Column:
          ColumnName: year_1_2_cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 2
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: year_1_2_pricing
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: year_3_cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 2
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: year_3_pricing
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      - Column:
          ColumnName: Actual_Year_1_2_Cost
          DataSetIdentifier: rds_extended_support_view
        FormatConfiguration:
          NumberFormatConfiguration:
            FormatConfiguration:
              CurrencyDisplayFormatConfiguration:
                DecimalPlacesConfiguration:
                  DecimalPlaces: 3
                NegativeValueConfiguration:
                  DisplayMode: POSITIVE
                NullValueFormatConfiguration:
                  NullString: 'null'
                NumberScale: AUTO
                SeparatorConfiguration:
                  DecimalSeparator: DOT
                  ThousandsSeparator:
                    Symbol: COMMA
                    Visibility: VISIBLE
                Symbol: USD
      DataSetIdentifierDeclarations:
      - DataSetArn: arn:aws:quicksight:::dataset/31961243-0137-4201-a8d1-c2a00755765e
        Identifier: rds_extended_support_view
      FilterGroups:
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 2f17da6a-9382-4592-95af-15eec49e9596
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: a434af82-008f-4586-a014-2449fc3ccf2e
            IncludeMaximum: false
            IncludeMinimum: false
            NullOption: ALL_VALUES
            RangeMaximum:
              StaticValue: 3.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - 9afc5e06-b00e-4345-8690-7424211c9bc5
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: cf3e70f5-978c-4302-a173-fdbe932e7c5c
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: d4de1f5b-2d67-45be-8692-8cc2bf0c2108
            IncludeMaximum: false
            IncludeMinimum: true
            NullOption: ALL_VALUES
            RangeMinimum:
              StaticValue: 3.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - c5e5be1f-820f-49a5-9694-28062f430e15
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 833b8c86-9766-4b99-a5fb-ba3e4ef8d08c
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: 42710090-a9b6-45c7-9c3d-8e8f53c05125
            IncludeMaximum: false
            IncludeMinimum: true
            NullOption: ALL_VALUES
            RangeMinimum:
              StaticValue: 6.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - 67d086cc-0f88-41bc-9f93-5d464afc0bc8
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 215e6218-84f1-4f2d-a089-2724f513dac4
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: 0c12a90f-cd9d-4d9c-a0c2-258ae3714b79
            IncludeMaximum: false
            IncludeMinimum: false
            NullOption: ALL_VALUES
            RangeMaximum:
              StaticValue: 6.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - c5e5be1f-820f-49a5-9694-28062f430e15
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 2fe3bdea-f9d9-4376-8c5a-774089117858
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: a4004ef8-b17f-445b-a620-874be49af8fe
            IncludeMaximum: false
            IncludeMinimum: false
            NullOption: ALL_VALUES
            RangeMaximum:
              StaticValue: 12.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - 67d086cc-0f88-41bc-9f93-5d464afc0bc8
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: bd90bee7-53ae-4185-ac0b-e63f97e3b866
        Filters:
        - NumericRangeFilter:
            Column:
              ColumnName: Months_Before_Year_1_2_Ext_Support_Start
              DataSetIdentifier: rds_extended_support_view
            FilterId: d0028210-6b12-4474-b9d9-57fc201715cb
            IncludeMaximum: false
            IncludeMinimum: true
            NullOption: ALL_VALUES
            RangeMinimum:
              StaticValue: 12.0
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: SELECTED_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
              VisualIds:
              - c2f68c74-7dbe-4034-bc5c-ac709565220e
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: aa73eee4-f3c4-41d7-952a-00cd2105a67b
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: payer_account_id
              DataSetIdentifier: rds_extended_support_view
            Configuration:
              CustomFilterConfiguration:
                MatchOperator: EQUALS
                NullOption: NON_NULLS_ONLY
                ParameterName: Payer
            FilterId: c28e1b7b-461e-4171-b1c7-d3b79e24f375
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: f36e0a01-2cd0-43b2-9719-bea89d5b859d
        Filters:
        - CategoryFilter:
            Column:
              ColumnName: linked_account_id
              DataSetIdentifier: rds_extended_support_view
            Configuration:
              CustomFilterConfiguration:
                MatchOperator: EQUALS
                NullOption: NON_NULLS_ONLY
                ParameterName: LinkedAccount
            FilterId: a1861af6-08c2-45d0-906f-bee5deb23cc3
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
        Status: ENABLED
      - CrossDataset: SINGLE_DATASET
        FilterGroupId: 33846fa0-92dd-4779-a51d-6b50879a332a
        Filters:
        - TimeRangeFilter:
            Column:
              ColumnName: usage_date
              DataSetIdentifier: rds_extended_support_view
            FilterId: 3d4b3776-81e4-4f93-b823-6e3c810f451e
            IncludeMaximum: true
            IncludeMinimum: true
            NullOption: NON_NULLS_ONLY
            RangeMaximumValue:
              Parameter: EndDate
            RangeMinimumValue:
              Parameter: StartDate
            TimeGranularity: DAY
        ScopeConfiguration:
          SelectedSheets:
            SheetVisualScopingConfigurations:
            - Scope: ALL_VISUALS
              SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
        Status: ENABLED
      Options:
        WeekStart: SUNDAY
      ParameterDeclarations:
      - DecimalParameterDeclaration:
          DefaultValues:
            StaticValues:
            - 0.0
          Name: EDPDiscount
          ParameterValueType: SINGLE_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: Payer
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - StringParameterDeclaration:
          DefaultValues: {}
          Name: LinkedAccount
          ParameterValueType: MULTI_VALUED
          ValueWhenUnset:
            ValueWhenUnsetOption: RECOMMENDED_VALUE
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: addDateTime(-1, 'MM', truncDate('MM', now()))
            StaticValues: []
          Name: StartDate
          TimeGranularity: DAY
      - DateTimeParameterDeclaration:
          DefaultValues:
            RollingDate:
              Expression: addDateTime(-1, 'SS', truncDate('MM', now()))
            StaticValues: []
          Name: EndDate
          TimeGranularity: DAY
      Sheets:
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1600px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 1
                ColumnSpan: 18
                ElementId: 34d4af34-269d-42e3-86ad-e616a362fbd6
                ElementType: VISUAL
                RowIndex: 0
                RowSpan: 6
              - ColumnIndex: 19
                ColumnSpan: 16
                ElementId: f3c3baaa-8bbd-4780-859e-4b8d204e836d
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 2
              - ColumnIndex: 19
                ColumnSpan: 4
                ElementId: 9afc5e06-b00e-4345-8690-7424211c9bc5
                ElementType: VISUAL
                RowIndex: 2
                RowSpan: 4
              - ColumnIndex: 23
                ColumnSpan: 4
                ElementId: c5e5be1f-820f-49a5-9694-28062f430e15
                ElementType: VISUAL
                RowIndex: 2
                RowSpan: 4
              - ColumnIndex: 27
                ColumnSpan: 4
                ElementId: 67d086cc-0f88-41bc-9f93-5d464afc0bc8
                ElementType: VISUAL
                RowIndex: 2
                RowSpan: 4
              - ColumnIndex: 31
                ColumnSpan: 4
                ElementId: c2f68c74-7dbe-4034-bc5c-ac709565220e
                ElementType: VISUAL
                RowIndex: 2
                RowSpan: 4
              - ColumnIndex: 10
                ColumnSpan: 9
                ElementId: bbb4130e-d2e8-4f0f-8c6a-a294dc9bc83a
                ElementType: VISUAL
                RowIndex: 6
                RowSpan: 4
              - ColumnIndex: 19
                ColumnSpan: 9
                ElementId: 2ea5b124-a8d3-4311-9da5-98518feeeb95
                ElementType: VISUAL
                RowIndex: 6
                RowSpan: 4
              - ColumnIndex: 1
                ColumnSpan: 14
                ElementId: 416cee8a-0600-4aaa-bb69-350727060b30
                ElementType: VISUAL
                RowIndex: 10
                RowSpan: 9
              - ColumnIndex: 15
                ColumnSpan: 20
                ElementId: 9233cbd6-d6dd-4e29-a059-1895ee909b0c
                ElementType: VISUAL
                RowIndex: 10
                RowSpan: 9
              - ColumnIndex: 1
                ColumnSpan: 17
                ElementId: 7c913b40-495d-4f0c-bd2b-585f39e485e8
                ElementType: VISUAL
                RowIndex: 19
                RowSpan: 12
              - ColumnIndex: 18
                ColumnSpan: 17
                ElementId: 66220df2-7b74-4e80-9904-aedc3b14870f
                ElementType: VISUAL
                RowIndex: 19
                RowSpan: 12
              - ColumnIndex: 1
                ColumnSpan: 34
                ElementId: 3594d0e0-e54e-44ce-8f1f-e50229dc458c
                ElementType: VISUAL
                RowIndex: 31
                RowSpan: 10
        Name: RDS Extended Support (Cost Projection)
        ParameterControls:
        - DateTimePicker:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: b33d1b7c-219d-42d9-9312-8163900bf6a7
            SourceParameterName: StartDate
            Title: Start Date
        - DateTimePicker:
            DisplayOptions:
              DateTimeFormat: YYYY/MM/DD
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: 74dae423-e2c7-4a88-a1ea-ac46d30a0762
            SourceParameterName: EndDate
            Title: End Date
        - Dropdown:
            DisplayOptions:
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: a3b38794-beb7-4e2d-800e-9e649093443d
            SelectableValues:
              LinkToDataSetColumn:
                ColumnName: payer_account_id
                DataSetIdentifier: rds_extended_support_view
            SourceParameterName: Payer
            Title: Payer Account
            Type: MULTI_SELECT
        - Dropdown:
            DisplayOptions:
              SelectAllOptions:
                Visibility: VISIBLE
              TitleOptions:
                FontConfiguration:
                  FontSize:
                    Relative: MEDIUM
                Visibility: VISIBLE
            ParameterControlId: f75a5efc-2843-4b2a-acfb-a6c436640b96
            SelectableValues:
              LinkToDataSetColumn:
                ColumnName: linked_account_id
                DataSetIdentifier: rds_extended_support_view
            SourceParameterName: LinkedAccount
            Title: Linked Account
            Type: MULTI_SELECT
        SheetControlLayouts:
        - Configuration:
            GridLayout:
              Elements: []
        SheetId: 43a88b3c-2e23-44b9-b361-41a48a65601b
        TextBoxes:
        - Content: |-
            <text-box>
              <block align="center">
                <inline font-size="24px">
                  <b>Databases reaching extended support</b>
                </inline>
              </block>
            </text-box>
          SheetTextBoxId: f3c3baaa-8bbd-4780-859e-4b8d204e836d
        Visuals:
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 9a8ca48d-21d6-43c6-93ee-fea577534cf3
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: engineversion
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.2.1707819987988
                  CustomLabel: Engine Version
              DataLabels:
                LabelFontConfiguration:
                  FontSize:
                    Relative: LARGE
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.2.1707819987988
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: linked_account_id
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.linked_account_id.2.1707820225018
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: vcpu_acu_hours
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
              Legend:
                Title:
                  CustomLabel: Account
                Width: 148px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.2.1707819987988
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.linked_account_id.2.1707820225018
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                AxisOffset: 81px
                TickLabelOptions:
                  LabelOptions:
                    FontConfiguration:
                      FontSize:
                        Relative: EXTRA_LARGE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: vcpu_acu_hours
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                  CustomLabel: vCPU/ACU Hours
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>vCPU/ACU Hours Breakdown - Account by Engine</visual-title>
              Visibility: VISIBLE
            VisualId: 66220df2-7b74-4e80-9904-aedc3b14870f
        - BarChartVisual:
            Actions: []
            ChartConfiguration:
              BarsArrangement: CLUSTERED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: engineversion
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                  CustomLabel: Version
                SortIconVisibility: HIDDEN
              DataLabels:
                CategoryLabelVisibility: HIDDEN
                LabelContent: VALUE
                LabelFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                MeasureLabelVisibility: VISIBLE
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                  Colors: []
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: Estimated_Year_1_2_Cost
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: 2a1be60d-ea0f-46f8-9b65-5725208854fc.2.1707766563404
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: Estimated_Year_3_Cost
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: 799069bb-52c1-4327-a463-713fe1ad41df.3.1707766565837
              Legend:
                Title:
                  CustomLabel: Estimated Costs
                Width: 185px
              Orientation: HORIZONTAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: 2a1be60d-ea0f-46f8-9b65-5725208854fc.2.1707766563404
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 2a1be60d-ea0f-46f8-9b65-5725208854fc.2.1707766563404
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: 799069bb-52c1-4327-a463-713fe1ad41df.3.1707766565837
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              VisualPalette:
                ColorMap:
                - Color: '#219FD7'
                  Element:
                    FieldId: 799069bb-52c1-4327-a463-713fe1ad41df.3.1707766565837
                    FieldValue: Estimated_Year_3_Cost
                - Color: '#FF8700'
                  Element:
                    FieldId: 2a1be60d-ea0f-46f8-9b65-5725208854fc.2.1707766563404
                    FieldValue: Estimated_Year_1_2_Cost
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Estimated Costs by Engine Version</visual-title>
              Visibility: VISIBLE
            VisualId: 9233cbd6-d6dd-4e29-a059-1895ee909b0c
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - CategoricalMeasureField:
                    AggregationFunction: DISTINCT_COUNT
                    Column:
                      ColumnName: resource_id
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.resource_id.0.1707734597138
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <block align="center">
                      <inline font-size="16px">
                        <b>In more than 12 months</b>
                      </inline>
                    </block>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: c2f68c74-7dbe-4034-bc5c-ac709565220e
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - CategoricalMeasureField:
                    AggregationFunction: DISTINCT_COUNT
                    Column:
                      ColumnName: resource_id
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.resource_id.0.1707734597138
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontColor: '#B9E52F'
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <block align="center">
                      <inline font-size="16px">
                        <b>In 6 to 12 months</b>
                      </inline>
                    </block>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 67d086cc-0f88-41bc-9f93-5d464afc0bc8
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - CategoricalMeasureField:
                    AggregationFunction: DISTINCT_COUNT
                    Column:
                      ColumnName: resource_id
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.resource_id.0.1707734597138
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontColor: '#FFB500'
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <block align="center">
                      <inline font-size="16px">
                        <b>In 3 to 6 months</b>
                      </inline>
                    </block>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: c5e5be1f-820f-49a5-9694-28062f430e15
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - NumericalMeasureField:
                    AggregationFunction:
                      SimpleNumericalAggregation: SUM
                    Column:
                      ColumnName: Estimated_Year_3_Cost
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: 799069bb-52c1-4327-a463-713fe1ad41df.0.1707734332528
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: "<visual-subtitle>\n  Usage between\n      <parameter>${StartDate}</parameter>\n\
                  \  \_and\n      <parameter>${EndDate}</parameter>\n</visual-subtitle>"
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Estimated Monthly Cost (Year 3)</visual-title>
              Visibility: VISIBLE
            VisualId: 2ea5b124-a8d3-4311-9da5-98518feeeb95
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - NumericalMeasureField:
                    AggregationFunction:
                      SimpleNumericalAggregation: SUM
                    Column:
                      ColumnName: Estimated_Year_1_2_Cost
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: a74db0d2-cff0-45c1-8d13-68eb3cbae7e9.0.1707159375244
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              FormatText:
                RichText: "<visual-subtitle>\n  Usage between\n      <parameter>${StartDate}</parameter>\n\
                  \  \_and\n      <parameter>${EndDate}</parameter>\n</visual-subtitle>"
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Estimated Monthly Cost (Year 1-2)</visual-title>
              Visibility: VISIBLE
            VisualId: bbb4130e-d2e8-4f0f-8c6a-a294dc9bc83a
        - PieChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 4cf1c84f-fc61-4859-9395-18397bf30728
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: engineversion
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                  CustomLabel: Version
                SortIconVisibility: HIDDEN
              DataLabels:
                CategoryLabelVisibility: HIDDEN
                LabelContent: VALUE
                LabelFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                MeasureLabelVisibility: VISIBLE
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              DonutOptions:
                ArcOptions:
                  ArcThickness: WHOLE
              FieldWells:
                PieChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: vcpu_acu_hours
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707159708427
              Legend:
                Title:
                  CustomLabel: Engine Version
                Width: 127px
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707159708427
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707159708427
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.1.1707159877378
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: vcpu_acu_hours
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707159708427
                  CustomLabel: vCPU/ACU Hours
                SortIconVisibility: HIDDEN
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>vCPU/ACU Hours of Usage By Engine Version</visual-title>
              Visibility: VISIBLE
            VisualId: 416cee8a-0600-4aaa-bb69-350727060b30
        - TableVisual:
            Actions: []
            ChartConfiguration:
              FieldOptions:
                Order: []
                SelectedFieldOptions:
                - CustomLabel: DB Instance ID
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.dbinstanceidentifier.16.1707820559498
                  Width: 417px
                - CustomLabel: Instance Type
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.instance_type.2.1707158882036
                - CustomLabel: Region
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.region_code.10.1707159050228
                - CustomLabel: RDS Type
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.rds_type.0.1707158874088
                - CustomLabel: Deployment Option
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.deployment_option.1.1707158879663
                - CustomLabel: Engine
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engine.3.1707158884087
                - CustomLabel: Engine Version
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.4.1707158885687
                - CustomLabel: Usage Unit
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.usage_unit.12.1707159073303
                - CustomLabel: vCPUs
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpus.5.1707158889118
                - CustomLabel: Usage Amount
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.usage_amount.11.1707159099145
                - CustomLabel: vCPU/ACU Hours
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.12.1707159102561
                - CustomLabel: Year 1-2 Price per vPCU-Hour/ACU-Hour
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_2_pricing.13.1707159152915
                  Width: 176px
                - CustomLabel: Estimated Year 1-2 Cost
                  FieldId: a74db0d2-cff0-45c1-8d13-68eb3cbae7e9.17.1707159314218
                - CustomLabel: Year 3 Price per vPCU-Hour/ACU-Hour
                  FieldId: afbce217-7d32-409f-aca2-8ae617ae4731.16.1710524728920
                  Width: 165px
                - CustomLabel: Estimated Year 3 Cost
                  FieldId: 8f79307e-d233-428d-97b1-2640d410118d.18.1707159318206
              FieldWells:
                TableAggregatedFieldWells:
                  GroupBy:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: dbinstanceidentifier
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.dbinstanceidentifier.16.1707820559498
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: instance_type
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.instance_type.2.1707158882036
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: region_code
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.region_code.10.1707159050228
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: rds_type
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.rds_type.0.1707158874088
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: deployment_option
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.deployment_option.1.1707158879663
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engine
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engine.3.1707158884087
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.4.1707158885687
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: usage_unit
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.usage_unit.12.1707159073303
                  - NumericalDimensionField:
                      Column:
                        ColumnName: vcpus
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpus.5.1707158889118
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: usage_amount
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.usage_amount.11.1707159099145
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: vcpu_acu_hours
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.12.1707159102561
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: AVERAGE
                      Column:
                        ColumnName: year_1_2_pricing
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_2_pricing.13.1707159152915
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: Estimated_Year_1_2_Cost
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: a74db0d2-cff0-45c1-8d13-68eb3cbae7e9.17.1707159314218
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: AVERAGE
                      Column:
                        ColumnName: Year_3_Pricing_Fallback
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: afbce217-7d32-409f-aca2-8ae617ae4731.16.1710524728920
                      FormatConfiguration:
                        FormatConfiguration:
                          CurrencyDisplayFormatConfiguration:
                            DecimalPlacesConfiguration:
                              DecimalPlaces: 3
                            NegativeValueConfiguration:
                              DisplayMode: POSITIVE
                            NullValueFormatConfiguration:
                              NullString: 'null'
                            SeparatorConfiguration:
                              DecimalSeparator: DOT
                              ThousandsSeparator:
                                Symbol: COMMA
                                Visibility: VISIBLE
                            Symbol: USD
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: Estimated_Year_3_Cost
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: 8f79307e-d233-428d-97b1-2640d410118d.18.1707159318206
              SortConfiguration:
                PaginationConfiguration:
                  PageNumber: 1
                  PageSize: 500
                RowSort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.instance_type.2.1707158882036
              TableOptions:
                HeaderStyle:
                  FontConfiguration:
                    FontSize:
                      Relative: LARGE
                  Height: 75
                  HorizontalTextAlignment: CENTER
                  TextWrap: WRAP
              TotalOptions:
                Placement: END
                TotalAggregationOptions:
                - FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_2_pricing.13.1707159152915
                  TotalAggregationFunction:
                    SimpleTotalAggregationFunction: NONE
                TotalsVisibility: VISIBLE
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Extended Support Estimated Cost Breakdown</visual-title>
              Visibility: VISIBLE
            VisualId: 3594d0e0-e54e-44ce-8f1f-e50229dc458c
        - TableVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFields:
                    - ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.4.1707158885687
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 0b847ce4-0391-4ea2-8d0c-60b037ba6462
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              FieldOptions:
                Order: []
                SelectedFieldOptions:
                - CustomLabel: RDS Type
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.rds_type.0.1707158874088
                  Width: 98px
                - CustomLabel: Engine
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engine.3.1707158884087
                  Width: 126px
                - CustomLabel: Engine Version
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.4.1707158885687
                  Width: 163px
                - CustomLabel: Year 1-2 Start
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_start.6.1707158897015
                - CustomLabel: Year 3 Start
                  FieldId: 850234b2-def9-429d-8484-48aaa38a168e.5.1710524537120
                - CustomLabel: End of Extended Support
                  FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.end_of_extended_support.8.1707158902436
              FieldWells:
                TableAggregatedFieldWells:
                  GroupBy:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: rds_type
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.rds_type.0.1707158874088
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engine
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engine.3.1707158884087
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.4.1707158885687
                  - DateDimensionField:
                      Column:
                        ColumnName: year_1_start
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_start.6.1707158897015
                  - DateDimensionField:
                      Column:
                        ColumnName: Year_3_Start_Fallback
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: 850234b2-def9-429d-8484-48aaa38a168e.5.1710524537120
                  - DateDimensionField:
                      Column:
                        ColumnName: end_of_extended_support
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.end_of_extended_support.8.1707158902436
                  Values: []
              SortConfiguration:
                RowSort:
                - FieldSort:
                    Direction: ASC
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.year_1_start.6.1707158897015
              TableOptions:
                HeaderStyle:
                  Height: 25
                  TextWrap: WRAP
            ConditionalFormatting:
              ConditionalFormattingOptions:
              - Row:
                  BackgroundColor:
                    Solid:
                      Color: '#FFFFFF'
                      Expression: AVG({Months_Before_Year_1_2_Ext_Support_Start}) >= 12
              - Row:
                  BackgroundColor:
                    Solid:
                      Color: '#FF8700'
                      Expression: AVG({Months_Before_Year_1_2_Ext_Support_Start}) >= 6
              - Row:
                  BackgroundColor:
                    Solid:
                      Color: '#FFB500'
                      Expression: AVG({Months_Before_Year_1_2_Ext_Support_Start}) >= 3
              - Row:
                  BackgroundColor:
                    Solid:
                      Color: '#DE3B00'
                      Expression: AVG({Months_Before_Year_1_2_Ext_Support_Start}) < 3
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>Extended Support Details</visual-title>
              Visibility: VISIBLE
            VisualId: 34d4af34-269d-42e3-86ad-e616a362fbd6
        - KPIVisual:
            Actions: []
            ChartConfiguration:
              FieldWells:
                TargetValues: []
                TrendGroups: []
                Values:
                - CategoricalMeasureField:
                    AggregationFunction: DISTINCT_COUNT
                    Column:
                      ColumnName: resource_id
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.resource_id.0.1707734597138
              KPIOptions:
                Comparison:
                  ComparisonMethod: PERCENT_DIFFERENCE
                PrimaryValueDisplayType: ACTUAL
                PrimaryValueFontConfiguration:
                  FontColor: '#DE3B00'
                  FontSize:
                    Relative: LARGE
                SecondaryValueFontConfiguration:
                  FontSize:
                    Relative: EXTRA_LARGE
                Sparkline:
                  TooltipVisibility: HIDDEN
                  Type: AREA
                  Visibility: VISIBLE
                VisualLayoutOptions:
                  StandardLayout:
                    Type: VERTICAL
              SortConfiguration: {}
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: |-
                  <visual-title>
                    <block align="center">
                      <inline font-size="16px">
                        <b>In less than 3 months</b>
                      </inline>
                    </block>
                  </visual-title>
              Visibility: VISIBLE
            VisualId: 9afc5e06-b00e-4345-8690-7424211c9bc5
        - BarChartVisual:
            Actions:
            - ActionOperations:
              - FilterOperation:
                  SelectedFieldsConfiguration:
                    SelectedFieldOptions: ALL_FIELDS
                  TargetVisualsConfiguration:
                    SameSheetTargetVisualConfiguration:
                      TargetVisualOptions: ALL_VISUALS
              CustomActionId: 8c61ba3e-3cea-4bb3-a45b-cf35bd316e85
              Name: Action 1
              Status: ENABLED
              Trigger: DATA_POINT_CLICK
            ChartConfiguration:
              BarsArrangement: STACKED
              CategoryLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: linked_account_id
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.linked_account_id.0.1707819946620
                  CustomLabel: Account
              DataLabels:
                LabelFontConfiguration:
                  FontSize:
                    Relative: LARGE
                Overlap: DISABLE_OVERLAP
                Visibility: VISIBLE
              FieldWells:
                BarChartAggregatedFieldWells:
                  Category:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: linked_account_id
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.linked_account_id.0.1707819946620
                  Colors:
                  - CategoricalDimensionField:
                      Column:
                        ColumnName: engineversion
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.2.1707819987988
                  Values:
                  - NumericalMeasureField:
                      AggregationFunction:
                        SimpleNumericalAggregation: SUM
                      Column:
                        ColumnName: vcpu_acu_hours
                        DataSetIdentifier: rds_extended_support_view
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
              Legend:
                Title:
                  CustomLabel: Engine Version
                Width: 147px
              Orientation: VERTICAL
              SortConfiguration:
                CategoryItemsLimit:
                  OtherCategories: INCLUDE
                CategorySort:
                - FieldSort:
                    Direction: DESC
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                ColorItemsLimit:
                  OtherCategories: INCLUDE
                SmallMultiplesLimitConfiguration:
                  OtherCategories: INCLUDE
              Tooltip:
                FieldBasedTooltip:
                  AggregationVisibility: HIDDEN
                  TooltipFields:
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.linked_account_id.0.1707819946620
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                      Visibility: VISIBLE
                  - FieldTooltipItem:
                      FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.engineversion.2.1707819987988
                      Visibility: VISIBLE
                  TooltipTitleType: PRIMARY_VALUE
                SelectedTooltipType: DETAILED
                TooltipVisibility: VISIBLE
              ValueAxis:
                AxisOffset: 71px
                TickLabelOptions:
                  LabelOptions:
                    FontConfiguration:
                      FontSize:
                        Relative: EXTRA_LARGE
              ValueLabelOptions:
                AxisLabelOptions:
                - ApplyTo:
                    Column:
                      ColumnName: vcpu_acu_hours
                      DataSetIdentifier: rds_extended_support_view
                    FieldId: ba51b0b7-2118-49f3-85f2-399ae50255b4.vcpu_acu_hours.1.1707819954700
                  CustomLabel: vCPU/ACU Hours
            ColumnHierarchies: []
            Subtitle:
              Visibility: VISIBLE
            Title:
              FormatText:
                RichText: <visual-title>vCPU/ACU Hours Breakdown - Engine by Account</visual-title>
              Visibility: VISIBLE
            VisualId: 7c913b40-495d-4f0c-bd2b-585f39e485e8
      - ContentType: INTERACTIVE
        Layouts:
        - Configuration:
            GridLayout:
              CanvasSizeOptions:
                ScreenCanvasSizeOptions:
                  OptimizedViewPortWidth: 1600px
                  ResizeOption: FIXED
              Elements:
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 95120cae-df6f-4a88-a44e-37b0e5265e84
                ElementType: TEXT_BOX
                RowIndex: 0
                RowSpan: 7
              - ColumnIndex: 0
                ColumnSpan: 36
                ElementId: 220552cd-5f25-460c-951f-98d1ccbda80d
                ElementType: TEXT_BOX
                RowIndex: 7
                RowSpan: 11
        Name: About
        SheetId: 225d0971-d8cf-41e4-8054-892d7d7fad61
        TextBoxes:
        - Content: "<text-box>\n  <inline font-size=\"54.88px\">Notices</inline>\n  <inline\
            \ font-size=\"12.8px\">\n    <img src=\"https://d66mvi2kszsvt.cloudfront.net/resources/dashboard-visual-analytics/About/header.png\"\
            \ width=\"11\"/>\n  </inline>\n  <br/>\n  <inline font-size=\"12.8px\"/>\n \
            \ <br/>\n  <inline font-size=\"22.4px\">Customers are responsible for making\
            \ their own independent assessment of\_this dashboard and its content.\_This\
            \ dashboard and its content: (a) is for informational purposes only, (b) represents\
            \ current AWS product offerings and practices, which are subject to change without\
            \ notice, and (c) does not create any commitments or assurances from AWS and\
            \ its affiliates, suppliers or licensors. AWS\_content, products or services\
            \ are provided \u201Cas is\u201D without warranties, representations, or conditions\
            \ of any kind, whether express or implied. The responsibilities and liabilities\
            \ of AWS to its customers are controlled by AWS agreements, and this document\
            \ is not part of, nor does it modify, any agreement between AWS and its customers.</inline>\n\
            </text-box>"
          SheetTextBoxId: 95120cae-df6f-4a88-a44e-37b0e5265e84
        - Content: "<text-box>\n  <block align=\"center\"/>\n  <br/>\n  <block align=\"\
            center\">\n    <inline color=\"#61d1d6\" font-size=\"68.8px\">\n      <a href=\"\
            https://catalog.workshops.aws/awscid/en-US/dashboards/advanced/rds-extended-support-cost-projection\"\
            \ target=\"_blank\">\n        <b>\n          <u>RDS Extended Support Cost Projection</u>\n\
            \        </b>\n      </a>\n    </inline>\n  </block>\n  <br/>\n  <block align=\"\
            center\">\n    <inline font-size=\"68.8px\">\n      <b>v1.0.0</b>\n    </inline>\n\
            \  </block>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block align=\"\
            center\"/>\n  <br/>\n  <block align=\"center\"/>\n  <br/>\n  <block align=\"\
            right\">Built by: Julio Chaves, Yuriy Prykhodko, Iakov Gan, Eric Christensen</block>\n\
            \  <br/>\n  <block align=\"right\">\n    Learn more\n    <a href=\"https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/\"\
            \ target=\"_blank\">\_</a>\n    about AWS Cloud Intelligence Dashboards (CID)\
            \ on\n    <inline color=\"#61d1d6\">\n      <a href=\"https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/\"\
            \ target=\"_blank\">\n        <u>AWS Well-Architected Labs</u>\n      </a>\n\
            \    </inline>\n    \_and\n    <inline color=\"#61d1d6\">\n      <a href=\"\
            https://www.youtube.com/channel/UCl0O3ASMCwA_gw0QIKzoU3Q\" target=\"_blank\"\
            >\n        <u>CID YouTube Channel</u>\n      </a>\n    </inline>\n  </block>\n\
            \  <br/>\n  <block align=\"right\">\n    If you wish to provide feedback please\
            \ or report an error please email:\n  <inline color=\"#61d1d6\">\n      <a href=\"mailto:cloud-intelligence-dashboards@amazon.com?subject=CUDOS%20Dashboard%20Feedback\"\
            \ target=\"_blank\">cloud-intelligence-dashboards@amazon.com</a>\n  </inline>\n  </block>\n\
            \  <br/>\n  <block align=\"right\">Powered by: Amazon QuickSight, Amazon Athena,\
            \ Amazon S3</block>\n  <br/>\n  <block align=\"right\"/>\n  <br/>\n  <block\
            \ align=\"center\"/>\n  <br/>\n  <block align=\"center\"/>\n</text-box>"
          SheetTextBoxId: 220552cd-5f25-460c-951f-98d1ccbda80d
        Visuals: []
datasets:
  rds_extended_support_view:
    data:
      DataSetId: 31961243-0137-4201-a8d1-c2a00755765e
      Name: rds_extended_support_view
      PhysicalTableMap:
        76a6ad9d-caf0-447f-8609-1c4d8fb89673:
          RelationalTable:
            DataSourceArn: ${athena_datasource_arn}
            Catalog: AwsDataCatalog
            Schema: ${athena_database_name}
            Name: rds_extended_support_view
            InputColumns:
            - Name: billing_period
              Type: DATETIME
            - Name: usage_date
              Type: DATETIME
            - Name: payer_account_id
              Type: STRING
            - Name: linked_account_id
              Type: STRING
            - Name: region_code
              Type: STRING
            - Name: rds_type
              Type: STRING
            - Name: deployment_option
              Type: STRING
            - Name: original_deployment_option
              Type: STRING
            - Name: original_usage_type
              Type: STRING
            - Name: engine
              Type: STRING
            - Name: engineversion
              Type: STRING
            - Name: instance_type_family
              Type: STRING
            - Name: instance_type
              Type: STRING
            - Name: item_description
              Type: STRING
            - Name: dbinstanceidentifier
              Type: STRING
            - Name: resource_id
              Type: STRING
            - Name: vcpus
              Type: INTEGER
            - Name: usage_unit
              Type: STRING
            - Name: usage_amount
              Type: DECIMAL
              SubType: FLOAT
            - Name: vcpu_acu_hours
              Type: DECIMAL
              SubType: FLOAT
            - Name: year_1_start
              Type: DATETIME
            - Name: is_year_1_2
              Type: STRING
            - Name: year_3_start
              Type: DATETIME
            - Name: is_year_3
              Type: STRING
            - Name: end_of_extended_support
              Type: DATETIME
            - Name: is_unsupported
              Type: STRING
            - Name: year_1_2_pricing
              Type: DECIMAL
              SubType: FLOAT
            - Name: year_1_2_cost
              Type: DECIMAL
              SubType: FLOAT
            - Name: year_3_pricing
              Type: DECIMAL
              SubType: FLOAT
            - Name: year_3_cost
              Type: DECIMAL
              SubType: FLOAT
      LogicalTableMap:
        ba51b0b7-2118-49f3-85f2-399ae50255b4:
          Alias: rds_extended_support_view
          DataTransforms:
          - ProjectOperation:
              ProjectedColumns:
              - billing_period
              - usage_date
              - payer_account_id
              - linked_account_id
              - region_code
              - rds_type
              - deployment_option
              - original_deployment_option
              - original_usage_type
              - engine
              - engineversion
              - instance_type_family
              - instance_type
              - item_description
              - dbinstanceidentifier
              - resource_id
              - vcpus
              - usage_unit
              - usage_amount
              - vcpu_acu_hours
              - year_1_start
              - is_year_1_2
              - year_3_start
              - is_year_3
              - end_of_extended_support
              - is_unsupported
              - year_1_2_pricing
              - year_1_2_cost
              - year_3_pricing
              - year_3_cost
          Source:
            PhysicalTableId: 76a6ad9d-caf0-447f-8609-1c4d8fb89673
      ImportMode: SPICE
    dependsOn:
      views:
      - rds_extended_support_view
    schedules:
    - default
views:
  rds_extended_support_view:
    dependsOn:
      cur: true
    data: |-
      CREATE OR REPLACE VIEW ${athena_database_name}.rds_extended_support_view AS
      WITH
        engine_release_calendar (engineversion, year_1_start, year_3_start, end_of_extended_support) AS (
         SELECT *
         FROM
           (
       VALUES
              ROW ('mysql5.7.37', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.38', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.39', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.40', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.41', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.42', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.43', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql5.7.44', CAST('2024-03-01' AS timestamp), CAST('2026-03-01' AS timestamp), CAST('2027-02-28' AS timestamp))
            , ROW ('mysql8.0.28', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('mysql8.0.31', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('mysql8.0.32', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('mysql8.0.33', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('mysql8.0.34', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('mysql8.0.35', CAST('2026-08-01' AS timestamp), CAST('2028-08-01' AS timestamp), CAST('2029-07-31' AS timestamp))
            , ROW ('postgres11.16', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.17', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.18', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.19', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.20', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.21', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('postgres11.22', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.11.1', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.11.2', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.11.3', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.11.4', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.12.0', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-mysql5.7.mysql_aurora.2.12.1', CAST('2024-12-01' AS timestamp), null, CAST('2027-02-28' AS timestamp))
            , ROW ('aurora-postgresql11.0', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.1', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.2', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.3', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.4', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.5', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.6', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.7', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.8', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.9', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.10', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.11', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.12', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.13', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.14', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.15', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.16', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.17', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.18', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.19', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.20', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
            , ROW ('aurora-postgresql11.21', CAST('2024-04-01' AS timestamp), CAST('2026-04-01' AS timestamp), CAST('2027-03-31' AS timestamp))
         )
      )
      , regions_pricing (rds_type, region_code, year_1_2_pricing, year_3_pricing) AS (
         SELECT *
         FROM
           (
       VALUES
              ROW ('AmazonRDS', 'eu-south-1', 1.176E-1, 2.352E-1)
            , ROW ('AmazonRDS', 'us-west-2', 1E-1, 2E-1)
            , ROW ('AmazonRDS', 'ap-south-2', 1.14E-1, 2.28E-1)
            , ROW ('AmazonRDS', 'me-central-1', 1.23E-1, 2.464E-1)
            , ROW ('AmazonRDS', 'eu-west-3', 1.176E-1, 2.352E-1)
            , ROW ('AmazonRDS', 'us-east-2', 1E-1, 2E-1)
            , ROW ('AmazonRDS', 'sa-east-1', 2.096E-1, 4.192E-1)
            , ROW ('AmazonRDS', 'me-south-1', 1.232E-1, 2.464E-1)
            , ROW ('AmazonRDS', 'ap-northeast-2', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'ap-southeast-2', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'us-west-1', 1.12E-1, 2.24E-1)
            , ROW ('AmazonRDS', 'ca-central-1', 1.08E-1, 2.16E-1)
            , ROW ('AmazonRDS', 'eu-north-1', 1.028E-1, 2.056E-1)
            , ROW ('AmazonRDS', 'ap-southeast-3', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'ap-east-1', 1.32E-1, 2.64E-1)
            , ROW ('AmazonRDS', 'eu-central-2', 1.344E-1, 2.688E-1)
            , ROW ('AmazonRDS', 'eu-west-2', 1.176E-1, 2.352E-1)
            , ROW ('AmazonRDS', 'ap-south-1', 1.14E-1, 2.28E-1)
            , ROW ('AmazonRDS', 'eu-west-1', 1.12E-1, 2.24E-1)
            , ROW ('AmazonRDS', 'us-east-1', 1E-1, 2E-1)
            , ROW ('AmazonRDS', 'ap-southeast-1', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'ap-northeast-3', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'eu-south-2', 1.12E-1, 2.24E-1)
            , ROW ('AmazonRDS', 'eu-central-1', 1.22E-1, 2.44E-1)
            , ROW ('AmazonRDS', 'ap-northeast-1', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'af-south-1', 1.332E-1, 2.664E-1)
            , ROW ('AmazonRDS', 'us-west-2-lax-1', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'ap-southeast-4', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'il-central-1', 1.176E-1, 2.352E-1)
            , ROW ('AmazonRDS', 'us-gov-east-1', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'us-gov-west-1', 1.2E-1, 2.4E-1)
            , ROW ('AmazonRDS', 'cn-north-1', 9.74E-1, 1.948E0)
            , ROW ('AmazonRDS', 'cn-northwest-1', 6.68E-1, 1.336E0)
            , ROW ('Aurora', 'eu-south-1', 9.996E-2, 1.9992E-1)
            , ROW ('Aurora', 'us-west-2', 8.5E-2, 1.7E-1)
            , ROW ('Aurora', 'ap-south-2', 9.69E-2, 1.938E-1)
            , ROW ('Aurora', 'me-central-1', 1.0472E-1, 2.0944E-1)
            , ROW ('Aurora', 'eu-west-3', 9.996E-2, 1.9992E-1)
            , ROW ('Aurora', 'us-east-2', 8.5E-2, 1.7E-1)
            , ROW ('Aurora', 'sa-east-1', 1.7816E-1, 3.5632E-1)
            , ROW ('Aurora', 'me-south-1', 1.0472E-1, 2.0944E-1)
            , ROW ('Aurora', 'ap-northeast-2', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'ap-southeast-2', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'us-west-1', 9.52E-2, 1.904E-1)
            , ROW ('Aurora', 'ca-central-1', 9.18E-2, 1.836E-1)
            , ROW ('Aurora', 'eu-north-1', 8.738E-2, 1.7476E-1)
            , ROW ('Aurora', 'ap-southeast-3', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'ap-east-1', 1.122E-1, 2.244E-1)
            , ROW ('Aurora', 'eu-central-2', 1.1424E-1, 2.2848E-1)
            , ROW ('Aurora', 'eu-west-2', 9.996E-2, 1.9992E-1)
            , ROW ('Aurora', 'ap-south-1', 9.69E-2, 1.938E-1)
            , ROW ('Aurora', 'eu-west-1', 9.52E-2, 1.904E-1)
            , ROW ('Aurora', 'us-east-1', 8.5E-2, 1.7E-1)
            , ROW ('Aurora', 'ap-southeast-1', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'ap-northeast-3', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'eu-south-2', 9.52E-2, 1.904E-1)
            , ROW ('Aurora', 'eu-central-1', 1.037E-1, 2.074E-1)
            , ROW ('Aurora', 'ap-northeast-1', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'af-south-1', 1.1322E-1, 2.2644E-1)
            , ROW ('Aurora', 'us-west-2-lax-1', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'ap-southeast-4', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'il-central-1', 9.996E-2, 1.9992E-1)
            , ROW ('Aurora', 'us-gov-east-1', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'us-gov-west-1', 1.02E-1, 2.04E-1)
            , ROW ('Aurora', 'cn-north-1', 8.28E-1, 1.656E0)
            , ROW ('Aurora', 'cn-northwest-1', 5.68E-1, 1.136E0)
         )
      )
      , sanitised_rds_instances (payer_id, accountid, region, dbinstanceidentifier, engine, engineversion) AS (
         SELECT DISTINCT
           payer_id
         , accountid
         , region
         , dbinstanceidentifier
         , engine
         , engineversion
         FROM
           ${data_collection_database_name}.inventory_rds_db_instances_data
         WHERE (CAST("concat"("year", '-', "month", '-', "day") AS date) >= ("date_trunc"('day', current_date) - INTERVAL  '15' DAY))
      )
      , rds_instances (billing_period, usage_date, payer_account_id, linked_account_id, region_code, rds_type, deployment_option, engine, engineversion, instance_type_family, instance_type, item_description, vcpus, usage_unit, dbinstanceidentifier, resource_id, original_deployment_option, original_usage_type, usage_amount, vcpu_acu_hours) AS (
         SELECT
           c.bill_billing_period_start_date
         , date_trunc('day', c.line_item_usage_start_date)
         , c.bill_payer_account_id payer_account_id
         , c.line_item_usage_account_id linked_account_id
         , c.product_region
         , (CASE WHEN (c.product_database_engine LIKE 'Aurora%') THEN 'Aurora' ELSE 'AmazonRDS' END) rds_type
         , (CASE WHEN (c.line_item_usage_type LIKE '%InstanceUsage%') THEN 'SINGLE-AZ' WHEN (c.line_item_usage_type LIKE '%Multi-AZUsage%') THEN 'MULTI-AZ' WHEN (c.line_item_usage_type LIKE '%Multi-AZClusterUsage%') THEN 'MULTI-AZ-CLUSTER' WHEN ((c.product_product_family = 'Serverless') AND (c.line_item_usage_type = 'Aurora:ServerlessUsage')) THEN 'SERVERLESS' ELSE 'UNDEFINED (Check the usage type)' END)
         , (CASE WHEN (rdsu.engine IS NOT NULL) THEN rdsu.engine ELSE c.product_database_engine END)
         , (CASE WHEN ((rdsu.engine IS NOT NULL) AND (rdsu.engineversion IS NOT NULL)) THEN CONCAT(rdsu.engine, rdsu.engineversion) ELSE 'engine-1.-1.-1' END)
         , c.product_instance_type_family
         , c.product_instance_type
         , c.line_item_line_item_description
         , (CASE WHEN ((c.product_product_family = 'Serverless') AND (c.line_item_usage_type = 'Aurora:ServerlessUsage')) THEN 0 ELSE CAST(c.product_vcpu AS int) END)
         , (CASE WHEN ((c.product_product_family = 'Serverless') AND (c.line_item_usage_type = 'Aurora:ServerlessUsage')) THEN 'acu-hour' ELSE 'vcpu-hour' END)
         , split_part(c.line_item_resource_id, ':', 7)
         , c.line_item_resource_id
         , c.product_deployment_option
         , c.line_item_usage_type
         , sum(c.line_item_usage_amount)
         , sum((CASE WHEN (c.pricing_unit = 'ACU-Hr') THEN c.line_item_usage_amount ELSE (CAST(c.product_vcpu AS int) * c.line_item_usage_amount) END))
         FROM
           (${cur_database_name}.${cur_table_name} c
         INNER JOIN sanitised_rds_instances rdsu ON ((c.bill_payer_account_id = rdsu.payer_id) AND (c.line_item_usage_account_id = rdsu.accountid) AND (c.product_region = rdsu.region) AND (split_part(c.line_item_resource_id, ':', 7) = rdsu.dbinstanceidentifier)))
         WHERE (((c.bill_billing_period_start_date >= ("date_trunc"('month', current_timestamp) - INTERVAL  '4' MONTH)) AND (CAST(concat(c.year, '-', c.month, '-01') AS date) >= (date_trunc('month', current_date) - INTERVAL  '4' MONTH))) AND (c.product_servicecode = 'AmazonRDS') AND (c.line_item_line_item_type IN ('DiscountedUsage', 'Usage')) AND ((c.product_product_family = 'Database Instance') OR ((c.product_product_family = 'Serverless') AND (c.line_item_usage_type = 'Aurora:ServerlessUsage'))))
         GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18
      )
      SELECT
        rdsi.billing_period
      , rdsi.usage_date
      , rdsi.payer_account_id
      , rdsi.linked_account_id
      , rdsi.region_code
      , rdsi.rds_type
      , rdsi.deployment_option
      , rdsi.original_deployment_option
      , rdsi.original_usage_type
      , rdsi.engine
      , rdsi.engineversion
      , rdsi.instance_type_family
      , rdsi.instance_type
      , rdsi.item_description
      , rdsi.dbinstanceidentifier
      , rdsi.resource_id
      , rdsi.vcpus
      , rdsi.usage_unit
      , rdsi.usage_amount
      , rdsi.vcpu_acu_hours
      , erc.year_1_start
      , (CASE WHEN ((current_timestamp >= erc.year_1_start) AND (current_timestamp < erc.year_3_start)) THEN 'Y' ELSE 'N' END) is_year_1_2
      , erc.year_3_start
      , (CASE WHEN ((current_timestamp >= erc.year_3_start) AND (current_timestamp < erc.end_of_extended_support)) THEN 'Y' ELSE 'N' END) is_year_3
      , erc.end_of_extended_support
      , (CASE WHEN (current_timestamp >= erc.end_of_extended_support) THEN 'Y' ELSE 'N' END) is_unsupported
      , rp.year_1_2_pricing
      , (CASE WHEN ((current_timestamp >= erc.year_1_start) AND (current_timestamp < erc.year_3_start)) THEN (rdsi.vcpu_acu_hours * rp.year_1_2_pricing) ELSE 0 END) year_1_2_cost
      , rp.year_3_pricing
      , (CASE WHEN ((current_timestamp >= erc.year_3_start) AND (current_timestamp < erc.end_of_extended_support)) THEN (rdsi.vcpu_acu_hours * rp.year_3_pricing) ELSE 0 END) year_3_cost
      FROM
        ((rds_instances rdsi
      INNER JOIN regions_pricing rp ON (rdsi.region_code = rp.region_code))
      INNER JOIN engine_release_calendar erc ON (rdsi.engineversion = erc.engineversion))
      WHERE (rdsi.rds_type = rp.rds_type)
    parameters:
        cur_database_name:
          default: cid_cur
          description: "Enter the name of the CUR database"
          global: True
        cur_table_name:
          default: cur
          description: "Enter the name of the CUR table"
          global: True
        data_collection_database_name:
          default: optimization_data
          description: "Enter the name of the data collection database"
          global: True
